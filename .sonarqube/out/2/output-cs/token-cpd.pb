øÃ
.D:\backend\LXP.Data\DBContexts\LXPDbContext.cs
	namespace 	
LXP
 
. 
Common 
. 
Entities 
; 
public		 
partial		 
class		 
LXPDbContext		 !
:		" #
	DbContext		$ -
{

 
public 

LXPDbContext 
( 
) 
{ 
} 
public 

LXPDbContext 
( 
DbContextOptions (
<( )
LXPDbContext) 5
>5 6
options7 >
)> ?
: 	
base
 
( 
options 
) 
{ 
} 
public 

virtual 
DbSet 
< 
Course 
>  
Courses! (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 

virtual 
DbSet 
< 
CourseCategory '
>' (
CourseCategories) 9
{: ;
get< ?
;? @
setA D
;D E
}F G
public 

virtual 
DbSet 
< 
CourseLevel $
>$ %
CourseLevels& 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 

virtual 
DbSet 
< 

Enrollment #
># $
Enrollments% 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 

virtual 
DbSet 
< #
Feedbackquestionsoption 0
>0 1$
Feedbackquestionsoptions2 J
{K L
getM P
;P Q
setR U
;U V
}W X
public 

virtual 
DbSet 
< 
Feedbackresponse )
>) *
Feedbackresponses+ <
{= >
get? B
;B C
setD G
;G H
}I J
public   

virtual   
DbSet   
<   
Learner    
>    !
Learners  " *
{  + ,
get  - 0
;  0 1
set  2 5
;  5 6
}  7 8
public"" 

virtual"" 
DbSet"" 
<"" 
LearnerAnswer"" &
>""& '
LearnerAnswers""( 6
{""7 8
get""9 <
;""< =
set""> A
;""A B
}""C D
public$$ 

virtual$$ 
DbSet$$ 
<$$ 
LearnerAttempt$$ '
>$$' (
LearnerAttempts$$) 8
{$$9 :
get$$; >
;$$> ?
set$$@ C
;$$C D
}$$E F
public&& 

virtual&& 
DbSet&& 
<&& 
LearnerProfile&& '
>&&' (
LearnerProfiles&&) 8
{&&9 :
get&&; >
;&&> ?
set&&@ C
;&&C D
}&&E F
public(( 

virtual(( 
DbSet(( 
<(( 
LearnerProgress(( (
>((( )
LearnerProgresses((* ;
{((< =
get((> A
;((A B
set((C F
;((F G
}((H I
public** 

virtual** 
DbSet** 
<** 
Material** !
>**! "
	Materials**# ,
{**- .
get**/ 2
;**2 3
set**4 7
;**7 8
}**9 :
public,, 

virtual,, 
DbSet,, 
<,, 
MaterialType,, %
>,,% &
MaterialTypes,,' 4
{,,5 6
get,,7 :
;,,: ;
set,,< ?
;,,? @
},,A B
public.. 

virtual.. 
DbSet.. 
<.. 
PasswordHistory.. (
>..( )
PasswordHistories..* ;
{..< =
get..> A
;..A B
set..C F
;..F G
}..H I
public00 

virtual00 
DbSet00 
<00 
QuestionOption00 '
>00' (
QuestionOptions00) 8
{009 :
get00; >
;00> ?
set00@ C
;00C D
}00E F
public22 

virtual22 
DbSet22 
<22 
Quiz22 
>22 
Quizzes22 &
{22' (
get22) ,
;22, -
set22. 1
;221 2
}223 4
public44 

virtual44 
DbSet44 
<44 
QuizQuestion44 %
>44% &
QuizQuestions44' 4
{445 6
get447 :
;44: ;
set44< ?
;44? @
}44A B
public66 

virtual66 
DbSet66 
<66  
Quizfeedbackquestion66 -
>66- .!
Quizfeedbackquestions66/ D
{66E F
get66G J
;66J K
set66L O
;66O P
}66Q R
public88 

virtual88 
DbSet88 
<88 
Topic88 
>88 
Topics88  &
{88' (
get88) ,
;88, -
set88. 1
;881 2
}883 4
public:: 

virtual:: 
DbSet:: 
<:: !
Topicfeedbackquestion:: .
>::. /"
Topicfeedbackquestions::0 F
{::G H
get::I L
;::L M
set::N Q
;::Q R
}::S T
	protected<< 
override<< 
void<< 
OnConfiguring<< )
(<<) *#
DbContextOptionsBuilder<<* A
optionsBuilder<<B P
)<<P Q
=>>> 

optionsBuilder>> 
.>> 
UseMySql>> "
(>>" #
$str>># ^
,>>^ _
	Microsoft>>` i
.>>i j
EntityFrameworkCore>>j }
.>>} ~
ServerVersion	>>~ ã
.
>>ã å
Parse
>>å ë
(
>>ë í
$str
>>í †
)
>>† °
)
>>° ¢
;
>>¢ £
	protected@@ 
override@@ 
void@@ 
OnModelCreating@@ +
(@@+ ,
ModelBuilder@@, 8
modelBuilder@@9 E
)@@E F
{AA 
modelBuilderBB 
.CC 
UseCollationCC 
(CC 
$strCC .
)CC. /
.DD 

HasCharSetDD 
(DD 
$strDD !
)DD! "
;DD" #
modelBuilderFF 
.FF 
EntityFF 
<FF 
CourseFF "
>FF" #
(FF# $
entityFF$ *
=>FF+ -
{GG 	
entityHH 
.HH 
HasKeyHH 
(HH 
eHH 
=>HH 
eHH  
.HH  !
CourseIdHH! )
)HH) *
.HH* +
HasNameHH+ 2
(HH2 3
$strHH3 <
)HH< =
;HH= >
entityJJ 
.JJ 
ToTableJJ 
(JJ 
$strJJ #
)JJ# $
;JJ$ %
entityLL 
.LL 
HasIndexLL 
(LL 
eLL 
=>LL  
eLL! "
.LL" #

CategoryIdLL# -
,LL- .
$strLL/ F
)LLF G
;LLG H
entityNN 
.NN 
HasIndexNN 
(NN 
eNN 
=>NN  
eNN! "
.NN" #
LevelIdNN# *
,NN* +
$strNN, @
)NN@ A
;NNA B
entityPP 
.PP 
PropertyPP 
(PP 
ePP 
=>PP  
ePP! "
.PP" #
CourseIdPP# +
)PP+ ,
.QQ 
HasColumnNameQQ 
(QQ 
$strQQ *
)QQ* +
.RR 
UseCollationRR 
(RR 
$strRR 0
)RR0 1
.SS 

HasCharSetSS 
(SS 
$strSS #
)SS# $
;SS$ %
entityTT 
.TT 
PropertyTT 
(TT 
eTT 
=>TT  
eTT! "
.TT" #

CategoryIdTT# -
)TT- .
.UU 
HasColumnNameUU 
(UU 
$strUU ,
)UU, -
.VV 
UseCollationVV 
(VV 
$strVV 0
)VV0 1
.WW 

HasCharSetWW 
(WW 
$strWW #
)WW# $
;WW$ %
entityXX 
.XX 
PropertyXX 
(XX 
eXX 
=>XX  
eXX! "
.XX" #
	CreatedAtXX# ,
)XX, -
.YY 
HasColumnTypeYY 
(YY 
$strYY )
)YY) *
.ZZ 
HasColumnNameZZ 
(ZZ 
$strZZ +
)ZZ+ ,
;ZZ, -
entity[[ 
.[[ 
Property[[ 
([[ 
e[[ 
=>[[  
e[[! "
.[[" #
	CreatedBy[[# ,
)[[, -
.[[- .
HasColumnName[[. ;
([[; <
$str[[< H
)[[H I
;[[I J
entity\\ 
.\\ 
Property\\ 
(\\ 
e\\ 
=>\\  
e\\! "
.\\" #
Description\\# .
)\\. /
.\\/ 0
HasColumnName\\0 =
(\\= >
$str\\> K
)\\K L
;\\L M
entity]] 
.]] 
Property]] 
(]] 
e]] 
=>]]  
e]]! "
.]]" #
Duration]]# +
)]]+ ,
.]], -
HasColumnName]]- :
(]]: ;
$str]]; E
)]]E F
;]]F G
entity^^ 
.^^ 
Property^^ 
(^^ 
e^^ 
=>^^  
e^^! "
.^^" #
IsActive^^# +
)^^+ ,
.^^, -
HasColumnName^^- :
(^^: ;
$str^^; F
)^^F G
;^^G H
entity__ 
.__ 
Property__ 
(__ 
e__ 
=>__  
e__! "
.__" #
IsAvailable__# .
)__. /
.__/ 0
HasColumnName__0 =
(__= >
$str__> L
)__L M
;__M N
entity`` 
.`` 
Property`` 
(`` 
e`` 
=>``  
e``! "
.``" #
LevelId``# *
)``* +
.aa 
HasColumnNameaa 
(aa 
$straa )
)aa) *
.bb 
UseCollationbb 
(bb 
$strbb 0
)bb0 1
.cc 

HasCharSetcc 
(cc 
$strcc #
)cc# $
;cc$ %
entitydd 
.dd 
Propertydd 
(dd 
edd 
=>dd  
edd! "
.dd" #

ModifiedAtdd# -
)dd- .
.ee 
HasColumnTypeee 
(ee 
$stree )
)ee) *
.ff 
HasColumnNameff 
(ff 
$strff ,
)ff, -
;ff- .
entitygg 
.gg 
Propertygg 
(gg 
egg 
=>gg  
egg! "
.gg" #

ModifiedBygg# -
)gg- .
.gg. /
HasColumnNamegg/ <
(gg< =
$strgg= J
)ggJ K
;ggK L
entityhh 
.hh 
Propertyhh 
(hh 
ehh 
=>hh  
ehh! "
.hh" #
	Thumbnailhh# ,
)hh, -
.hh- .
HasColumnNamehh. ;
(hh; <
$strhh< G
)hhG H
;hhH I
entityii 
.ii 
Propertyii 
(ii 
eii 
=>ii  
eii! "
.ii" #
Titleii# (
)ii( )
.jj 
HasMaxLengthjj 
(jj 
$numjj  
)jj  !
.kk 
HasColumnNamekk 
(kk 
$strkk &
)kk& '
;kk' (
entitymm 
.mm 
HasOnemm 
(mm 
dmm 
=>mm 
dmm  
.mm  !
Categorymm! )
)mm) *
.mm* +
WithManymm+ 3
(mm3 4
pmm4 5
=>mm6 8
pmm9 :
.mm: ;
Coursesmm; B
)mmB C
.mmC D
HasForeignKeymmD Q
(mmQ R
dmmR S
=>mmT V
dmmW X
.mmX Y

CategoryIdmmY c
)mmc d
;mmd e
entityoo 
.oo 
HasOneoo 
(oo 
doo 
=>oo 
doo  
.oo  !
Leveloo! &
)oo& '
.oo' (
WithManyoo( 0
(oo0 1
poo1 2
=>oo3 5
poo6 7
.oo7 8
Coursesoo8 ?
)oo? @
.oo@ A
HasForeignKeyooA N
(ooN O
dooO P
=>ooQ S
dooT U
.ooU V
LevelIdooV ]
)oo] ^
;oo^ _
}pp 	
)pp	 

;pp
 
modelBuilderrr 
.rr 
Entityrr 
<rr 
CourseCategoryrr *
>rr* +
(rr+ ,
entityrr, 2
=>rr3 5
{ss 	
entitytt 
.tt 
HasKeytt 
(tt 
ett 
=>tt 
ett  
.tt  !

CategoryIdtt! +
)tt+ ,
.tt, -
HasNamett- 4
(tt4 5
$strtt5 >
)tt> ?
;tt? @
entityvv 
.vv 
ToTablevv 
(vv 
$strvv ,
)vv, -
;vv- .
entityxx 
.xx 
Propertyxx 
(xx 
exx 
=>xx  
exx! "
.xx" #

CategoryIdxx# -
)xx- .
.yy 
HasColumnNameyy 
(yy 
$stryy ,
)yy, -
.zz 
UseCollationzz 
(zz 
$strzz 0
)zz0 1
.{{ 

HasCharSet{{ 
({{ 
$str{{ #
){{# $
;{{$ %
entity|| 
.|| 
Property|| 
(|| 
e|| 
=>||  
e||! "
.||" #
Category||# +
)||+ ,
.}} 
HasMaxLength}} 
(}} 
$num}}  
)}}  !
.~~ 
HasColumnName~~ 
(~~ 
$str~~ )
)~~) *
;~~* +
entity 
. 
Property 
( 
e 
=>  
e! "
." #
	CreatedAt# ,
), -
.
ÄÄ 
HasColumnType
ÄÄ 
(
ÄÄ 
$str
ÄÄ )
)
ÄÄ) *
.
ÅÅ 
HasColumnName
ÅÅ 
(
ÅÅ 
$str
ÅÅ +
)
ÅÅ+ ,
;
ÅÅ, -
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
	CreatedBy
ÇÇ# ,
)
ÇÇ, -
.
ÇÇ- .
HasColumnName
ÇÇ. ;
(
ÇÇ; <
$str
ÇÇ< H
)
ÇÇH I
;
ÇÇI J
entity
ÉÉ 
.
ÉÉ 
Property
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ  
e
ÉÉ! "
.
ÉÉ" #

ModifiedAt
ÉÉ# -
)
ÉÉ- .
.
ÑÑ 
HasColumnType
ÑÑ 
(
ÑÑ 
$str
ÑÑ )
)
ÑÑ) *
.
ÖÖ 
HasColumnName
ÖÖ 
(
ÖÖ 
$str
ÖÖ ,
)
ÖÖ, -
;
ÖÖ- .
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #

ModifiedBy
ÜÜ# -
)
ÜÜ- .
.
ÜÜ. /
HasColumnName
ÜÜ/ <
(
ÜÜ< =
$str
ÜÜ= J
)
ÜÜJ K
;
ÜÜK L
}
áá 	
)
áá	 

;
áá
 
modelBuilder
ââ 
.
ââ 
Entity
ââ 
<
ââ 
CourseLevel
ââ '
>
ââ' (
(
ââ( )
entity
ââ) /
=>
ââ0 2
{
ää 	
entity
ãã 
.
ãã 
HasKey
ãã 
(
ãã 
e
ãã 
=>
ãã 
e
ãã  
.
ãã  !
LevelId
ãã! (
)
ãã( )
.
ãã) *
HasName
ãã* 1
(
ãã1 2
$str
ãã2 ;
)
ãã; <
;
ãã< =
entity
çç 
.
çç 
ToTable
çç 
(
çç 
$str
çç *
)
çç* +
;
çç+ ,
entity
èè 
.
èè 
Property
èè 
(
èè 
e
èè 
=>
èè  
e
èè! "
.
èè" #
LevelId
èè# *
)
èè* +
.
êê 
HasColumnName
êê 
(
êê 
$str
êê )
)
êê) *
.
ëë 
UseCollation
ëë 
(
ëë 
$str
ëë 0
)
ëë0 1
.
íí 

HasCharSet
íí 
(
íí 
$str
íí #
)
íí# $
;
íí$ %
entity
ìì 
.
ìì 
Property
ìì 
(
ìì 
e
ìì 
=>
ìì  
e
ìì! "
.
ìì" #
	CreatedAt
ìì# ,
)
ìì, -
.
îî 
HasColumnType
îî 
(
îî 
$str
îî )
)
îî) *
.
ïï 
HasColumnName
ïï 
(
ïï 
$str
ïï +
)
ïï+ ,
;
ïï, -
entity
ññ 
.
ññ 
Property
ññ 
(
ññ 
e
ññ 
=>
ññ  
e
ññ! "
.
ññ" #
	CreatedBy
ññ# ,
)
ññ, -
.
ññ- .
HasColumnName
ññ. ;
(
ññ; <
$str
ññ< H
)
ññH I
;
ññI J
entity
óó 
.
óó 
Property
óó 
(
óó 
e
óó 
=>
óó  
e
óó! "
.
óó" #
Level
óó# (
)
óó( )
.
òò 
HasMaxLength
òò 
(
òò 
$num
òò  
)
òò  !
.
ôô 
HasColumnName
ôô 
(
ôô 
$str
ôô &
)
ôô& '
;
ôô' (
entity
öö 
.
öö 
Property
öö 
(
öö 
e
öö 
=>
öö  
e
öö! "
.
öö" #

ModifiedAt
öö# -
)
öö- .
.
õõ 
HasColumnType
õõ 
(
õõ 
$str
õõ )
)
õõ) *
.
úú 
HasColumnName
úú 
(
úú 
$str
úú ,
)
úú, -
;
úú- .
entity
ùù 
.
ùù 
Property
ùù 
(
ùù 
e
ùù 
=>
ùù  
e
ùù! "
.
ùù" #

ModifiedBy
ùù# -
)
ùù- .
.
ùù. /
HasColumnName
ùù/ <
(
ùù< =
$str
ùù= J
)
ùùJ K
;
ùùK L
}
ûû 	
)
ûû	 

;
ûû
 
modelBuilder
†† 
.
†† 
Entity
†† 
<
†† 

Enrollment
†† &
>
††& '
(
††' (
entity
††( .
=>
††/ 1
{
°° 	
entity
¢¢ 
.
¢¢ 
HasKey
¢¢ 
(
¢¢ 
e
¢¢ 
=>
¢¢ 
e
¢¢  
.
¢¢  !
EnrollmentId
¢¢! -
)
¢¢- .
.
¢¢. /
HasName
¢¢/ 6
(
¢¢6 7
$str
¢¢7 @
)
¢¢@ A
;
¢¢A B
entity
§§ 
.
§§ 
ToTable
§§ 
(
§§ 
$str
§§ (
)
§§( )
;
§§) *
entity
¶¶ 
.
¶¶ 
HasIndex
¶¶ 
(
¶¶ 
e
¶¶ 
=>
¶¶  
e
¶¶! "
.
¶¶" #
CourseId
¶¶# +
,
¶¶+ ,
$str
¶¶- G
)
¶¶G H
;
¶¶H I
entity
®® 
.
®® 
HasIndex
®® 
(
®® 
e
®® 
=>
®®  
e
®®! "
.
®®" #
	LearnerId
®®# ,
,
®®, -
$str
®®. I
)
®®I J
;
®®J K
entity
™™ 
.
™™ 
Property
™™ 
(
™™ 
e
™™ 
=>
™™  
e
™™! "
.
™™" #
EnrollmentId
™™# /
)
™™/ 0
.
´´ 
HasColumnName
´´ 
(
´´ 
$str
´´ .
)
´´. /
.
¨¨ 
UseCollation
¨¨ 
(
¨¨ 
$str
¨¨ 0
)
¨¨0 1
.
≠≠ 

HasCharSet
≠≠ 
(
≠≠ 
$str
≠≠ #
)
≠≠# $
;
≠≠$ %
entity
ÆÆ 
.
ÆÆ 
Property
ÆÆ 
(
ÆÆ 
e
ÆÆ 
=>
ÆÆ  
e
ÆÆ! "
.
ÆÆ" #
CompletedStatus
ÆÆ# 2
)
ÆÆ2 3
.
ÆÆ3 4
HasColumnName
ÆÆ4 A
(
ÆÆA B
$str
ÆÆB T
)
ÆÆT U
;
ÆÆU V
entity
ØØ 
.
ØØ 
Property
ØØ 
(
ØØ 
e
ØØ 
=>
ØØ  
e
ØØ! "
.
ØØ" #
CourseId
ØØ# +
)
ØØ+ ,
.
∞∞ 
HasColumnName
∞∞ 
(
∞∞ 
$str
∞∞ *
)
∞∞* +
.
±± 
UseCollation
±± 
(
±± 
$str
±± 0
)
±±0 1
.
≤≤ 

HasCharSet
≤≤ 
(
≤≤ 
$str
≤≤ #
)
≤≤# $
;
≤≤$ %
entity
≥≥ 
.
≥≥ 
Property
≥≥ 
(
≥≥ 
e
≥≥ 
=>
≥≥  
e
≥≥! "
.
≥≥" #
	CreatedAt
≥≥# ,
)
≥≥, -
.
¥¥ 
HasColumnType
¥¥ 
(
¥¥ 
$str
¥¥ )
)
¥¥) *
.
µµ 
HasColumnName
µµ 
(
µµ 
$str
µµ +
)
µµ+ ,
;
µµ, -
entity
∂∂ 
.
∂∂ 
Property
∂∂ 
(
∂∂ 
e
∂∂ 
=>
∂∂  
e
∂∂! "
.
∂∂" #
	CreatedBy
∂∂# ,
)
∂∂, -
.
∂∂- .
HasColumnName
∂∂. ;
(
∂∂; <
$str
∂∂< H
)
∂∂H I
;
∂∂I J
entity
∑∑ 
.
∑∑ 
Property
∑∑ 
(
∑∑ 
e
∑∑ 
=>
∑∑  
e
∑∑! "
.
∑∑" #
EnrollStatus
∑∑# /
)
∑∑/ 0
.
∑∑0 1
HasColumnName
∑∑1 >
(
∑∑> ?
$str
∑∑? N
)
∑∑N O
;
∑∑O P
entity
∏∏ 
.
∏∏ 
Property
∏∏ 
(
∏∏ 
e
∏∏ 
=>
∏∏  
e
∏∏! "
.
∏∏" #
EnrollmentDate
∏∏# 1
)
∏∏1 2
.
ππ 
HasColumnType
ππ 
(
ππ 
$str
ππ )
)
ππ) *
.
∫∫ 
HasColumnName
∫∫ 
(
∫∫ 
$str
∫∫ 0
)
∫∫0 1
;
∫∫1 2
entity
ªª 
.
ªª 
Property
ªª 
(
ªª 
e
ªª 
=>
ªª  
e
ªª! "
.
ªª" #
	LearnerId
ªª# ,
)
ªª, -
.
ºº 
HasColumnName
ºº 
(
ºº 
$str
ºº +
)
ºº+ ,
.
ΩΩ 
UseCollation
ΩΩ 
(
ΩΩ 
$str
ΩΩ 0
)
ΩΩ0 1
.
ææ 

HasCharSet
ææ 
(
ææ 
$str
ææ #
)
ææ# $
;
ææ$ %
entity
øø 
.
øø 
Property
øø 
(
øø 
e
øø 
=>
øø  
e
øø! "
.
øø" #

ModifiedAt
øø# -
)
øø- .
.
¿¿ 
HasColumnType
¿¿ 
(
¿¿ 
$str
¿¿ )
)
¿¿) *
.
¡¡ 
HasColumnName
¡¡ 
(
¡¡ 
$str
¡¡ ,
)
¡¡, -
;
¡¡- .
entity
¬¬ 
.
¬¬ 
Property
¬¬ 
(
¬¬ 
e
¬¬ 
=>
¬¬  
e
¬¬! "
.
¬¬" #

ModifiedBy
¬¬# -
)
¬¬- .
.
¬¬. /
HasColumnName
¬¬/ <
(
¬¬< =
$str
¬¬= J
)
¬¬J K
;
¬¬K L
entity
ƒƒ 
.
ƒƒ 
HasOne
ƒƒ 
(
ƒƒ 
d
ƒƒ 
=>
ƒƒ 
d
ƒƒ  
.
ƒƒ  !
Course
ƒƒ! '
)
ƒƒ' (
.
ƒƒ( )
WithMany
ƒƒ) 1
(
ƒƒ1 2
p
ƒƒ2 3
=>
ƒƒ4 6
p
ƒƒ7 8
.
ƒƒ8 9
Enrollments
ƒƒ9 D
)
ƒƒD E
.
ƒƒE F
HasForeignKey
ƒƒF S
(
ƒƒS T
d
ƒƒT U
=>
ƒƒV X
d
ƒƒY Z
.
ƒƒZ [
CourseId
ƒƒ[ c
)
ƒƒc d
;
ƒƒd e
entity
∆∆ 
.
∆∆ 
HasOne
∆∆ 
(
∆∆ 
d
∆∆ 
=>
∆∆ 
d
∆∆  
.
∆∆  !
Learner
∆∆! (
)
∆∆( )
.
∆∆) *
WithMany
∆∆* 2
(
∆∆2 3
p
∆∆3 4
=>
∆∆5 7
p
∆∆8 9
.
∆∆9 :
Enrollments
∆∆: E
)
∆∆E F
.
∆∆F G
HasForeignKey
∆∆G T
(
∆∆T U
d
∆∆U V
=>
∆∆W Y
d
∆∆Z [
.
∆∆[ \
	LearnerId
∆∆\ e
)
∆∆e f
;
∆∆f g
}
«« 	
)
««	 

;
««
 
modelBuilder
…… 
.
…… 
Entity
…… 
<
…… %
Feedbackquestionsoption
…… 3
>
……3 4
(
……4 5
entity
……5 ;
=>
……< >
{
   	
entity
ÀÀ 
.
ÀÀ 
HasKey
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ 
e
ÀÀ  
.
ÀÀ  !&
FeedbackQuestionOptionId
ÀÀ! 9
)
ÀÀ9 :
.
ÀÀ: ;
HasName
ÀÀ; B
(
ÀÀB C
$str
ÀÀC L
)
ÀÀL M
;
ÀÀM N
entity
ÕÕ 
.
ÕÕ 
ToTable
ÕÕ 
(
ÕÕ 
$str
ÕÕ 5
)
ÕÕ5 6
;
ÕÕ6 7
entity
œœ 
.
œœ 
HasIndex
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #$
QuizFeedbackQuestionId
œœ# 9
,
œœ9 :
$str
œœ; o
)
œœo p
;
œœp q
entity
—— 
.
—— 
HasIndex
—— 
(
—— 
e
—— 
=>
——  
e
——! "
.
——" #%
TopicFeedbackQuestionId
——# :
,
——: ;
$str
——< q
)
——q r
;
——r s
entity
”” 
.
”” 
Property
”” 
(
”” 
e
”” 
=>
””  
e
””! "
.
””" #&
FeedbackQuestionOptionId
””# ;
)
””; <
.
‘‘ 
UseCollation
‘‘ 
(
‘‘ 
$str
‘‘ 0
)
‘‘0 1
.
’’ 

HasCharSet
’’ 
(
’’ 
$str
’’ #
)
’’# $
;
’’$ %
entity
÷÷ 
.
÷÷ 
Property
÷÷ 
(
÷÷ 
e
÷÷ 
=>
÷÷  
e
÷÷! "
.
÷÷" #
	CreatedAt
÷÷# ,
)
÷÷, -
.
÷÷- .
HasColumnType
÷÷. ;
(
÷÷; <
$str
÷÷< F
)
÷÷F G
;
÷÷G H
entity
◊◊ 
.
◊◊ 
Property
◊◊ 
(
◊◊ 
e
◊◊ 
=>
◊◊  
e
◊◊! "
.
◊◊" #

ModifiedAt
◊◊# -
)
◊◊- .
.
◊◊. /
HasColumnType
◊◊/ <
(
◊◊< =
$str
◊◊= G
)
◊◊G H
;
◊◊H I
entity
ÿÿ 
.
ÿÿ 
Property
ÿÿ 
(
ÿÿ 
e
ÿÿ 
=>
ÿÿ  
e
ÿÿ! "
.
ÿÿ" #$
QuizFeedbackQuestionId
ÿÿ# 9
)
ÿÿ9 :
.
ŸŸ 
UseCollation
ŸŸ 
(
ŸŸ 
$str
ŸŸ 0
)
ŸŸ0 1
.
⁄⁄ 

HasCharSet
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ #
)
⁄⁄# $
;
⁄⁄$ %
entity
€€ 
.
€€ 
Property
€€ 
(
€€ 
e
€€ 
=>
€€  
e
€€! "
.
€€" #%
TopicFeedbackQuestionId
€€# :
)
€€: ;
.
‹‹ 
UseCollation
‹‹ 
(
‹‹ 
$str
‹‹ 0
)
‹‹0 1
.
›› 

HasCharSet
›› 
(
›› 
$str
›› #
)
››# $
;
››$ %
entity
ﬂﬂ 
.
ﬂﬂ 
HasOne
ﬂﬂ 
(
ﬂﬂ 
d
ﬂﬂ 
=>
ﬂﬂ 
d
ﬂﬂ  
.
ﬂﬂ  !"
QuizFeedbackQuestion
ﬂﬂ! 5
)
ﬂﬂ5 6
.
ﬂﬂ6 7
WithMany
ﬂﬂ7 ?
(
ﬂﬂ? @
p
ﬂﬂ@ A
=>
ﬂﬂB D
p
ﬂﬂE F
.
ﬂﬂF G&
Feedbackquestionsoptions
ﬂﬂG _
)
ﬂﬂ_ `
.
‡‡ 
HasForeignKey
‡‡ 
(
‡‡ 
d
‡‡  
=>
‡‡! #
d
‡‡$ %
.
‡‡% &$
QuizFeedbackQuestionId
‡‡& <
)
‡‡< =
.
·· 
HasConstraintName
·· "
(
··" #
$str
··# e
)
··e f
;
··f g
entity
„„ 
.
„„ 
HasOne
„„ 
(
„„ 
d
„„ 
=>
„„ 
d
„„  
.
„„  !#
TopicFeedbackQuestion
„„! 6
)
„„6 7
.
„„7 8
WithMany
„„8 @
(
„„@ A
p
„„A B
=>
„„C E
p
„„F G
.
„„G H&
Feedbackquestionsoptions
„„H `
)
„„` a
.
‰‰ 
HasForeignKey
‰‰ 
(
‰‰ 
d
‰‰  
=>
‰‰! #
d
‰‰$ %
.
‰‰% &%
TopicFeedbackQuestionId
‰‰& =
)
‰‰= >
.
ÂÂ 
HasConstraintName
ÂÂ "
(
ÂÂ" #
$str
ÂÂ# e
)
ÂÂe f
;
ÂÂf g
}
ÊÊ 	
)
ÊÊ	 

;
ÊÊ
 
modelBuilder
ËË 
.
ËË 
Entity
ËË 
<
ËË 
Feedbackresponse
ËË ,
>
ËË, -
(
ËË- .
entity
ËË. 4
=>
ËË5 7
{
ÈÈ 	
entity
ÍÍ 
.
ÍÍ 
HasKey
ÍÍ 
(
ÍÍ 
e
ÍÍ 
=>
ÍÍ 
e
ÍÍ  
.
ÍÍ  ! 
FeedbackresponseId
ÍÍ! 3
)
ÍÍ3 4
.
ÍÍ4 5
HasName
ÍÍ5 <
(
ÍÍ< =
$str
ÍÍ= F
)
ÍÍF G
;
ÍÍG H
entity
ÏÏ 
.
ÏÏ 
ToTable
ÏÏ 
(
ÏÏ 
$str
ÏÏ .
)
ÏÏ. /
;
ÏÏ/ 0
entity
ÓÓ 
.
ÓÓ 
HasIndex
ÓÓ 
(
ÓÓ 
e
ÓÓ 
=>
ÓÓ  
e
ÓÓ! "
.
ÓÓ" #$
QuizFeedbackQuestionId
ÓÓ# 9
,
ÓÓ9 :
$str
ÓÓ; h
)
ÓÓh i
;
ÓÓi j
entity
 
.
 
HasIndex
 
(
 
e
 
=>
  
e
! "
.
" #%
TopicFeedbackQuestionId
# :
,
: ;
$str
< j
)
j k
;
k l
entity
ÚÚ 
.
ÚÚ 
HasIndex
ÚÚ 
(
ÚÚ 
e
ÚÚ 
=>
ÚÚ  
e
ÚÚ! "
.
ÚÚ" #
	LearnerId
ÚÚ# ,
,
ÚÚ, -
$str
ÚÚ. O
)
ÚÚO P
;
ÚÚP Q
entity
ÙÙ 
.
ÙÙ 
Property
ÙÙ 
(
ÙÙ 
e
ÙÙ 
=>
ÙÙ  
e
ÙÙ! "
.
ÙÙ" # 
FeedbackresponseId
ÙÙ# 5
)
ÙÙ5 6
.
ıı 
UseCollation
ıı 
(
ıı 
$str
ıı 0
)
ıı0 1
.
ˆˆ 

HasCharSet
ˆˆ 
(
ˆˆ 
$str
ˆˆ #
)
ˆˆ# $
;
ˆˆ$ %
entity
˜˜ 
.
˜˜ 
Property
˜˜ 
(
˜˜ 
e
˜˜ 
=>
˜˜  
e
˜˜! "
.
˜˜" #
GeneratedAt
˜˜# .
)
˜˜. /
.
˜˜/ 0
HasColumnType
˜˜0 =
(
˜˜= >
$str
˜˜> H
)
˜˜H I
;
˜˜I J
entity
¯¯ 
.
¯¯ 
Property
¯¯ 
(
¯¯ 
e
¯¯ 
=>
¯¯  
e
¯¯! "
.
¯¯" #
	LearnerId
¯¯# ,
)
¯¯, -
.
˘˘ 
HasColumnName
˘˘ 
(
˘˘ 
$str
˘˘ +
)
˘˘+ ,
.
˙˙ 
UseCollation
˙˙ 
(
˙˙ 
$str
˙˙ 0
)
˙˙0 1
.
˚˚ 

HasCharSet
˚˚ 
(
˚˚ 
$str
˚˚ #
)
˚˚# $
;
˚˚$ %
entity
¸¸ 
.
¸¸ 
Property
¸¸ 
(
¸¸ 
e
¸¸ 
=>
¸¸  
e
¸¸! "
.
¸¸" #

ModifiedAt
¸¸# -
)
¸¸- .
.
¸¸. /
HasColumnType
¸¸/ <
(
¸¸< =
$str
¸¸= G
)
¸¸G H
;
¸¸H I
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝ 
e
˝˝ 
=>
˝˝  
e
˝˝! "
.
˝˝" #$
QuizFeedbackQuestionId
˝˝# 9
)
˝˝9 :
.
˛˛ 
UseCollation
˛˛ 
(
˛˛ 
$str
˛˛ 0
)
˛˛0 1
.
ˇˇ 

HasCharSet
ˇˇ 
(
ˇˇ 
$str
ˇˇ #
)
ˇˇ# $
;
ˇˇ$ %
entity
ÄÄ 
.
ÄÄ 
Property
ÄÄ 
(
ÄÄ 
e
ÄÄ 
=>
ÄÄ  
e
ÄÄ! "
.
ÄÄ" #%
TopicFeedbackQuestionId
ÄÄ# :
)
ÄÄ: ;
.
ÅÅ 
UseCollation
ÅÅ 
(
ÅÅ 
$str
ÅÅ 0
)
ÅÅ0 1
.
ÇÇ 

HasCharSet
ÇÇ 
(
ÇÇ 
$str
ÇÇ #
)
ÇÇ# $
;
ÇÇ$ %
entity
ÑÑ 
.
ÑÑ 
HasOne
ÑÑ 
(
ÑÑ 
d
ÑÑ 
=>
ÑÑ 
d
ÑÑ  
.
ÑÑ  !
Learner
ÑÑ! (
)
ÑÑ( )
.
ÑÑ) *
WithMany
ÑÑ* 2
(
ÑÑ2 3
p
ÑÑ3 4
=>
ÑÑ5 7
p
ÑÑ8 9
.
ÑÑ9 :
Feedbackresponses
ÑÑ: K
)
ÑÑK L
.
ÖÖ 
HasForeignKey
ÖÖ 
(
ÖÖ 
d
ÖÖ  
=>
ÖÖ! #
d
ÖÖ$ %
.
ÖÖ% &
	LearnerId
ÖÖ& /
)
ÖÖ/ 0
.
ÜÜ 
HasConstraintName
ÜÜ "
(
ÜÜ" #
$str
ÜÜ# M
)
ÜÜM N
;
ÜÜN O
entity
àà 
.
àà 
HasOne
àà 
(
àà 
d
àà 
=>
àà 
d
àà  
.
àà  !"
QuizFeedbackQuestion
àà! 5
)
àà5 6
.
àà6 7
WithMany
àà7 ?
(
àà? @
p
àà@ A
=>
ààB D
p
ààE F
.
ààF G
Feedbackresponses
ààG X
)
ààX Y
.
ââ 
HasForeignKey
ââ 
(
ââ 
d
ââ  
=>
ââ! #
d
ââ$ %
.
ââ% &$
QuizFeedbackQuestionId
ââ& <
)
ââ< =
.
ää 
HasConstraintName
ää "
(
ää" #
$str
ää# e
)
ääe f
;
ääf g
entity
åå 
.
åå 
HasOne
åå 
(
åå 
d
åå 
=>
åå 
d
åå  
.
åå  !#
TopicFeedbackQuestion
åå! 6
)
åå6 7
.
åå7 8
WithMany
åå8 @
(
åå@ A
p
ååA B
=>
ååC E
p
ååF G
.
ååG H
Feedbackresponses
ååH Y
)
ååY Z
.
çç 
HasForeignKey
çç 
(
çç 
d
çç  
=>
çç! #
d
çç$ %
.
çç% &%
TopicFeedbackQuestionId
çç& =
)
çç= >
.
éé 
HasConstraintName
éé "
(
éé" #
$str
éé# e
)
éée f
;
ééf g
}
èè 	
)
èè	 

;
èè
 
modelBuilder
ëë 
.
ëë 
Entity
ëë 
<
ëë 
Learner
ëë #
>
ëë# $
(
ëë$ %
entity
ëë% +
=>
ëë, .
{
íí 	
entity
ìì 
.
ìì 
HasKey
ìì 
(
ìì 
e
ìì 
=>
ìì 
e
ìì  
.
ìì  !
	LearnerId
ìì! *
)
ìì* +
.
ìì+ ,
HasName
ìì, 3
(
ìì3 4
$str
ìì4 =
)
ìì= >
;
ìì> ?
entity
ïï 
.
ïï 
ToTable
ïï 
(
ïï 
$str
ïï %
)
ïï% &
;
ïï& '
entity
óó 
.
óó 
Property
óó 
(
óó 
e
óó 
=>
óó  
e
óó! "
.
óó" #
	LearnerId
óó# ,
)
óó, -
.
òò 
HasColumnName
òò 
(
òò 
$str
òò +
)
òò+ ,
.
ôô 
UseCollation
ôô 
(
ôô 
$str
ôô 0
)
ôô0 1
.
öö 

HasCharSet
öö 
(
öö 
$str
öö #
)
öö# $
;
öö$ %
entity
õõ 
.
õõ 
Property
õõ 
(
õõ 
e
õõ 
=>
õõ  
e
õõ! "
.
õõ" #
AccountStatus
õõ# 0
)
õõ0 1
.
õõ1 2
HasColumnName
õõ2 ?
(
õõ? @
$str
õõ@ P
)
õõP Q
;
õõQ R
entity
úú 
.
úú 
Property
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #
	CreatedAt
úú# ,
)
úú, -
.
ùù 
HasColumnType
ùù 
(
ùù 
$str
ùù )
)
ùù) *
.
ûû 
HasColumnName
ûû 
(
ûû 
$str
ûû +
)
ûû+ ,
;
ûû, -
entity
üü 
.
üü 
Property
üü 
(
üü 
e
üü 
=>
üü  
e
üü! "
.
üü" #
	CreatedBy
üü# ,
)
üü, -
.
üü- .
HasColumnName
üü. ;
(
üü; <
$str
üü< H
)
üüH I
;
üüI J
entity
†† 
.
†† 
Property
†† 
(
†† 
e
†† 
=>
††  
e
††! "
.
††" #
Email
††# (
)
††( )
.
°° 
HasMaxLength
°° 
(
°° 
$num
°°  
)
°°  !
.
¢¢ 
HasColumnName
¢¢ 
(
¢¢ 
$str
¢¢ &
)
¢¢& '
;
¢¢' (
entity
££ 
.
££ 
Property
££ 
(
££ 
e
££ 
=>
££  
e
££! "
.
££" #

ModifiedAt
££# -
)
££- .
.
§§ 
HasColumnType
§§ 
(
§§ 
$str
§§ )
)
§§) *
.
•• 
HasColumnName
•• 
(
•• 
$str
•• ,
)
••, -
;
••- .
entity
¶¶ 
.
¶¶ 
Property
¶¶ 
(
¶¶ 
e
¶¶ 
=>
¶¶  
e
¶¶! "
.
¶¶" #

ModifiedBy
¶¶# -
)
¶¶- .
.
¶¶. /
HasColumnName
¶¶/ <
(
¶¶< =
$str
¶¶= J
)
¶¶J K
;
¶¶K L
entity
ßß 
.
ßß 
Property
ßß 
(
ßß 
e
ßß 
=>
ßß  
e
ßß! "
.
ßß" #
Password
ßß# +
)
ßß+ ,
.
®® 
HasMaxLength
®® 
(
®® 
$num
®® !
)
®®! "
.
©© 
HasColumnName
©© 
(
©© 
$str
©© )
)
©©) *
;
©©* +
entity
™™ 
.
™™ 
Property
™™ 
(
™™ 
e
™™ 
=>
™™  
e
™™! "
.
™™" #
Role
™™# '
)
™™' (
.
´´ 
HasMaxLength
´´ 
(
´´ 
$num
´´  
)
´´  !
.
¨¨ 
HasColumnName
¨¨ 
(
¨¨ 
$str
¨¨ %
)
¨¨% &
;
¨¨& '
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠ 
e
≠≠ 
=>
≠≠  
e
≠≠! "
.
≠≠" #
UnblockRequest
≠≠# 1
)
≠≠1 2
.
≠≠2 3
HasColumnName
≠≠3 @
(
≠≠@ A
$str
≠≠A R
)
≠≠R S
;
≠≠S T
entity
ÆÆ 
.
ÆÆ 
Property
ÆÆ 
(
ÆÆ 
e
ÆÆ 
=>
ÆÆ  
e
ÆÆ! "
.
ÆÆ" #
UserLastLogin
ÆÆ# 0
)
ÆÆ0 1
.
ØØ 
HasColumnType
ØØ 
(
ØØ 
$str
ØØ )
)
ØØ) *
.
∞∞ 
HasColumnName
∞∞ 
(
∞∞ 
$str
∞∞ 0
)
∞∞0 1
;
∞∞1 2
}
±± 	
)
±±	 

;
±±
 
modelBuilder
≥≥ 
.
≥≥ 
Entity
≥≥ 
<
≥≥ 
LearnerAnswer
≥≥ )
>
≥≥) *
(
≥≥* +
entity
≥≥+ 1
=>
≥≥2 4
{
¥¥ 	
entity
µµ 
.
µµ 
HasKey
µµ 
(
µµ 
e
µµ 
=>
µµ 
e
µµ  
.
µµ  !
LearnerAnswerId
µµ! 0
)
µµ0 1
.
µµ1 2
HasName
µµ2 9
(
µµ9 :
$str
µµ: C
)
µµC D
;
µµD E
entity
∑∑ 
.
∑∑ 
ToTable
∑∑ 
(
∑∑ 
$str
∑∑ ,
)
∑∑, -
;
∑∑- .
entity
ππ 
.
ππ 
HasIndex
ππ 
(
ππ 
e
ππ 
=>
ππ  
e
ππ! "
.
ππ" #
LearnerAttemptId
ππ# 3
,
ππ3 4
$str
ππ5 \
)
ππ\ ]
;
ππ] ^
entity
ªª 
.
ªª 
HasIndex
ªª 
(
ªª 
e
ªª 
=>
ªª  
e
ªª! "
.
ªª" #
QuestionOptionId
ªª# 3
,
ªª3 4
$str
ªª5 \
)
ªª\ ]
;
ªª] ^
entity
ΩΩ 
.
ΩΩ 
HasIndex
ΩΩ 
(
ΩΩ 
e
ΩΩ 
=>
ΩΩ  
e
ΩΩ! "
.
ΩΩ" #
QuizQuestionId
ΩΩ# 1
,
ΩΩ1 2
$str
ΩΩ3 X
)
ΩΩX Y
;
ΩΩY Z
entity
øø 
.
øø 
Property
øø 
(
øø 
e
øø 
=>
øø  
e
øø! "
.
øø" #
LearnerAnswerId
øø# 2
)
øø2 3
.
¿¿ 
HasColumnName
¿¿ 
(
¿¿ 
$str
¿¿ 2
)
¿¿2 3
.
¡¡ 
UseCollation
¡¡ 
(
¡¡ 
$str
¡¡ 0
)
¡¡0 1
.
¬¬ 

HasCharSet
¬¬ 
(
¬¬ 
$str
¬¬ #
)
¬¬# $
;
¬¬$ %
entity
√√ 
.
√√ 
Property
√√ 
(
√√ 
e
√√ 
=>
√√  
e
√√! "
.
√√" #
	CreatedAt
√√# ,
)
√√, -
.
ƒƒ 
HasColumnType
ƒƒ 
(
ƒƒ 
$str
ƒƒ )
)
ƒƒ) *
.
≈≈ 
HasColumnName
≈≈ 
(
≈≈ 
$str
≈≈ +
)
≈≈+ ,
;
≈≈, -
entity
∆∆ 
.
∆∆ 
Property
∆∆ 
(
∆∆ 
e
∆∆ 
=>
∆∆  
e
∆∆! "
.
∆∆" #
	CreatedBy
∆∆# ,
)
∆∆, -
.
∆∆- .
HasColumnName
∆∆. ;
(
∆∆; <
$str
∆∆< H
)
∆∆H I
;
∆∆I J
entity
«« 
.
«« 
Property
«« 
(
«« 
e
«« 
=>
««  
e
««! "
.
««" #
LearnerAttemptId
««# 3
)
««3 4
.
»» 
HasColumnName
»» 
(
»» 
$str
»» 3
)
»»3 4
.
…… 
UseCollation
…… 
(
…… 
$str
…… 0
)
……0 1
.
   

HasCharSet
   
(
   
$str
   #
)
  # $
;
  $ %
entity
ÀÀ 
.
ÀÀ 
Property
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ  
e
ÀÀ! "
.
ÀÀ" #

ModifiedAt
ÀÀ# -
)
ÀÀ- .
.
ÃÃ 
HasColumnType
ÃÃ 
(
ÃÃ 
$str
ÃÃ )
)
ÃÃ) *
.
ÕÕ 
HasColumnName
ÕÕ 
(
ÕÕ 
$str
ÕÕ ,
)
ÕÕ, -
;
ÕÕ- .
entity
ŒŒ 
.
ŒŒ 
Property
ŒŒ 
(
ŒŒ 
e
ŒŒ 
=>
ŒŒ  
e
ŒŒ! "
.
ŒŒ" #

ModifiedBy
ŒŒ# -
)
ŒŒ- .
.
ŒŒ. /
HasColumnName
ŒŒ/ <
(
ŒŒ< =
$str
ŒŒ= J
)
ŒŒJ K
;
ŒŒK L
entity
œœ 
.
œœ 
Property
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #
QuestionOptionId
œœ# 3
)
œœ3 4
.
–– 
HasColumnName
–– 
(
–– 
$str
–– 3
)
––3 4
.
—— 
UseCollation
—— 
(
—— 
$str
—— 0
)
——0 1
.
““ 

HasCharSet
““ 
(
““ 
$str
““ #
)
““# $
;
““$ %
entity
”” 
.
”” 
Property
”” 
(
”” 
e
”” 
=>
””  
e
””! "
.
””" #
QuizQuestionId
””# 1
)
””1 2
.
‘‘ 
HasColumnName
‘‘ 
(
‘‘ 
$str
‘‘ 1
)
‘‘1 2
.
’’ 
UseCollation
’’ 
(
’’ 
$str
’’ 0
)
’’0 1
.
÷÷ 

HasCharSet
÷÷ 
(
÷÷ 
$str
÷÷ #
)
÷÷# $
;
÷÷$ %
entity
ÿÿ 
.
ÿÿ 
HasOne
ÿÿ 
(
ÿÿ 
d
ÿÿ 
=>
ÿÿ 
d
ÿÿ  
.
ÿÿ  !
LearnerAttempt
ÿÿ! /
)
ÿÿ/ 0
.
ÿÿ0 1
WithMany
ÿÿ1 9
(
ÿÿ9 :
p
ÿÿ: ;
=>
ÿÿ< >
p
ÿÿ? @
.
ÿÿ@ A
LearnerAnswers
ÿÿA O
)
ÿÿO P
.
ÿÿP Q
HasForeignKey
ÿÿQ ^
(
ÿÿ^ _
d
ÿÿ_ `
=>
ÿÿa c
d
ÿÿd e
.
ÿÿe f
LearnerAttemptId
ÿÿf v
)
ÿÿv w
;
ÿÿw x
entity
⁄⁄ 
.
⁄⁄ 
HasOne
⁄⁄ 
(
⁄⁄ 
d
⁄⁄ 
=>
⁄⁄ 
d
⁄⁄  
.
⁄⁄  !
QuestionOption
⁄⁄! /
)
⁄⁄/ 0
.
⁄⁄0 1
WithMany
⁄⁄1 9
(
⁄⁄9 :
p
⁄⁄: ;
=>
⁄⁄< >
p
⁄⁄? @
.
⁄⁄@ A
LearnerAnswers
⁄⁄A O
)
⁄⁄O P
.
⁄⁄P Q
HasForeignKey
⁄⁄Q ^
(
⁄⁄^ _
d
⁄⁄_ `
=>
⁄⁄a c
d
⁄⁄d e
.
⁄⁄e f
QuestionOptionId
⁄⁄f v
)
⁄⁄v w
;
⁄⁄w x
entity
‹‹ 
.
‹‹ 
HasOne
‹‹ 
(
‹‹ 
d
‹‹ 
=>
‹‹ 
d
‹‹  
.
‹‹  !
QuizQuestion
‹‹! -
)
‹‹- .
.
‹‹. /
WithMany
‹‹/ 7
(
‹‹7 8
p
‹‹8 9
=>
‹‹: <
p
‹‹= >
.
‹‹> ?
LearnerAnswers
‹‹? M
)
‹‹M N
.
‹‹N O
HasForeignKey
‹‹O \
(
‹‹\ ]
d
‹‹] ^
=>
‹‹_ a
d
‹‹b c
.
‹‹c d
QuizQuestionId
‹‹d r
)
‹‹r s
;
‹‹s t
}
›› 	
)
››	 

;
››
 
modelBuilder
ﬂﬂ 
.
ﬂﬂ 
Entity
ﬂﬂ 
<
ﬂﬂ 
LearnerAttempt
ﬂﬂ *
>
ﬂﬂ* +
(
ﬂﬂ+ ,
entity
ﬂﬂ, 2
=>
ﬂﬂ3 5
{
‡‡ 	
entity
·· 
.
·· 
HasKey
·· 
(
·· 
e
·· 
=>
·· 
e
··  
.
··  !
LearnerAttemptId
··! 1
)
··1 2
.
··2 3
HasName
··3 :
(
··: ;
$str
··; D
)
··D E
;
··E F
entity
„„ 
.
„„ 
ToTable
„„ 
(
„„ 
$str
„„ -
)
„„- .
;
„„. /
entity
ÂÂ 
.
ÂÂ 
HasIndex
ÂÂ 
(
ÂÂ 
e
ÂÂ 
=>
ÂÂ  
e
ÂÂ! "
.
ÂÂ" #
	LearnerId
ÂÂ# ,
,
ÂÂ, -
$str
ÂÂ. N
)
ÂÂN O
;
ÂÂO P
entity
ÁÁ 
.
ÁÁ 
HasIndex
ÁÁ 
(
ÁÁ 
e
ÁÁ 
=>
ÁÁ  
e
ÁÁ! "
.
ÁÁ" #
QuizId
ÁÁ# )
,
ÁÁ) *
$str
ÁÁ+ H
)
ÁÁH I
;
ÁÁI J
entity
ÈÈ 
.
ÈÈ 
Property
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ  
e
ÈÈ! "
.
ÈÈ" #
LearnerAttemptId
ÈÈ# 3
)
ÈÈ3 4
.
ÍÍ 
HasColumnName
ÍÍ 
(
ÍÍ 
$str
ÍÍ 3
)
ÍÍ3 4
.
ÎÎ 
UseCollation
ÎÎ 
(
ÎÎ 
$str
ÎÎ 0
)
ÎÎ0 1
.
ÏÏ 

HasCharSet
ÏÏ 
(
ÏÏ 
$str
ÏÏ #
)
ÏÏ# $
;
ÏÏ$ %
entity
ÌÌ 
.
ÌÌ 
Property
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ  
e
ÌÌ! "
.
ÌÌ" #
AttemptCount
ÌÌ# /
)
ÌÌ/ 0
.
ÌÌ0 1
HasColumnName
ÌÌ1 >
(
ÌÌ> ?
$str
ÌÌ? N
)
ÌÌN O
;
ÌÌO P
entity
ÓÓ 
.
ÓÓ 
Property
ÓÓ 
(
ÓÓ 
e
ÓÓ 
=>
ÓÓ  
e
ÓÓ! "
.
ÓÓ" #
	CreatedAt
ÓÓ# ,
)
ÓÓ, -
.
ÔÔ 
HasColumnType
ÔÔ 
(
ÔÔ 
$str
ÔÔ )
)
ÔÔ) *
.
 
HasColumnName
 
(
 
$str
 +
)
+ ,
;
, -
entity
ÒÒ 
.
ÒÒ 
Property
ÒÒ 
(
ÒÒ 
e
ÒÒ 
=>
ÒÒ  
e
ÒÒ! "
.
ÒÒ" #
	CreatedBy
ÒÒ# ,
)
ÒÒ, -
.
ÒÒ- .
HasColumnName
ÒÒ. ;
(
ÒÒ; <
$str
ÒÒ< H
)
ÒÒH I
;
ÒÒI J
entity
ÚÚ 
.
ÚÚ 
Property
ÚÚ 
(
ÚÚ 
e
ÚÚ 
=>
ÚÚ  
e
ÚÚ! "
.
ÚÚ" #
EndTime
ÚÚ# *
)
ÚÚ* +
.
ÛÛ 
HasColumnType
ÛÛ 
(
ÛÛ 
$str
ÛÛ )
)
ÛÛ) *
.
ÙÙ 
HasColumnName
ÙÙ 
(
ÙÙ 
$str
ÙÙ )
)
ÙÙ) *
;
ÙÙ* +
entity
ıı 
.
ıı 
Property
ıı 
(
ıı 
e
ıı 
=>
ıı  
e
ıı! "
.
ıı" #
	LearnerId
ıı# ,
)
ıı, -
.
ˆˆ 
HasColumnName
ˆˆ 
(
ˆˆ 
$str
ˆˆ +
)
ˆˆ+ ,
.
˜˜ 
UseCollation
˜˜ 
(
˜˜ 
$str
˜˜ 0
)
˜˜0 1
.
¯¯ 

HasCharSet
¯¯ 
(
¯¯ 
$str
¯¯ #
)
¯¯# $
;
¯¯$ %
entity
˘˘ 
.
˘˘ 
Property
˘˘ 
(
˘˘ 
e
˘˘ 
=>
˘˘  
e
˘˘! "
.
˘˘" #

ModifiedAt
˘˘# -
)
˘˘- .
.
˙˙ 
HasColumnType
˙˙ 
(
˙˙ 
$str
˙˙ )
)
˙˙) *
.
˚˚ 
HasColumnName
˚˚ 
(
˚˚ 
$str
˚˚ ,
)
˚˚, -
;
˚˚- .
entity
¸¸ 
.
¸¸ 
Property
¸¸ 
(
¸¸ 
e
¸¸ 
=>
¸¸  
e
¸¸! "
.
¸¸" #

ModifiedBy
¸¸# -
)
¸¸- .
.
¸¸. /
HasColumnName
¸¸/ <
(
¸¸< =
$str
¸¸= J
)
¸¸J K
;
¸¸K L
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝ 
e
˝˝ 
=>
˝˝  
e
˝˝! "
.
˝˝" #
QuizId
˝˝# )
)
˝˝) *
.
˛˛ 
HasColumnName
˛˛ 
(
˛˛ 
$str
˛˛ (
)
˛˛( )
.
ˇˇ 
UseCollation
ˇˇ 
(
ˇˇ 
$str
ˇˇ 0
)
ˇˇ0 1
.
ÄÄ 

HasCharSet
ÄÄ 
(
ÄÄ 
$str
ÄÄ #
)
ÄÄ# $
;
ÄÄ$ %
entity
ÅÅ 
.
ÅÅ 
Property
ÅÅ 
(
ÅÅ 
e
ÅÅ 
=>
ÅÅ  
e
ÅÅ! "
.
ÅÅ" #
Score
ÅÅ# (
)
ÅÅ( )
.
ÅÅ) *
HasColumnName
ÅÅ* 7
(
ÅÅ7 8
$str
ÅÅ8 ?
)
ÅÅ? @
;
ÅÅ@ A
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
	StartTime
ÇÇ# ,
)
ÇÇ, -
.
ÉÉ 
HasColumnType
ÉÉ 
(
ÉÉ 
$str
ÉÉ )
)
ÉÉ) *
.
ÑÑ 
HasColumnName
ÑÑ 
(
ÑÑ 
$str
ÑÑ +
)
ÑÑ+ ,
;
ÑÑ, -
entity
ÜÜ 
.
ÜÜ 
HasOne
ÜÜ 
(
ÜÜ 
d
ÜÜ 
=>
ÜÜ 
d
ÜÜ  
.
ÜÜ  !
Learner
ÜÜ! (
)
ÜÜ( )
.
ÜÜ) *
WithMany
ÜÜ* 2
(
ÜÜ2 3
p
ÜÜ3 4
=>
ÜÜ5 7
p
ÜÜ8 9
.
ÜÜ9 :
LearnerAttempts
ÜÜ: I
)
ÜÜI J
.
ÜÜJ K
HasForeignKey
ÜÜK X
(
ÜÜX Y
d
ÜÜY Z
=>
ÜÜ[ ]
d
ÜÜ^ _
.
ÜÜ_ `
	LearnerId
ÜÜ` i
)
ÜÜi j
;
ÜÜj k
entity
àà 
.
àà 
HasOne
àà 
(
àà 
d
àà 
=>
àà 
d
àà  
.
àà  !
Quiz
àà! %
)
àà% &
.
àà& '
WithMany
àà' /
(
àà/ 0
p
àà0 1
=>
àà2 4
p
àà5 6
.
àà6 7
LearnerAttempts
àà7 F
)
ààF G
.
ààG H
HasForeignKey
ààH U
(
ààU V
d
ààV W
=>
ààX Z
d
àà[ \
.
àà\ ]
QuizId
àà] c
)
ààc d
;
ààd e
}
ââ 	
)
ââ	 

;
ââ
 
modelBuilder
ãã 
.
ãã 
Entity
ãã 
<
ãã 
LearnerProfile
ãã *
>
ãã* +
(
ãã+ ,
entity
ãã, 2
=>
ãã3 5
{
åå 	
entity
çç 
.
çç 
HasKey
çç 
(
çç 
e
çç 
=>
çç 
e
çç  
.
çç  !
	ProfileId
çç! *
)
çç* +
.
çç+ ,
HasName
çç, 3
(
çç3 4
$str
çç4 =
)
çç= >
;
çç> ?
entity
èè 
.
èè 
ToTable
èè 
(
èè 
$str
èè -
)
èè- .
;
èè. /
entity
ëë 
.
ëë 
HasIndex
ëë 
(
ëë 
e
ëë 
=>
ëë  
e
ëë! "
.
ëë" #
	LearnerId
ëë# ,
,
ëë, -
$str
ëë. N
)
ëëN O
;
ëëO P
entity
ìì 
.
ìì 
Property
ìì 
(
ìì 
e
ìì 
=>
ìì  
e
ìì! "
.
ìì" #
	ProfileId
ìì# ,
)
ìì, -
.
îî 
HasColumnName
îî 
(
îî 
$str
îî +
)
îî+ ,
.
ïï 
UseCollation
ïï 
(
ïï 
$str
ïï 0
)
ïï0 1
.
ññ 

HasCharSet
ññ 
(
ññ 
$str
ññ #
)
ññ# $
;
ññ$ %
entity
óó 
.
óó 
Property
óó 
(
óó 
e
óó 
=>
óó  
e
óó! "
.
óó" #
ContactNumber
óó# 0
)
óó0 1
.
òò 
HasMaxLength
òò 
(
òò 
$num
òò  
)
òò  !
.
ôô 
HasColumnName
ôô 
(
ôô 
$str
ôô /
)
ôô/ 0
;
ôô0 1
entity
öö 
.
öö 
Property
öö 
(
öö 
e
öö 
=>
öö  
e
öö! "
.
öö" #
	CreatedAt
öö# ,
)
öö, -
.
õõ 
HasColumnType
õõ 
(
õõ 
$str
õõ )
)
õõ) *
.
úú 
HasColumnName
úú 
(
úú 
$str
úú +
)
úú+ ,
;
úú, -
entity
ùù 
.
ùù 
Property
ùù 
(
ùù 
e
ùù 
=>
ùù  
e
ùù! "
.
ùù" #
	CreatedBy
ùù# ,
)
ùù, -
.
ùù- .
HasColumnName
ùù. ;
(
ùù; <
$str
ùù< H
)
ùùH I
;
ùùI J
entity
ûû 
.
ûû 
Property
ûû 
(
ûû 
e
ûû 
=>
ûû  
e
ûû! "
.
ûû" #
Dob
ûû# &
)
ûû& '
.
ûû' (
HasColumnName
ûû( 5
(
ûû5 6
$str
ûû6 ;
)
ûû; <
;
ûû< =
entity
üü 
.
üü 
Property
üü 
(
üü 
e
üü 
=>
üü  
e
üü! "
.
üü" #
	FirstName
üü# ,
)
üü, -
.
†† 
HasMaxLength
†† 
(
†† 
$num
††  
)
††  !
.
°° 
HasColumnName
°° 
(
°° 
$str
°° +
)
°°+ ,
;
°°, -
entity
¢¢ 
.
¢¢ 
Property
¢¢ 
(
¢¢ 
e
¢¢ 
=>
¢¢  
e
¢¢! "
.
¢¢" #
Gender
¢¢# )
)
¢¢) *
.
££ 
HasMaxLength
££ 
(
££ 
$num
££  
)
££  !
.
§§ 
HasColumnName
§§ 
(
§§ 
$str
§§ '
)
§§' (
;
§§( )
entity
•• 
.
•• 
Property
•• 
(
•• 
e
•• 
=>
••  
e
••! "
.
••" #
LastName
••# +
)
••+ ,
.
¶¶ 
HasMaxLength
¶¶ 
(
¶¶ 
$num
¶¶  
)
¶¶  !
.
ßß 
HasColumnName
ßß 
(
ßß 
$str
ßß *
)
ßß* +
;
ßß+ ,
entity
®® 
.
®® 
Property
®® 
(
®® 
e
®® 
=>
®®  
e
®®! "
.
®®" #
	LearnerId
®®# ,
)
®®, -
.
©© 
HasColumnName
©© 
(
©© 
$str
©© +
)
©©+ ,
.
™™ 
UseCollation
™™ 
(
™™ 
$str
™™ 0
)
™™0 1
.
´´ 

HasCharSet
´´ 
(
´´ 
$str
´´ #
)
´´# $
;
´´$ %
entity
¨¨ 
.
¨¨ 
Property
¨¨ 
(
¨¨ 
e
¨¨ 
=>
¨¨  
e
¨¨! "
.
¨¨" #

ModifiedAt
¨¨# -
)
¨¨- .
.
≠≠ 
HasColumnType
≠≠ 
(
≠≠ 
$str
≠≠ )
)
≠≠) *
.
ÆÆ 
HasColumnName
ÆÆ 
(
ÆÆ 
$str
ÆÆ ,
)
ÆÆ, -
;
ÆÆ- .
entity
ØØ 
.
ØØ 
Property
ØØ 
(
ØØ 
e
ØØ 
=>
ØØ  
e
ØØ! "
.
ØØ" #

ModifiedBy
ØØ# -
)
ØØ- .
.
ØØ. /
HasColumnName
ØØ/ <
(
ØØ< =
$str
ØØ= J
)
ØØJ K
;
ØØK L
entity
∞∞ 
.
∞∞ 
Property
∞∞ 
(
∞∞ 
e
∞∞ 
=>
∞∞  
e
∞∞! "
.
∞∞" #
ProfilePhoto
∞∞# /
)
∞∞/ 0
.
∞∞0 1
HasColumnName
∞∞1 >
(
∞∞> ?
$str
∞∞? N
)
∞∞N O
;
∞∞O P
entity
±± 
.
±± 
Property
±± 
(
±± 
e
±± 
=>
±±  
e
±±! "
.
±±" #
Stream
±±# )
)
±±) *
.
≤≤ 
HasMaxLength
≤≤ 
(
≤≤ 
$num
≤≤  
)
≤≤  !
.
≥≥ 
HasColumnName
≥≥ 
(
≥≥ 
$str
≥≥ '
)
≥≥' (
;
≥≥( )
entity
µµ 
.
µµ 
HasOne
µµ 
(
µµ 
d
µµ 
=>
µµ 
d
µµ  
.
µµ  !
Learner
µµ! (
)
µµ( )
.
µµ) *
WithMany
µµ* 2
(
µµ2 3
p
µµ3 4
=>
µµ5 7
p
µµ8 9
.
µµ9 :
LearnerProfiles
µµ: I
)
µµI J
.
µµJ K
HasForeignKey
µµK X
(
µµX Y
d
µµY Z
=>
µµ[ ]
d
µµ^ _
.
µµ_ `
	LearnerId
µµ` i
)
µµi j
;
µµj k
}
∂∂ 	
)
∂∂	 

;
∂∂
 
modelBuilder
∏∏ 
.
∏∏ 
Entity
∏∏ 
<
∏∏ 
LearnerProgress
∏∏ +
>
∏∏+ ,
(
∏∏, -
entity
∏∏- 3
=>
∏∏4 6
{
ππ 	
entity
∫∫ 
.
∫∫ 
HasKey
∫∫ 
(
∫∫ 
e
∫∫ 
=>
∫∫ 
e
∫∫  
.
∫∫  !
LearnerProgressId
∫∫! 2
)
∫∫2 3
.
∫∫3 4
HasName
∫∫4 ;
(
∫∫; <
$str
∫∫< E
)
∫∫E F
;
∫∫F G
entity
ºº 
.
ºº 
ToTable
ºº 
(
ºº 
$str
ºº -
)
ºº- .
;
ºº. /
entity
ææ 
.
ææ 
HasIndex
ææ 
(
ææ 
e
ææ 
=>
ææ  
e
ææ! "
.
ææ" #
CourseId
ææ# +
,
ææ+ ,
$str
ææ- L
)
ææL M
;
ææM N
entity
¿¿ 
.
¿¿ 
HasIndex
¿¿ 
(
¿¿ 
e
¿¿ 
=>
¿¿  
e
¿¿! "
.
¿¿" #
	LearnerId
¿¿# ,
,
¿¿, -
$str
¿¿. N
)
¿¿N O
;
¿¿O P
entity
¬¬ 
.
¬¬ 
HasIndex
¬¬ 
(
¬¬ 
e
¬¬ 
=>
¬¬  
e
¬¬! "
.
¬¬" #

MaterialId
¬¬# -
,
¬¬- .
$str
¬¬/ P
)
¬¬P Q
;
¬¬Q R
entity
ƒƒ 
.
ƒƒ 
HasIndex
ƒƒ 
(
ƒƒ 
e
ƒƒ 
=>
ƒƒ  
e
ƒƒ! "
.
ƒƒ" #
TopicId
ƒƒ# *
,
ƒƒ* +
$str
ƒƒ, J
)
ƒƒJ K
;
ƒƒK L
entity
∆∆ 
.
∆∆ 
Property
∆∆ 
(
∆∆ 
e
∆∆ 
=>
∆∆  
e
∆∆! "
.
∆∆" #
LearnerProgressId
∆∆# 4
)
∆∆4 5
.
«« 
HasColumnName
«« 
(
«« 
$str
«« 4
)
««4 5
.
»» 
UseCollation
»» 
(
»» 
$str
»» 0
)
»»0 1
.
…… 

HasCharSet
…… 
(
…… 
$str
…… #
)
……# $
;
……$ %
entity
   
.
   
Property
   
(
   
e
   
=>
    
e
  ! "
.
  " #
CourseId
  # +
)
  + ,
.
ÀÀ 
HasColumnName
ÀÀ 
(
ÀÀ 
$str
ÀÀ *
)
ÀÀ* +
.
ÃÃ 
UseCollation
ÃÃ 
(
ÃÃ 
$str
ÃÃ 0
)
ÃÃ0 1
.
ÕÕ 

HasCharSet
ÕÕ 
(
ÕÕ 
$str
ÕÕ #
)
ÕÕ# $
;
ÕÕ$ %
entity
ŒŒ 
.
ŒŒ 
Property
ŒŒ 
(
ŒŒ 
e
ŒŒ 
=>
ŒŒ  
e
ŒŒ! "
.
ŒŒ" #
	IsWatched
ŒŒ# ,
)
ŒŒ, -
.
ŒŒ- .
HasColumnName
ŒŒ. ;
(
ŒŒ; <
$str
ŒŒ< H
)
ŒŒH I
;
ŒŒI J
entity
œœ 
.
œœ 
Property
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #
	LearnerId
œœ# ,
)
œœ, -
.
–– 
HasColumnName
–– 
(
–– 
$str
–– +
)
––+ ,
.
—— 
UseCollation
—— 
(
—— 
$str
—— 0
)
——0 1
.
““ 

HasCharSet
““ 
(
““ 
$str
““ #
)
““# $
;
““$ %
entity
”” 
.
”” 
Property
”” 
(
”” 
e
”” 
=>
””  
e
””! "
.
””" #

MaterialId
””# -
)
””- .
.
‘‘ 
HasColumnName
‘‘ 
(
‘‘ 
$str
‘‘ ,
)
‘‘, -
.
’’ 
UseCollation
’’ 
(
’’ 
$str
’’ 0
)
’’0 1
.
÷÷ 

HasCharSet
÷÷ 
(
÷÷ 
$str
÷÷ #
)
÷÷# $
;
÷÷$ %
entity
◊◊ 
.
◊◊ 
Property
◊◊ 
(
◊◊ 
e
◊◊ 
=>
◊◊  
e
◊◊! "
.
◊◊" #
TopicId
◊◊# *
)
◊◊* +
.
ÿÿ 
HasColumnName
ÿÿ 
(
ÿÿ 
$str
ÿÿ )
)
ÿÿ) *
.
ŸŸ 
UseCollation
ŸŸ 
(
ŸŸ 
$str
ŸŸ 0
)
ŸŸ0 1
.
⁄⁄ 

HasCharSet
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ #
)
⁄⁄# $
;
⁄⁄$ %
entity
€€ 
.
€€ 
Property
€€ 
(
€€ 
e
€€ 
=>
€€  
e
€€! "
.
€€" #
	TotalTime
€€# ,
)
€€, -
.
‹‹ 
HasColumnType
‹‹ 
(
‹‹ 
$str
‹‹ %
)
‹‹% &
.
›› 
HasColumnName
›› 
(
›› 
$str
›› +
)
››+ ,
;
››, -
entity
ﬁﬁ 
.
ﬁﬁ 
Property
ﬁﬁ 
(
ﬁﬁ 
e
ﬁﬁ 
=>
ﬁﬁ  
e
ﬁﬁ! "
.
ﬁﬁ" #
	WatchTime
ﬁﬁ# ,
)
ﬁﬁ, -
.
ﬂﬂ 
HasColumnType
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ %
)
ﬂﬂ% &
.
‡‡ 
HasColumnName
‡‡ 
(
‡‡ 
$str
‡‡ +
)
‡‡+ ,
;
‡‡, -
entity
‚‚ 
.
‚‚ 
HasOne
‚‚ 
(
‚‚ 
d
‚‚ 
=>
‚‚ 
d
‚‚  
.
‚‚  !
Course
‚‚! '
)
‚‚' (
.
‚‚( )
WithMany
‚‚) 1
(
‚‚1 2
p
‚‚2 3
=>
‚‚4 6
p
‚‚7 8
.
‚‚8 9
LearnerProgresses
‚‚9 J
)
‚‚J K
.
‚‚K L
HasForeignKey
‚‚L Y
(
‚‚Y Z
d
‚‚Z [
=>
‚‚\ ^
d
‚‚_ `
.
‚‚` a
CourseId
‚‚a i
)
‚‚i j
;
‚‚j k
entity
‰‰ 
.
‰‰ 
HasOne
‰‰ 
(
‰‰ 
d
‰‰ 
=>
‰‰ 
d
‰‰  
.
‰‰  !
Learner
‰‰! (
)
‰‰( )
.
‰‰) *
WithMany
‰‰* 2
(
‰‰2 3
p
‰‰3 4
=>
‰‰5 7
p
‰‰8 9
.
‰‰9 :
LearnerProgresses
‰‰: K
)
‰‰K L
.
‰‰L M
HasForeignKey
‰‰M Z
(
‰‰Z [
d
‰‰[ \
=>
‰‰] _
d
‰‰` a
.
‰‰a b
	LearnerId
‰‰b k
)
‰‰k l
;
‰‰l m
entity
ÊÊ 
.
ÊÊ 
HasOne
ÊÊ 
(
ÊÊ 
d
ÊÊ 
=>
ÊÊ 
d
ÊÊ  
.
ÊÊ  !
Material
ÊÊ! )
)
ÊÊ) *
.
ÊÊ* +
WithMany
ÊÊ+ 3
(
ÊÊ3 4
p
ÊÊ4 5
=>
ÊÊ6 8
p
ÊÊ9 :
.
ÊÊ: ;
LearnerProgresses
ÊÊ; L
)
ÊÊL M
.
ÊÊM N
HasForeignKey
ÊÊN [
(
ÊÊ[ \
d
ÊÊ\ ]
=>
ÊÊ^ `
d
ÊÊa b
.
ÊÊb c

MaterialId
ÊÊc m
)
ÊÊm n
;
ÊÊn o
entity
ËË 
.
ËË 
HasOne
ËË 
(
ËË 
d
ËË 
=>
ËË 
d
ËË  
.
ËË  !
Topic
ËË! &
)
ËË& '
.
ËË' (
WithMany
ËË( 0
(
ËË0 1
p
ËË1 2
=>
ËË3 5
p
ËË6 7
.
ËË7 8
LearnerProgresses
ËË8 I
)
ËËI J
.
ËËJ K
HasForeignKey
ËËK X
(
ËËX Y
d
ËËY Z
=>
ËË[ ]
d
ËË^ _
.
ËË_ `
TopicId
ËË` g
)
ËËg h
;
ËËh i
}
ÈÈ 	
)
ÈÈ	 

;
ÈÈ
 
modelBuilder
ÎÎ 
.
ÎÎ 
Entity
ÎÎ 
<
ÎÎ 
Material
ÎÎ $
>
ÎÎ$ %
(
ÎÎ% &
entity
ÎÎ& ,
=>
ÎÎ- /
{
ÏÏ 	
entity
ÌÌ 
.
ÌÌ 
HasKey
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ 
e
ÌÌ  
.
ÌÌ  !

MaterialId
ÌÌ! +
)
ÌÌ+ ,
.
ÌÌ, -
HasName
ÌÌ- 4
(
ÌÌ4 5
$str
ÌÌ5 >
)
ÌÌ> ?
;
ÌÌ? @
entity
ÔÔ 
.
ÔÔ 
ToTable
ÔÔ 
(
ÔÔ 
$str
ÔÔ &
)
ÔÔ& '
;
ÔÔ' (
entity
ÒÒ 
.
ÒÒ 
HasIndex
ÒÒ 
(
ÒÒ 
e
ÒÒ 
=>
ÒÒ  
e
ÒÒ! "
.
ÒÒ" #
MaterialTypeId
ÒÒ# 1
,
ÒÒ1 2
$str
ÒÒ3 R
)
ÒÒR S
;
ÒÒS T
entity
ÛÛ 
.
ÛÛ 
HasIndex
ÛÛ 
(
ÛÛ 
e
ÛÛ 
=>
ÛÛ  
e
ÛÛ! "
.
ÛÛ" #
TopicId
ÛÛ# *
,
ÛÛ* +
$str
ÛÛ, C
)
ÛÛC D
;
ÛÛD E
entity
ıı 
.
ıı 
Property
ıı 
(
ıı 
e
ıı 
=>
ıı  
e
ıı! "
.
ıı" #

MaterialId
ıı# -
)
ıı- .
.
ˆˆ 
HasColumnName
ˆˆ 
(
ˆˆ 
$str
ˆˆ ,
)
ˆˆ, -
.
˜˜ 
UseCollation
˜˜ 
(
˜˜ 
$str
˜˜ 0
)
˜˜0 1
.
¯¯ 

HasCharSet
¯¯ 
(
¯¯ 
$str
¯¯ #
)
¯¯# $
;
¯¯$ %
entity
˘˘ 
.
˘˘ 
Property
˘˘ 
(
˘˘ 
e
˘˘ 
=>
˘˘  
e
˘˘! "
.
˘˘" #
	CreatedAt
˘˘# ,
)
˘˘, -
.
˙˙ 
HasColumnType
˙˙ 
(
˙˙ 
$str
˙˙ )
)
˙˙) *
.
˚˚ 
HasColumnName
˚˚ 
(
˚˚ 
$str
˚˚ +
)
˚˚+ ,
;
˚˚, -
entity
¸¸ 
.
¸¸ 
Property
¸¸ 
(
¸¸ 
e
¸¸ 
=>
¸¸  
e
¸¸! "
.
¸¸" #
	CreatedBy
¸¸# ,
)
¸¸, -
.
¸¸- .
HasColumnName
¸¸. ;
(
¸¸; <
$str
¸¸< H
)
¸¸H I
;
¸¸I J
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝ 
e
˝˝ 
=>
˝˝  
e
˝˝! "
.
˝˝" #
Duration
˝˝# +
)
˝˝+ ,
.
˝˝, -
HasColumnName
˝˝- :
(
˝˝: ;
$str
˝˝; E
)
˝˝E F
;
˝˝F G
entity
˛˛ 
.
˛˛ 
Property
˛˛ 
(
˛˛ 
e
˛˛ 
=>
˛˛  
e
˛˛! "
.
˛˛" #
FilePath
˛˛# +
)
˛˛+ ,
.
˛˛, -
HasColumnName
˛˛- :
(
˛˛: ;
$str
˛˛; F
)
˛˛F G
;
˛˛G H
entity
ˇˇ 
.
ˇˇ 
Property
ˇˇ 
(
ˇˇ 
e
ˇˇ 
=>
ˇˇ  
e
ˇˇ! "
.
ˇˇ" #
IsActive
ˇˇ# +
)
ˇˇ+ ,
.
ˇˇ, -
HasColumnName
ˇˇ- :
(
ˇˇ: ;
$str
ˇˇ; F
)
ˇˇF G
;
ˇˇG H
entity
ÄÄ 
.
ÄÄ 
Property
ÄÄ 
(
ÄÄ 
e
ÄÄ 
=>
ÄÄ  
e
ÄÄ! "
.
ÄÄ" #
IsAvailable
ÄÄ# .
)
ÄÄ. /
.
ÄÄ/ 0
HasColumnName
ÄÄ0 =
(
ÄÄ= >
$str
ÄÄ> L
)
ÄÄL M
;
ÄÄM N
entity
ÅÅ 
.
ÅÅ 
Property
ÅÅ 
(
ÅÅ 
e
ÅÅ 
=>
ÅÅ  
e
ÅÅ! "
.
ÅÅ" #
MaterialTypeId
ÅÅ# 1
)
ÅÅ1 2
.
ÇÇ 
HasColumnName
ÇÇ 
(
ÇÇ 
$str
ÇÇ 1
)
ÇÇ1 2
.
ÉÉ 
UseCollation
ÉÉ 
(
ÉÉ 
$str
ÉÉ 0
)
ÉÉ0 1
.
ÑÑ 

HasCharSet
ÑÑ 
(
ÑÑ 
$str
ÑÑ #
)
ÑÑ# $
;
ÑÑ$ %
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #

ModifiedAt
ÖÖ# -
)
ÖÖ- .
.
ÜÜ 
HasColumnType
ÜÜ 
(
ÜÜ 
$str
ÜÜ )
)
ÜÜ) *
.
áá 
HasColumnName
áá 
(
áá 
$str
áá ,
)
áá, -
;
áá- .
entity
àà 
.
àà 
Property
àà 
(
àà 
e
àà 
=>
àà  
e
àà! "
.
àà" #

ModifiedBy
àà# -
)
àà- .
.
àà. /
HasColumnName
àà/ <
(
àà< =
$str
àà= J
)
ààJ K
;
ààK L
entity
ââ 
.
ââ 
Property
ââ 
(
ââ 
e
ââ 
=>
ââ  
e
ââ! "
.
ââ" #
Name
ââ# '
)
ââ' (
.
ää 
HasMaxLength
ää 
(
ää 
$num
ää  
)
ää  !
.
ãã 
HasColumnName
ãã 
(
ãã 
$str
ãã %
)
ãã% &
;
ãã& '
entity
åå 
.
åå 
Property
åå 
(
åå 
e
åå 
=>
åå  
e
åå! "
.
åå" #
TopicId
åå# *
)
åå* +
.
çç 
HasColumnName
çç 
(
çç 
$str
çç )
)
çç) *
.
éé 
UseCollation
éé 
(
éé 
$str
éé 0
)
éé0 1
.
èè 

HasCharSet
èè 
(
èè 
$str
èè #
)
èè# $
;
èè$ %
entity
ëë 
.
ëë 
HasOne
ëë 
(
ëë 
d
ëë 
=>
ëë 
d
ëë  
.
ëë  !
MaterialType
ëë! -
)
ëë- .
.
ëë. /
WithMany
ëë/ 7
(
ëë7 8
p
ëë8 9
=>
ëë: <
p
ëë= >
.
ëë> ?
	Materials
ëë? H
)
ëëH I
.
ëëI J
HasForeignKey
ëëJ W
(
ëëW X
d
ëëX Y
=>
ëëZ \
d
ëë] ^
.
ëë^ _
MaterialTypeId
ëë_ m
)
ëëm n
;
ëën o
entity
ìì 
.
ìì 
HasOne
ìì 
(
ìì 
d
ìì 
=>
ìì 
d
ìì  
.
ìì  !
Topic
ìì! &
)
ìì& '
.
ìì' (
WithMany
ìì( 0
(
ìì0 1
p
ìì1 2
=>
ìì3 5
p
ìì6 7
.
ìì7 8
	Materials
ìì8 A
)
ììA B
.
ììB C
HasForeignKey
ììC P
(
ììP Q
d
ììQ R
=>
ììS U
d
ììV W
.
ììW X
TopicId
ììX _
)
ìì_ `
;
ìì` a
}
îî 	
)
îî	 

;
îî
 
modelBuilder
ññ 
.
ññ 
Entity
ññ 
<
ññ 
MaterialType
ññ (
>
ññ( )
(
ññ) *
entity
ññ* 0
=>
ññ1 3
{
óó 	
entity
òò 
.
òò 
HasKey
òò 
(
òò 
e
òò 
=>
òò 
e
òò  
.
òò  !
MaterialTypeId
òò! /
)
òò/ 0
.
òò0 1
HasName
òò1 8
(
òò8 9
$str
òò9 B
)
òòB C
;
òòC D
entity
öö 
.
öö 
ToTable
öö 
(
öö 
$str
öö +
)
öö+ ,
;
öö, -
entity
úú 
.
úú 
Property
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #
MaterialTypeId
úú# 1
)
úú1 2
.
ùù 
HasColumnName
ùù 
(
ùù 
$str
ùù 1
)
ùù1 2
.
ûû 
UseCollation
ûû 
(
ûû 
$str
ûû 0
)
ûû0 1
.
üü 

HasCharSet
üü 
(
üü 
$str
üü #
)
üü# $
;
üü$ %
entity
†† 
.
†† 
Property
†† 
(
†† 
e
†† 
=>
††  
e
††! "
.
††" #
Type
††# '
)
††' (
.
°° 
HasMaxLength
°° 
(
°° 
$num
°°  
)
°°  !
.
¢¢ 
HasColumnName
¢¢ 
(
¢¢ 
$str
¢¢ %
)
¢¢% &
;
¢¢& '
}
££ 	
)
££	 

;
££
 
modelBuilder
•• 
.
•• 
Entity
•• 
<
•• 
PasswordHistory
•• +
>
••+ ,
(
••, -
entity
••- 3
=>
••4 6
{
¶¶ 	
entity
ßß 
.
ßß 
HasKey
ßß 
(
ßß 
e
ßß 
=>
ßß 
e
ßß  
.
ßß  !

PasswordId
ßß! +
)
ßß+ ,
.
ßß, -
HasName
ßß- 4
(
ßß4 5
$str
ßß5 >
)
ßß> ?
;
ßß? @
entity
©© 
.
©© 
ToTable
©© 
(
©© 
$str
©© /
)
©©/ 0
;
©©0 1
entity
´´ 
.
´´ 
HasIndex
´´ 
(
´´ 
e
´´ 
=>
´´  
e
´´! "
.
´´" #
	LearnerId
´´# ,
,
´´, -
$str
´´. P
)
´´P Q
;
´´Q R
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠ 
e
≠≠ 
=>
≠≠  
e
≠≠! "
.
≠≠" #

PasswordId
≠≠# -
)
≠≠- .
.
ÆÆ 
HasColumnName
ÆÆ 
(
ÆÆ 
$str
ÆÆ ,
)
ÆÆ, -
.
ØØ 
UseCollation
ØØ 
(
ØØ 
$str
ØØ 0
)
ØØ0 1
.
∞∞ 

HasCharSet
∞∞ 
(
∞∞ 
$str
∞∞ #
)
∞∞# $
;
∞∞$ %
entity
±± 
.
±± 
Property
±± 
(
±± 
e
±± 
=>
±±  
e
±±! "
.
±±" #
	CreatedAt
±±# ,
)
±±, -
.
≤≤ 
HasColumnType
≤≤ 
(
≤≤ 
$str
≤≤ )
)
≤≤) *
.
≥≥ 
HasColumnName
≥≥ 
(
≥≥ 
$str
≥≥ +
)
≥≥+ ,
;
≥≥, -
entity
¥¥ 
.
¥¥ 
Property
¥¥ 
(
¥¥ 
e
¥¥ 
=>
¥¥  
e
¥¥! "
.
¥¥" #
	CreatedBy
¥¥# ,
)
¥¥, -
.
¥¥- .
HasColumnName
¥¥. ;
(
¥¥; <
$str
¥¥< H
)
¥¥H I
;
¥¥I J
entity
µµ 
.
µµ 
Property
µµ 
(
µµ 
e
µµ 
=>
µµ  
e
µµ! "
.
µµ" #
	LearnerId
µµ# ,
)
µµ, -
.
∂∂ 
HasColumnName
∂∂ 
(
∂∂ 
$str
∂∂ +
)
∂∂+ ,
.
∑∑ 
UseCollation
∑∑ 
(
∑∑ 
$str
∑∑ 0
)
∑∑0 1
.
∏∏ 

HasCharSet
∏∏ 
(
∏∏ 
$str
∏∏ #
)
∏∏# $
;
∏∏$ %
entity
ππ 
.
ππ 
Property
ππ 
(
ππ 
e
ππ 
=>
ππ  
e
ππ! "
.
ππ" #

ModifiedAt
ππ# -
)
ππ- .
.
∫∫ 
HasColumnType
∫∫ 
(
∫∫ 
$str
∫∫ )
)
∫∫) *
.
ªª 
HasColumnName
ªª 
(
ªª 
$str
ªª ,
)
ªª, -
;
ªª- .
entity
ºº 
.
ºº 
Property
ºº 
(
ºº 
e
ºº 
=>
ºº  
e
ºº! "
.
ºº" #

ModifiedBy
ºº# -
)
ºº- .
.
ºº. /
HasColumnName
ºº/ <
(
ºº< =
$str
ºº= J
)
ººJ K
;
ººK L
entity
ΩΩ 
.
ΩΩ 
Property
ΩΩ 
(
ΩΩ 
e
ΩΩ 
=>
ΩΩ  
e
ΩΩ! "
.
ΩΩ" #
NewPassword
ΩΩ# .
)
ΩΩ. /
.
ææ 
HasMaxLength
ææ 
(
ææ 
$num
ææ !
)
ææ! "
.
øø 
HasColumnName
øø 
(
øø 
$str
øø -
)
øø- .
;
øø. /
entity
¿¿ 
.
¿¿ 
Property
¿¿ 
(
¿¿ 
e
¿¿ 
=>
¿¿  
e
¿¿! "
.
¿¿" #
OldPassword
¿¿# .
)
¿¿. /
.
¡¡ 
HasMaxLength
¡¡ 
(
¡¡ 
$num
¡¡ !
)
¡¡! "
.
¬¬ 
HasColumnName
¬¬ 
(
¬¬ 
$str
¬¬ -
)
¬¬- .
;
¬¬. /
entity
ƒƒ 
.
ƒƒ 
HasOne
ƒƒ 
(
ƒƒ 
d
ƒƒ 
=>
ƒƒ 
d
ƒƒ  
.
ƒƒ  !
Learner
ƒƒ! (
)
ƒƒ( )
.
ƒƒ) *
WithMany
ƒƒ* 2
(
ƒƒ2 3
p
ƒƒ3 4
=>
ƒƒ5 7
p
ƒƒ8 9
.
ƒƒ9 :
PasswordHistories
ƒƒ: K
)
ƒƒK L
.
ƒƒL M
HasForeignKey
ƒƒM Z
(
ƒƒZ [
d
ƒƒ[ \
=>
ƒƒ] _
d
ƒƒ` a
.
ƒƒa b
	LearnerId
ƒƒb k
)
ƒƒk l
;
ƒƒl m
}
≈≈ 	
)
≈≈	 

;
≈≈
 
modelBuilder
«« 
.
«« 
Entity
«« 
<
«« 
QuestionOption
«« *
>
««* +
(
««+ ,
entity
««, 2
=>
««3 5
{
»» 	
entity
…… 
.
…… 
HasKey
…… 
(
…… 
e
…… 
=>
…… 
e
……  
.
……  !
QuestionOptionId
……! 1
)
……1 2
.
……2 3
HasName
……3 :
(
……: ;
$str
……; D
)
……D E
;
……E F
entity
ÀÀ 
.
ÀÀ 
ToTable
ÀÀ 
(
ÀÀ 
$str
ÀÀ -
)
ÀÀ- .
;
ÀÀ. /
entity
ÕÕ 
.
ÕÕ 
HasIndex
ÕÕ 
(
ÕÕ 
e
ÕÕ 
=>
ÕÕ  
e
ÕÕ! "
.
ÕÕ" #
QuizQuestionId
ÕÕ# 1
,
ÕÕ1 2
$str
ÕÕ3 Y
)
ÕÕY Z
;
ÕÕZ [
entity
œœ 
.
œœ 
Property
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #
QuestionOptionId
œœ# 3
)
œœ3 4
.
–– 
HasColumnName
–– 
(
–– 
$str
–– 3
)
––3 4
.
—— 
UseCollation
—— 
(
—— 
$str
—— 0
)
——0 1
.
““ 

HasCharSet
““ 
(
““ 
$str
““ #
)
““# $
;
““$ %
entity
”” 
.
”” 
Property
”” 
(
”” 
e
”” 
=>
””  
e
””! "
.
””" #
	CreatedAt
””# ,
)
””, -
.
‘‘ 
HasColumnType
‘‘ 
(
‘‘ 
$str
‘‘ )
)
‘‘) *
.
’’ 
HasColumnName
’’ 
(
’’ 
$str
’’ +
)
’’+ ,
;
’’, -
entity
÷÷ 
.
÷÷ 
Property
÷÷ 
(
÷÷ 
e
÷÷ 
=>
÷÷  
e
÷÷! "
.
÷÷" #
	CreatedBy
÷÷# ,
)
÷÷, -
.
÷÷- .
HasColumnName
÷÷. ;
(
÷÷; <
$str
÷÷< H
)
÷÷H I
;
÷÷I J
entity
◊◊ 
.
◊◊ 
Property
◊◊ 
(
◊◊ 
e
◊◊ 
=>
◊◊  
e
◊◊! "
.
◊◊" #
	IsCorrect
◊◊# ,
)
◊◊, -
.
◊◊- .
HasColumnName
◊◊. ;
(
◊◊; <
$str
◊◊< H
)
◊◊H I
;
◊◊I J
entity
ÿÿ 
.
ÿÿ 
Property
ÿÿ 
(
ÿÿ 
e
ÿÿ 
=>
ÿÿ  
e
ÿÿ! "
.
ÿÿ" #

ModifiedAt
ÿÿ# -
)
ÿÿ- .
.
ŸŸ 
HasColumnType
ŸŸ 
(
ŸŸ 
$str
ŸŸ )
)
ŸŸ) *
.
⁄⁄ 
HasColumnName
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ ,
)
⁄⁄, -
;
⁄⁄- .
entity
€€ 
.
€€ 
Property
€€ 
(
€€ 
e
€€ 
=>
€€  
e
€€! "
.
€€" #

ModifiedBy
€€# -
)
€€- .
.
€€. /
HasColumnName
€€/ <
(
€€< =
$str
€€= J
)
€€J K
;
€€K L
entity
‹‹ 
.
‹‹ 
Property
‹‹ 
(
‹‹ 
e
‹‹ 
=>
‹‹  
e
‹‹! "
.
‹‹" #
Option
‹‹# )
)
‹‹) *
.
‹‹* +
HasColumnName
‹‹+ 8
(
‹‹8 9
$str
‹‹9 A
)
‹‹A B
;
‹‹B C
entity
›› 
.
›› 
Property
›› 
(
›› 
e
›› 
=>
››  
e
››! "
.
››" #
QuizQuestionId
››# 1
)
››1 2
.
ﬁﬁ 
HasColumnName
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ 1
)
ﬁﬁ1 2
.
ﬂﬂ 
UseCollation
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ 0
)
ﬂﬂ0 1
.
‡‡ 

HasCharSet
‡‡ 
(
‡‡ 
$str
‡‡ #
)
‡‡# $
;
‡‡$ %
entity
‚‚ 
.
‚‚ 
HasOne
‚‚ 
(
‚‚ 
d
‚‚ 
=>
‚‚ 
d
‚‚  
.
‚‚  !
QuizQuestion
‚‚! -
)
‚‚- .
.
‚‚. /
WithMany
‚‚/ 7
(
‚‚7 8
p
‚‚8 9
=>
‚‚: <
p
‚‚= >
.
‚‚> ?
QuestionOptions
‚‚? N
)
‚‚N O
.
‚‚O P
HasForeignKey
‚‚P ]
(
‚‚] ^
d
‚‚^ _
=>
‚‚` b
d
‚‚c d
.
‚‚d e
QuizQuestionId
‚‚e s
)
‚‚s t
;
‚‚t u
}
„„ 	
)
„„	 

;
„„
 
modelBuilder
ÂÂ 
.
ÂÂ 
Entity
ÂÂ 
<
ÂÂ 
Quiz
ÂÂ  
>
ÂÂ  !
(
ÂÂ! "
entity
ÂÂ" (
=>
ÂÂ) +
{
ÊÊ 	
entity
ÁÁ 
.
ÁÁ 
HasKey
ÁÁ 
(
ÁÁ 
e
ÁÁ 
=>
ÁÁ 
e
ÁÁ  
.
ÁÁ  !
QuizId
ÁÁ! '
)
ÁÁ' (
.
ÁÁ( )
HasName
ÁÁ) 0
(
ÁÁ0 1
$str
ÁÁ1 :
)
ÁÁ: ;
;
ÁÁ; <
entity
ÈÈ 
.
ÈÈ 
ToTable
ÈÈ 
(
ÈÈ 
$str
ÈÈ $
)
ÈÈ$ %
;
ÈÈ% &
entity
ÎÎ 
.
ÎÎ 
HasIndex
ÎÎ 
(
ÎÎ 
e
ÎÎ 
=>
ÎÎ  
e
ÎÎ! "
.
ÎÎ" #
CourseId
ÎÎ# +
,
ÎÎ+ ,
$str
ÎÎ- C
)
ÎÎC D
;
ÎÎD E
entity
ÌÌ 
.
ÌÌ 
HasIndex
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ  
e
ÌÌ! "
.
ÌÌ" #
TopicId
ÌÌ# *
,
ÌÌ* +
$str
ÌÌ, A
)
ÌÌA B
;
ÌÌB C
entity
ÔÔ 
.
ÔÔ 
Property
ÔÔ 
(
ÔÔ 
e
ÔÔ 
=>
ÔÔ  
e
ÔÔ! "
.
ÔÔ" #
QuizId
ÔÔ# )
)
ÔÔ) *
.
 
HasColumnName
 
(
 
$str
 (
)
( )
.
ÒÒ 
UseCollation
ÒÒ 
(
ÒÒ 
$str
ÒÒ 0
)
ÒÒ0 1
.
ÚÚ 

HasCharSet
ÚÚ 
(
ÚÚ 
$str
ÚÚ #
)
ÚÚ# $
;
ÚÚ$ %
entity
ÛÛ 
.
ÛÛ 
Property
ÛÛ 
(
ÛÛ 
e
ÛÛ 
=>
ÛÛ  
e
ÛÛ! "
.
ÛÛ" #
CourseId
ÛÛ# +
)
ÛÛ+ ,
.
ÙÙ 
HasColumnName
ÙÙ 
(
ÙÙ 
$str
ÙÙ *
)
ÙÙ* +
.
ıı 
UseCollation
ıı 
(
ıı 
$str
ıı 0
)
ıı0 1
.
ˆˆ 

HasCharSet
ˆˆ 
(
ˆˆ 
$str
ˆˆ #
)
ˆˆ# $
;
ˆˆ$ %
entity
˜˜ 
.
˜˜ 
Property
˜˜ 
(
˜˜ 
e
˜˜ 
=>
˜˜  
e
˜˜! "
.
˜˜" #
	CreatedAt
˜˜# ,
)
˜˜, -
.
¯¯ 
HasColumnType
¯¯ 
(
¯¯ 
$str
¯¯ )
)
¯¯) *
.
˘˘ 
HasColumnName
˘˘ 
(
˘˘ 
$str
˘˘ +
)
˘˘+ ,
;
˘˘, -
entity
˙˙ 
.
˙˙ 
Property
˙˙ 
(
˙˙ 
e
˙˙ 
=>
˙˙  
e
˙˙! "
.
˙˙" #
	CreatedBy
˙˙# ,
)
˙˙, -
.
˙˙- .
HasColumnName
˙˙. ;
(
˙˙; <
$str
˙˙< H
)
˙˙H I
;
˙˙I J
entity
˚˚ 
.
˚˚ 
Property
˚˚ 
(
˚˚ 
e
˚˚ 
=>
˚˚  
e
˚˚! "
.
˚˚" #
Duration
˚˚# +
)
˚˚+ ,
.
˚˚, -
HasColumnName
˚˚- :
(
˚˚: ;
$str
˚˚; E
)
˚˚E F
;
˚˚F G
entity
¸¸ 
.
¸¸ 
Property
¸¸ 
(
¸¸ 
e
¸¸ 
=>
¸¸  
e
¸¸! "
.
¸¸" #

ModifiedAt
¸¸# -
)
¸¸- .
.
˝˝ 
HasColumnType
˝˝ 
(
˝˝ 
$str
˝˝ )
)
˝˝) *
.
˛˛ 
HasColumnName
˛˛ 
(
˛˛ 
$str
˛˛ ,
)
˛˛, -
;
˛˛- .
entity
ˇˇ 
.
ˇˇ 
Property
ˇˇ 
(
ˇˇ 
e
ˇˇ 
=>
ˇˇ  
e
ˇˇ! "
.
ˇˇ" #

ModifiedBy
ˇˇ# -
)
ˇˇ- .
.
ˇˇ. /
HasColumnName
ˇˇ/ <
(
ˇˇ< =
$str
ˇˇ= J
)
ˇˇJ K
;
ˇˇK L
entity
ÄÄ 
.
ÄÄ 
Property
ÄÄ 
(
ÄÄ 
e
ÄÄ 
=>
ÄÄ  
e
ÄÄ! "
.
ÄÄ" #

NameOfQuiz
ÄÄ# -
)
ÄÄ- .
.
ÄÄ. /
HasColumnName
ÄÄ/ <
(
ÄÄ< =
$str
ÄÄ= K
)
ÄÄK L
;
ÄÄL M
entity
ÅÅ 
.
ÅÅ 
Property
ÅÅ 
(
ÅÅ 
e
ÅÅ 
=>
ÅÅ  
e
ÅÅ! "
.
ÅÅ" #
PassMark
ÅÅ# +
)
ÅÅ+ ,
.
ÅÅ, -
HasColumnName
ÅÅ- :
(
ÅÅ: ;
$str
ÅÅ; F
)
ÅÅF G
;
ÅÅG H
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
TopicId
ÇÇ# *
)
ÇÇ* +
.
ÉÉ 
HasColumnName
ÉÉ 
(
ÉÉ 
$str
ÉÉ )
)
ÉÉ) *
.
ÑÑ 
UseCollation
ÑÑ 
(
ÑÑ 
$str
ÑÑ 0
)
ÑÑ0 1
.
ÖÖ 

HasCharSet
ÖÖ 
(
ÖÖ 
$str
ÖÖ #
)
ÖÖ# $
;
ÖÖ$ %
entity
áá 
.
áá 
HasOne
áá 
(
áá 
d
áá 
=>
áá 
d
áá  
.
áá  !
Course
áá! '
)
áá' (
.
áá( )
WithMany
áá) 1
(
áá1 2
p
áá2 3
=>
áá4 6
p
áá7 8
.
áá8 9
Quizzes
áá9 @
)
áá@ A
.
ááA B
HasForeignKey
ááB O
(
ááO P
d
ááP Q
=>
ááR T
d
ááU V
.
ááV W
CourseId
ááW _
)
áá_ `
;
áá` a
entity
ââ 
.
ââ 
HasOne
ââ 
(
ââ 
d
ââ 
=>
ââ 
d
ââ  
.
ââ  !
Topic
ââ! &
)
ââ& '
.
ââ' (
WithMany
ââ( 0
(
ââ0 1
p
ââ1 2
=>
ââ3 5
p
ââ6 7
.
ââ7 8
Quizzes
ââ8 ?
)
ââ? @
.
ââ@ A
HasForeignKey
ââA N
(
ââN O
d
ââO P
=>
ââQ S
d
ââT U
.
ââU V
TopicId
ââV ]
)
ââ] ^
;
ââ^ _
}
ää 	
)
ää	 

;
ää
 
modelBuilder
åå 
.
åå 
Entity
åå 
<
åå 
QuizQuestion
åå (
>
åå( )
(
åå) *
entity
åå* 0
=>
åå1 3
{
çç 	
entity
éé 
.
éé 
HasKey
éé 
(
éé 
e
éé 
=>
éé 
e
éé  
.
éé  !
QuizQuestionId
éé! /
)
éé/ 0
.
éé0 1
HasName
éé1 8
(
éé8 9
$str
éé9 B
)
ééB C
;
ééC D
entity
êê 
.
êê 
ToTable
êê 
(
êê 
$str
êê +
)
êê+ ,
;
êê, -
entity
íí 
.
íí 
HasIndex
íí 
(
íí 
e
íí 
=>
íí  
e
íí! "
.
íí" #
QuizId
íí# )
,
íí) *
$str
íí+ F
)
ííF G
;
ííG H
entity
îî 
.
îî 
Property
îî 
(
îî 
e
îî 
=>
îî  
e
îî! "
.
îî" #
QuizQuestionId
îî# 1
)
îî1 2
.
ïï 
HasColumnName
ïï 
(
ïï 
$str
ïï 1
)
ïï1 2
.
ññ 
UseCollation
ññ 
(
ññ 
$str
ññ 0
)
ññ0 1
.
óó 

HasCharSet
óó 
(
óó 
$str
óó #
)
óó# $
;
óó$ %
entity
òò 
.
òò 
Property
òò 
(
òò 
e
òò 
=>
òò  
e
òò! "
.
òò" #
	CreatedAt
òò# ,
)
òò, -
.
ôô 
HasColumnType
ôô 
(
ôô 
$str
ôô )
)
ôô) *
.
öö 
HasColumnName
öö 
(
öö 
$str
öö +
)
öö+ ,
;
öö, -
entity
õõ 
.
õõ 
Property
õõ 
(
õõ 
e
õõ 
=>
õõ  
e
õõ! "
.
õõ" #
	CreatedBy
õõ# ,
)
õõ, -
.
õõ- .
HasColumnName
õõ. ;
(
õõ; <
$str
õõ< H
)
õõH I
;
õõI J
entity
úú 
.
úú 
Property
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #

ModifiedAt
úú# -
)
úú- .
.
ùù 
HasColumnType
ùù 
(
ùù 
$str
ùù )
)
ùù) *
.
ûû 
HasColumnName
ûû 
(
ûû 
$str
ûû ,
)
ûû, -
;
ûû- .
entity
üü 
.
üü 
Property
üü 
(
üü 
e
üü 
=>
üü  
e
üü! "
.
üü" #

ModifiedBy
üü# -
)
üü- .
.
üü. /
HasColumnName
üü/ <
(
üü< =
$str
üü= J
)
üüJ K
;
üüK L
entity
†† 
.
†† 
Property
†† 
(
†† 
e
†† 
=>
††  
e
††! "
.
††" #
Question
††# +
)
††+ ,
.
††, -
HasColumnName
††- :
(
††: ;
$str
††; E
)
††E F
;
††F G
entity
°° 
.
°° 
Property
°° 
(
°° 
e
°° 
=>
°°  
e
°°! "
.
°°" #

QuestionNo
°°# -
)
°°- .
.
°°. /
HasColumnName
°°/ <
(
°°< =
$str
°°= J
)
°°J K
;
°°K L
entity
¢¢ 
.
¢¢ 
Property
¢¢ 
(
¢¢ 
e
¢¢ 
=>
¢¢  
e
¢¢! "
.
¢¢" #
QuestionType
¢¢# /
)
¢¢/ 0
.
££ 
HasMaxLength
££ 
(
££ 
$num
££  
)
££  !
.
§§ 
HasColumnName
§§ 
(
§§ 
$str
§§ .
)
§§. /
;
§§/ 0
entity
•• 
.
•• 
Property
•• 
(
•• 
e
•• 
=>
••  
e
••! "
.
••" #
QuizId
••# )
)
••) *
.
¶¶ 
HasColumnName
¶¶ 
(
¶¶ 
$str
¶¶ (
)
¶¶( )
.
ßß 
UseCollation
ßß 
(
ßß 
$str
ßß 0
)
ßß0 1
.
®® 

HasCharSet
®® 
(
®® 
$str
®® #
)
®®# $
;
®®$ %
entity
™™ 
.
™™ 
HasOne
™™ 
(
™™ 
d
™™ 
=>
™™ 
d
™™  
.
™™  !
Quiz
™™! %
)
™™% &
.
™™& '
WithMany
™™' /
(
™™/ 0
p
™™0 1
=>
™™2 4
p
™™5 6
.
™™6 7
QuizQuestions
™™7 D
)
™™D E
.
™™E F
HasForeignKey
™™F S
(
™™S T
d
™™T U
=>
™™V X
d
™™Y Z
.
™™Z [
QuizId
™™[ a
)
™™a b
;
™™b c
}
´´ 	
)
´´	 

;
´´
 
modelBuilder
≠≠ 
.
≠≠ 
Entity
≠≠ 
<
≠≠ "
Quizfeedbackquestion
≠≠ 0
>
≠≠0 1
(
≠≠1 2
entity
≠≠2 8
=>
≠≠9 ;
{
ÆÆ 	
entity
ØØ 
.
ØØ 
HasKey
ØØ 
(
ØØ 
e
ØØ 
=>
ØØ 
e
ØØ  
.
ØØ  !$
QuizFeedbackQuestionId
ØØ! 7
)
ØØ7 8
.
ØØ8 9
HasName
ØØ9 @
(
ØØ@ A
$str
ØØA J
)
ØØJ K
;
ØØK L
entity
±± 
.
±± 
ToTable
±± 
(
±± 
$str
±± 2
)
±±2 3
;
±±3 4
entity
≥≥ 
.
≥≥ 
HasIndex
≥≥ 
(
≥≥ 
e
≥≥ 
=>
≥≥  
e
≥≥! "
.
≥≥" #
QuizId
≥≥# )
,
≥≥) *
$str
≥≥+ M
)
≥≥M N
;
≥≥N O
entity
µµ 
.
µµ 
Property
µµ 
(
µµ 
e
µµ 
=>
µµ  
e
µµ! "
.
µµ" #$
QuizFeedbackQuestionId
µµ# 9
)
µµ9 :
.
∂∂ 
UseCollation
∂∂ 
(
∂∂ 
$str
∂∂ 0
)
∂∂0 1
.
∑∑ 

HasCharSet
∑∑ 
(
∑∑ 
$str
∑∑ #
)
∑∑# $
;
∑∑$ %
entity
∏∏ 
.
∏∏ 
Property
∏∏ 
(
∏∏ 
e
∏∏ 
=>
∏∏  
e
∏∏! "
.
∏∏" #
	CreatedAt
∏∏# ,
)
∏∏, -
.
∏∏- .
HasColumnType
∏∏. ;
(
∏∏; <
$str
∏∏< F
)
∏∏F G
;
∏∏G H
entity
ππ 
.
ππ 
Property
ππ 
(
ππ 
e
ππ 
=>
ππ  
e
ππ! "
.
ππ" #

ModifiedAt
ππ# -
)
ππ- .
.
ππ. /
HasColumnType
ππ/ <
(
ππ< =
$str
ππ= G
)
ππG H
;
ππH I
entity
∫∫ 
.
∫∫ 
Property
∫∫ 
(
∫∫ 
e
∫∫ 
=>
∫∫  
e
∫∫! "
.
∫∫" #
QuizId
∫∫# )
)
∫∫) *
.
ªª 
HasColumnName
ªª 
(
ªª 
$str
ªª (
)
ªª( )
.
ºº 
UseCollation
ºº 
(
ºº 
$str
ºº 0
)
ºº0 1
.
ΩΩ 

HasCharSet
ΩΩ 
(
ΩΩ 
$str
ΩΩ #
)
ΩΩ# $
;
ΩΩ$ %
entity
øø 
.
øø 
HasOne
øø 
(
øø 
d
øø 
=>
øø 
d
øø  
.
øø  !
Quiz
øø! %
)
øø% &
.
øø& '
WithMany
øø' /
(
øø/ 0
p
øø0 1
=>
øø2 4
p
øø5 6
.
øø6 7#
Quizfeedbackquestions
øø7 L
)
øøL M
.
¿¿ 
HasForeignKey
¿¿ 
(
¿¿ 
d
¿¿  
=>
¿¿! #
d
¿¿$ %
.
¿¿% &
QuizId
¿¿& ,
)
¿¿, -
.
¡¡ 
HasConstraintName
¡¡ "
(
¡¡" #
$str
¡¡# M
)
¡¡M N
;
¡¡N O
}
¬¬ 	
)
¬¬	 

;
¬¬
 
modelBuilder
ƒƒ 
.
ƒƒ 
Entity
ƒƒ 
<
ƒƒ 
Topic
ƒƒ !
>
ƒƒ! "
(
ƒƒ" #
entity
ƒƒ# )
=>
ƒƒ* ,
{
≈≈ 	
entity
∆∆ 
.
∆∆ 
HasKey
∆∆ 
(
∆∆ 
e
∆∆ 
=>
∆∆ 
e
∆∆  
.
∆∆  !
TopicId
∆∆! (
)
∆∆( )
.
∆∆) *
HasName
∆∆* 1
(
∆∆1 2
$str
∆∆2 ;
)
∆∆; <
;
∆∆< =
entity
»» 
.
»» 
ToTable
»» 
(
»» 
$str
»» "
)
»»" #
;
»»# $
entity
   
.
   
HasIndex
   
(
   
e
   
=>
    
e
  ! "
.
  " #
CourseId
  # +
,
  + ,
$str
  - A
)
  A B
;
  B C
entity
ÃÃ 
.
ÃÃ 
Property
ÃÃ 
(
ÃÃ 
e
ÃÃ 
=>
ÃÃ  
e
ÃÃ! "
.
ÃÃ" #
TopicId
ÃÃ# *
)
ÃÃ* +
.
ÕÕ 
HasColumnName
ÕÕ 
(
ÕÕ 
$str
ÕÕ )
)
ÕÕ) *
.
ŒŒ 
UseCollation
ŒŒ 
(
ŒŒ 
$str
ŒŒ 0
)
ŒŒ0 1
.
œœ 

HasCharSet
œœ 
(
œœ 
$str
œœ #
)
œœ# $
;
œœ$ %
entity
–– 
.
–– 
Property
–– 
(
–– 
e
–– 
=>
––  
e
––! "
.
––" #
CourseId
––# +
)
––+ ,
.
—— 
HasColumnName
—— 
(
—— 
$str
—— *
)
——* +
.
““ 
UseCollation
““ 
(
““ 
$str
““ 0
)
““0 1
.
”” 

HasCharSet
”” 
(
”” 
$str
”” #
)
””# $
;
””$ %
entity
‘‘ 
.
‘‘ 
Property
‘‘ 
(
‘‘ 
e
‘‘ 
=>
‘‘  
e
‘‘! "
.
‘‘" #
	CreatedAt
‘‘# ,
)
‘‘, -
.
’’ 
HasColumnType
’’ 
(
’’ 
$str
’’ )
)
’’) *
.
÷÷ 
HasColumnName
÷÷ 
(
÷÷ 
$str
÷÷ +
)
÷÷+ ,
;
÷÷, -
entity
◊◊ 
.
◊◊ 
Property
◊◊ 
(
◊◊ 
e
◊◊ 
=>
◊◊  
e
◊◊! "
.
◊◊" #
	CreatedBy
◊◊# ,
)
◊◊, -
.
◊◊- .
HasColumnName
◊◊. ;
(
◊◊; <
$str
◊◊< H
)
◊◊H I
;
◊◊I J
entity
ÿÿ 
.
ÿÿ 
Property
ÿÿ 
(
ÿÿ 
e
ÿÿ 
=>
ÿÿ  
e
ÿÿ! "
.
ÿÿ" #
Description
ÿÿ# .
)
ÿÿ. /
.
ŸŸ 
HasMaxLength
ŸŸ 
(
ŸŸ 
$num
ŸŸ !
)
ŸŸ! "
.
⁄⁄ 
HasColumnName
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ ,
)
⁄⁄, -
;
⁄⁄- .
entity
€€ 
.
€€ 
Property
€€ 
(
€€ 
e
€€ 
=>
€€  
e
€€! "
.
€€" #
IsActive
€€# +
)
€€+ ,
.
€€, -
HasColumnName
€€- :
(
€€: ;
$str
€€; F
)
€€F G
;
€€G H
entity
‹‹ 
.
‹‹ 
Property
‹‹ 
(
‹‹ 
e
‹‹ 
=>
‹‹  
e
‹‹! "
.
‹‹" #

ModifiedAt
‹‹# -
)
‹‹- .
.
›› 
HasColumnType
›› 
(
›› 
$str
›› )
)
››) *
.
ﬁﬁ 
HasColumnName
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ ,
)
ﬁﬁ, -
;
ﬁﬁ- .
entity
ﬂﬂ 
.
ﬂﬂ 
Property
ﬂﬂ 
(
ﬂﬂ 
e
ﬂﬂ 
=>
ﬂﬂ  
e
ﬂﬂ! "
.
ﬂﬂ" #

ModifiedBy
ﬂﬂ# -
)
ﬂﬂ- .
.
ﬂﬂ. /
HasColumnName
ﬂﬂ/ <
(
ﬂﬂ< =
$str
ﬂﬂ= J
)
ﬂﬂJ K
;
ﬂﬂK L
entity
‡‡ 
.
‡‡ 
Property
‡‡ 
(
‡‡ 
e
‡‡ 
=>
‡‡  
e
‡‡! "
.
‡‡" #
Name
‡‡# '
)
‡‡' (
.
·· 
HasMaxLength
·· 
(
·· 
$num
··  
)
··  !
.
‚‚ 
HasColumnName
‚‚ 
(
‚‚ 
$str
‚‚ %
)
‚‚% &
;
‚‚& '
entity
‰‰ 
.
‰‰ 
HasOne
‰‰ 
(
‰‰ 
d
‰‰ 
=>
‰‰ 
d
‰‰  
.
‰‰  !
Course
‰‰! '
)
‰‰' (
.
‰‰( )
WithMany
‰‰) 1
(
‰‰1 2
p
‰‰2 3
=>
‰‰4 6
p
‰‰7 8
.
‰‰8 9
Topics
‰‰9 ?
)
‰‰? @
.
‰‰@ A
HasForeignKey
‰‰A N
(
‰‰N O
d
‰‰O P
=>
‰‰Q S
d
‰‰T U
.
‰‰U V
CourseId
‰‰V ^
)
‰‰^ _
;
‰‰_ `
}
ÂÂ 	
)
ÂÂ	 

;
ÂÂ
 
modelBuilder
ÁÁ 
.
ÁÁ 
Entity
ÁÁ 
<
ÁÁ #
Topicfeedbackquestion
ÁÁ 1
>
ÁÁ1 2
(
ÁÁ2 3
entity
ÁÁ3 9
=>
ÁÁ: <
{
ËË 	
entity
ÈÈ 
.
ÈÈ 
HasKey
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ 
e
ÈÈ  
.
ÈÈ  !%
TopicFeedbackQuestionId
ÈÈ! 8
)
ÈÈ8 9
.
ÈÈ9 :
HasName
ÈÈ: A
(
ÈÈA B
$str
ÈÈB K
)
ÈÈK L
;
ÈÈL M
entity
ÎÎ 
.
ÎÎ 
ToTable
ÎÎ 
(
ÎÎ 
$str
ÎÎ 3
)
ÎÎ3 4
;
ÎÎ4 5
entity
ÌÌ 
.
ÌÌ 
HasIndex
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ  
e
ÌÌ! "
.
ÌÌ" #
TopicId
ÌÌ# *
,
ÌÌ* +
$str
ÌÌ, P
)
ÌÌP Q
;
ÌÌQ R
entity
ÔÔ 
.
ÔÔ 
Property
ÔÔ 
(
ÔÔ 
e
ÔÔ 
=>
ÔÔ  
e
ÔÔ! "
.
ÔÔ" #%
TopicFeedbackQuestionId
ÔÔ# :
)
ÔÔ: ;
.
 
UseCollation
 
(
 
$str
 0
)
0 1
.
ÒÒ 

HasCharSet
ÒÒ 
(
ÒÒ 
$str
ÒÒ #
)
ÒÒ# $
;
ÒÒ$ %
entity
ÚÚ 
.
ÚÚ 
Property
ÚÚ 
(
ÚÚ 
e
ÚÚ 
=>
ÚÚ  
e
ÚÚ! "
.
ÚÚ" #
	CreatedAt
ÚÚ# ,
)
ÚÚ, -
.
ÚÚ- .
HasColumnType
ÚÚ. ;
(
ÚÚ; <
$str
ÚÚ< F
)
ÚÚF G
;
ÚÚG H
entity
ÛÛ 
.
ÛÛ 
Property
ÛÛ 
(
ÛÛ 
e
ÛÛ 
=>
ÛÛ  
e
ÛÛ! "
.
ÛÛ" #

ModifiedAt
ÛÛ# -
)
ÛÛ- .
.
ÛÛ. /
HasColumnType
ÛÛ/ <
(
ÛÛ< =
$str
ÛÛ= G
)
ÛÛG H
;
ÛÛH I
entity
ÙÙ 
.
ÙÙ 
Property
ÙÙ 
(
ÙÙ 
e
ÙÙ 
=>
ÙÙ  
e
ÙÙ! "
.
ÙÙ" #
TopicId
ÙÙ# *
)
ÙÙ* +
.
ıı 
HasColumnName
ıı 
(
ıı 
$str
ıı )
)
ıı) *
.
ˆˆ 
UseCollation
ˆˆ 
(
ˆˆ 
$str
ˆˆ 0
)
ˆˆ0 1
.
˜˜ 

HasCharSet
˜˜ 
(
˜˜ 
$str
˜˜ #
)
˜˜# $
;
˜˜$ %
entity
˘˘ 
.
˘˘ 
HasOne
˘˘ 
(
˘˘ 
d
˘˘ 
=>
˘˘ 
d
˘˘  
.
˘˘  !
Topic
˘˘! &
)
˘˘& '
.
˘˘' (
WithMany
˘˘( 0
(
˘˘0 1
p
˘˘1 2
=>
˘˘3 5
p
˘˘6 7
.
˘˘7 8$
Topicfeedbackquestions
˘˘8 N
)
˘˘N O
.
˙˙ 
HasForeignKey
˙˙ 
(
˙˙ 
d
˙˙  
=>
˙˙! #
d
˙˙$ %
.
˙˙% &
TopicId
˙˙& -
)
˙˙- .
.
˚˚ 
HasConstraintName
˚˚ "
(
˚˚" #
$str
˚˚# M
)
˚˚M N
;
˚˚N O
}
¸¸ 	
)
¸¸	 

;
¸¸
 $
OnModelCreatingPartial
˛˛ 
(
˛˛ 
modelBuilder
˛˛ +
)
˛˛+ ,
;
˛˛, -
}
ˇˇ 
partial
ÅÅ 
void
ÅÅ $
OnModelCreatingPartial
ÅÅ '
(
ÅÅ' (
ModelBuilder
ÅÅ( 4
modelBuilder
ÅÅ5 A
)
ÅÅA B
;
ÅÅB C
}ÇÇ ò
:D:\backend\LXP.Data\IRepository\IBulkQuestionRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface #
IBulkQuestionRepository ,
{ 
Task 
< 
List 
< 
QuizQuestion 
> 
>  
AddQuestionsAsync! 2
(2 3
List3 7
<7 8
QuizQuestion8 D
>D E
quizQuestionsF S
)S T
;T U
Task 
AddOptionsAsync 
( 
List !
<! "
QuestionOption" 0
>0 1
questionOptions2 A
,A B
GuidC G
quizQuestionIdH V
)V W
;W X
Task

 
<

 
int

 
>

 "
GetNextQuestionNoAsync

 (
(

( )
Guid

) -
quizId

. 4
)

4 5
;

5 6
} 
} “
6D:\backend\LXP.Data\IRepository\ICategoryRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 
ICategoryRepository

 (
{ 
Task 
AddCategory 
( 
CourseCategory '
category( 0
)0 1
;1 2
Task 
< 
List 
< 
CourseCategory  
>  !
>! "
GetAllCategory# 1
(1 2
)2 3
;3 4
Task 
< 
bool 
> %
AnyCategoryByCategoryName ,
(, -
string- 3
Category4 <
)< =
;= >
CourseCategory #
GetCategoryByCategoryId .
(. /
Guid/ 3

categoryId4 >
)> ?
;? @
} 
} õ
9D:\backend\LXP.Data\IRepository\ICourseLevelRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 "
ICourseLevelRepository

 +
{ 
Task 
AddCourseLevel 
( 
CourseLevel '
level( -
)- .
;. /
Task 
< 
List 
< 
CourseLevel 
> 
> 
GetAllCourseLevel  1
(1 2
)2 3
;3 4
CourseLevel )
GetCourseLevelByCourseLevelId 1
(1 2
Guid2 6
courseLevelId7 D
)D E
;E F
} 
} Ï
4D:\backend\LXP.Data\IRepository\ICourseRepository.cs
	namespace		 	
LXP		
 
.		 
Data		 
.		 
IRepository		 
{

 
public 

	interface 
ICourseRepository &
{ 
Course &
GetCourseDetailsByCourseId )
() *
Guid* .
CourseId/ 7
)7 8
;8 9
Task 
	AddCourse 
( 
Course 
course $
)$ %
;% &
bool "
AnyCourseByCourseTitle #
(# $
string$ *
CourseTitle+ 6
)6 7
;7 8
IEnumerable 
< 
CourseListViewModel '
>' (
GetAllCourseDetails) <
(< =
)= >
;> ?
} 
} ˚
9D:\backend\LXP.Data\IRepository\ICourseTopicRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 "
ICourseTopicRepository

 +
{ 
object 
GetTopicDetails 
( 
string %
courseId& .
). /
;/ 0
Task 
AddCourseTopic 
( 
Topic !
topic" '
)' (
;( )
bool 
AnyTopicByTopicName  
(  !
string! '
	topicName( 1
)1 2
;2 3
Task 
< 
Topic 
> 
GetTopicByTopicId %
(% &
Guid& *
topicId+ 2
)2 3
;3 4
} 
} ó
7D:\backend\LXP.Data\IRepository\IDashboardRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface  
IDashboardRepository )
{ 
IEnumerable 
< %
DashboardLearnerViewModel -
>- .
GetTotalLearners/ ?
(? @
)@ A
;A B
IEnumerable		 
<		 $
DashboardCourseViewModel		 ,
>		, -
GetTotalCourses		. =
(		= >
)		> ?
;		? @
IEnumerable

 
<

 (
DashboardEnrollmentViewModel

 0
>

0 1
GetTotalEnrollments

2 E
(

E F
)

F G
;

G H
IEnumerable 
< (
DashboardEnrollmentViewModel 0
>0 1#
GetMonthWiseEnrollments2 I
(I J
)J K
;K L
IEnumerable 
< $
DashboardCourseViewModel ,
>, -
GetCourseCreated. >
(> ?
)? @
;@ A
IEnumerable 
< (
DashboardEnrollmentViewModel 0
>0 1!
GetMoreEnrolledCourse2 G
(G H
)H I
;I J
public 
List 
< 
Learner 
> 
GetNoOfLearners ,
(, -
)- .
;. /
public 
List 
< 
Course 
> 
GetNoOfCourse )
() *
)* +
;+ ,
public 
List 
< 
Learner 
> !
GetNoOfActiveLearners 2
(2 3
)3 4
;4 5
public 
List 
< 
string 
> $
GetHighestEnrolledCourse 4
(4 5
)5 6
;6 7
public 
List 
< 
string 
> 
GetTopLearners *
(* +
)+ ,
;, -
public 
List 
< 
string 
>  
GetFeedbackresponses 0
(0 1
)1 2
;2 3
} 
} ñ
8D:\backend\LXP.Data\IRepository\IEnrollmentRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 !
IEnrollmentRepository

 *
{ 
Task 
	Addenroll 
( 

Enrollment !

enrollment" ,
), -
;- .
bool +
AnyEnrollmentByLearnerAndCourse ,
(, -
Guid- 1
	learnerId2 ;
,; <
Guid= A
courseIdB J
)J K
;K L
object )
GetCourseandTopicsByLearnerId ,
(, -
Guid- 1
	learnerId2 ;
); <
;< =
} 
} —
>D:\backend\LXP.Data\IRepository\IFeedbackResponseRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface '
IFeedbackResponseRepository 0
{  
Quizfeedbackquestion #
GetQuizFeedbackQuestion 4
(4 5
Guid5 9"
quizFeedbackQuestionId: P
)P Q
;Q R!
Topicfeedbackquestion		 $
GetTopicFeedbackQuestion		 6
(		6 7
Guid		7 ;#
topicFeedbackQuestionId		< S
)		S T
;		T U
Learner

 

GetLearner

 
(

 
Guid

 
	learnerId

  )
)

) *
;

* +
Feedbackresponse +
GetExistingQuizFeedbackResponse 8
(8 9
Guid9 ="
quizFeedbackQuestionId> T
,T U
GuidV Z
	learnerId[ d
)d e
;e f
Feedbackresponse ,
 GetExistingTopicFeedbackResponse 9
(9 :
Guid: >#
topicFeedbackQuestionId? V
,V W
GuidX \
	learnerId] f
)f g
;g h
void 
AddFeedbackResponse  
(  !
Feedbackresponse! 1
feedbackResponse2 B
)B C
;C D
Guid 
? 
GetOptionIdByText 
(  
Guid  $

questionId% /
,/ 0
string1 7

optionText8 B
)B C
;C D
} 
} ¥
4D:\backend\LXP.Data\IRepository\IForgetRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface 
IForgetRepository &
{ 
public		 
bool		 
AnyUserByEmail		 "
(		" #
string		# )

loginmodel		* 4
)		4 5
;		5 6
public 
Learner 
GetLearnerByEmail (
(( )
string) /
Email0 5
)5 6
;6 7
public 
void !
UpdateLearnerPassword )
() *
string* 0
Email1 6
,6 7
string8 >
Password? G
)G H
;H I
} 
} ©
5D:\backend\LXP.Data\IRepository\ILearnerRepository.cs
	namespace		 	
LXP		
 
.		 
Data		 
.		 
IRepository		 
{

 
public 

	interface 
ILearnerRepository '
{ 
void 

AddLearner 
( 
Learner 
learner  '
)' (
;( )
Task 
< 
bool 
> 
AnyLearnerByEmail $
($ %
string% +
email, 1
)1 2
;2 3
Learner $
GetLearnerByLearnerEmail (
(( )
string) /
email0 5
)5 6
;6 7
Task 
< 
List 
< 
Learner 
> 
> 
GetAllLearner )
() *
)* +
;+ ,
Learner (
GetLearnerDetailsByLearnerId ,
(, -
Guid- 1
	LearnerId2 ;
); <
;< =
Task 
UpdateLearner 
( 
Learner "
learner# *
)* +
;+ ,
public 
IEnumerable 
<  
AllLearnersViewModel /
>/ 0
GetLearners1 <
(< =
)= >
;> ?
object +
GetAllLearnerDetailsByLearnerId .
(. /
Guid/ 3
	learnerId4 =
)= >
;> ?
object /
#GetLearnerEnrolledcourseByLearnerId 2
(2 3
Guid3 7
	learnerId8 A
)A B
;B C
} 
}   π

3D:\backend\LXP.Data\IRepository\ILoginRepository.cs
	namespace		 	
LXP		
 
.		 
Data		 
.		 
IRepository		 
{

 
public 

	interface 
ILoginRepository %
{ 
public 
Task 
LoginLearner  
(  !
Learner! (

loginmodel) 3
)3 4
;4 5
public 
Task 
< 
bool 
> 
AnyUserByEmail (
(( )
string) /

loginmodel0 :
): ;
;; <
public 
Task 
< 
bool 
> (
AnyLearnerByEmailAndPassword 6
(6 7
string7 =
Email> C
,C D
stringE K
PasswordL T
)T U
;U V
public 
Task 
< 
Learner 
> 
GetLearnerByEmail .
(. /
string/ 5
Email6 ;
); <
;< =
public 
Task !
UpdateLearnerPassword )
() *
string* 0
Email1 6
,6 7
string8 >
Password? G
)G H
;H I
}!! 
}"" ¬	
6D:\backend\LXP.Data\IRepository\IMaterialRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 
IMaterialRepository

 (
{ 
List 
< 
Material 
> /
#GetAllMaterialDetailsByTopicAndType :
(: ;
Topic; @
topicA F
,F G
MaterialTypeH T
materialTypeU a
)a b
;b c
Task 
AddMaterial 
( 
Material !
material" *
)* +
;+ ,
Task 
< 
bool 
> -
!AnyMaterialByMaterialNameAndTopic 4
(4 5
string5 ;
materialName< H
,H I
TopicI N
topicO T
)T U
;U V
Task 
< 
Material 
> -
!GetMaterialByMaterialNameAndTopic 8
(8 9
string9 ?
materialName@ L
,L M
TopicN S
topicT Y
)Y Z
;Z [
} 
} Ì
:D:\backend\LXP.Data\IRepository\IMaterialTypeRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 #
IMaterialTypeRepository

 ,
{ 
MaterialType +
GetMaterialTypeByMaterialTypeId 4
(4 5
Guid5 9
materialTypeId: H
)H I
;I J
List 
< 
MaterialType 
> 
GetAllMaterialTypes .
(. /
)/ 0
;0 1
} 
} ò
=D:\backend\LXP.Data\IRepository\IPasswordHistoryRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 &
IPasswordHistoryRepository

 /
{ 
Task 
< 
PasswordHistory 
> 
GetPasswordHistory 0
(0 1
Guid1 5
	learnerId6 ?
)? @
;@ A
Task !
UpdatePasswordHistory "
(" #
PasswordHistory# 2
passwordHistory3 B
)B C
;C D
} 
} 
DD:\backend\LXP.Data\IRepository\IProfilePasswordHistoryRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 -
!IProfilePasswordHistoryRepository

 6
{ 
void 
AddPasswordHistory1  
(  !
PasswordHistory! 0
passwordHistory1 @
)@ A
;A B
} 
; 
} ”
5D:\backend\LXP.Data\IRepository\IProfileRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public   

	interface   
IProfileRepository   '
{!! 
public"" 
void"" 

AddProfile"" 
("" 
LearnerProfile"" -
learnerprofile"". <
)""< =
;""= >
Task$$ 
<$$ 
List$$ 
<$$ 
LearnerProfile$$  
>$$  !
>$$! " 
GetAllLearnerProfile$$# 7
($$7 8
)$$8 9
;$$9 :
LearnerProfile%% 6
*GetLearnerprofileDetailsByLearnerprofileId%% A
(%%A B
Guid%%B F
	ProfileId%%G P
)%%P Q
;%%Q R
Task&& 
UpdateProfile&& 
(&& 
LearnerProfile&& )
learnerProfile&&* 8
)&&8 9
;&&9 :
}'' 
}(( ì1
8D:\backend\LXP.Data\IRepository\IQuizEngineRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface !
IQuizEngineRepository *
{ 
Task 
< $
ViewQuizDetailsViewModel %
>% &
GetQuizByIdAsync' 7
(7 8
Guid8 <
quizId= C
)C D
;D E
Task		 
<		 
IEnumerable		 
<		 '
QuizEngineQuestionViewModel		 4
>		4 5
>		5 6$
GetQuestionsForQuizAsync		7 O
(		O P
Guid		P T
quizId		U [
)		[ \
;		\ ]
Task

 
<

 
bool

 
>

 (
IsQuestionOptionCorrectAsync

 /
(

/ 0
Guid

0 4
quizQuestionId

5 C
,

C D
Guid

E I
questionOptionId

J Z
)

Z [
;

[ \
Task 
< 
string 
> $
GetQuestionTypeByIdAsync -
(- .
Guid. 2
quizQuestionId3 A
)A B
;B C
Task 
< 
IEnumerable 
< 
string 
>  
>  !-
!GetCorrectOptionsForQuestionAsync" C
(C D
GuidD H
quizQuestionIdI W
)W X
;X Y
Task 
< #
LearnerAttemptViewModel $
>$ %%
CreateLearnerAttemptAsync& ?
(? @
Guid@ D
	learnerIdE N
,N O
GuidP T
quizIdU [
,[ \
DateTime] e
	startTimef o
)o p
;p q
Task 
< #
LearnerAttemptViewModel $
>$ %&
GetLearnerAttemptByIdAsync& @
(@ A
GuidA E
	attemptIdF O
)O P
;P Q
Task %
UpdateLearnerAttemptAsync &
(& '#
LearnerAttemptViewModel' >
attempt? F
)F G
;G H
Task 
< 
bool 
> '
IsAllowedToAttemptQuizAsync .
(. /
Guid/ 3
	learnerId4 =
,= >
Guid? C
quizIdD J
)J K
;K L
Task 
< 
Guid 
> "
GetOptionIdByTextAsync )
() *
Guid* .
quizQuestionId/ =
,= >
string? E

optionTextF P
)P Q
;Q R
Task 
< $
ViewQuizDetailsViewModel %
>% &(
GetQuizDetailsByTopicIdAsync' C
(C D
GuidD H
topicIdI P
)P Q
;Q R
Task 
< 
IEnumerable 
< #
LearnerAttemptViewModel 0
>0 1
>1 2*
GetLearnerAttemptsForQuizAsync3 Q
(Q R
GuidR V
	learnerIdW `
,` a
Guidb f
quizIdg m
)m n
;n o
Task 
< 
IEnumerable 
< "
LearnerAnswerViewModel /
>/ 0
>0 1,
 GetLearnerAnswersForAttemptAsync2 R
(R S
GuidS W
	attemptIdX a
)a b
;b c
Task $
UpdateLearnerAnswerAsync %
(% &
Guid& *
learnerAnswerId+ :
,: ;
Guid< @
questionOptionIdA Q
)Q R
;R S
Task 
< 
string 
> "
GetOptionTextByIdAsync +
(+ ,
Guid, 0
optionId1 9
)9 :
;: ;
Task 
< 
IEnumerable 
< 
string 
>  
>  !#
GetQuestionOptionsAsync" 9
(9 :
Guid: >
quizQuestionId? M
)M N
;N O
Task $
ClearLearnerAnswersAsync %
(% &
Guid& *
	attemptId+ 4
,4 5
Guid6 :
quizQuestionId; I
)I J
;J K
Task 
< 
IEnumerable 
< "
LearnerAnswerViewModel /
>/ 0
>0 16
*GetLearnerAnswersByAttemptAndQuestionAsync2 \
(\ ]
Guid] a
	attemptIdb k
,k l
Guidm q
quizQuestionId	r Ä
)
Ä Å
;
Å Ç
Task $
CreateLearnerAnswerAsync %
(% &
Guid& *
learnerAttemptId+ ;
,; <
Guid= A
quizQuestionIdB P
,P Q
GuidR V
questionOptionIdW g
)g h
;h i
Task 
< '
LearnerQuizAttemptViewModel (
>( )&
GetLearnerQuizAttemptAsync* D
(D E
GuidE I
	attemptIdJ S
)S T
;T U
Task 
< -
!LearnerQuizAttemptResultViewModel .
>. /,
 GetLearnerQuizAttemptResultAsync0 P
(P Q
GuidQ U
	attemptIdV _
)_ `
;` a
Task##	 "
SaveLearnerAnswerAsync## $
(##$ %"
LearnerAnswerViewModel##% ;
learnerAnswer##< I
)##I J
;##J K
Task%% 
<%% '
QuizEngineQuestionViewModel%% (
>%%( )$
GetQuizQuestionByIdAsync%%* B
(%%B C
Guid%%C G
quizQuestionId%%H V
)%%V W
;%%W X
Task)) "
SaveCachedAnswersAsync)) #
())# $
Guid))$ (
learnerAttemptId))) 9
,))9 :

Dictionary)); E
<))E F
Guid))F J
,))J K
List))L P
<))P Q
string))Q W
>))W X
>))X Y
questionAnswers))Z i
)))i j
;))j k
Task** 
SubmitAnswerAsync** 
(** !
AnswerSubmissionModel** 4!
answerSubmissionModel**5 J
)**J K
;**K L
}++ 
},, é
:D:\backend\LXP.Data\IRepository\IQuizFeedbackRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface #
IQuizFeedbackRepository ,
{		 
Guid

 
AddFeedbackQuestion

  
(

  !)
QuizfeedbackquestionViewModel

! >#
quizfeedbackquestionDto

? V
,

V W
List

X \
<

\ ]1
$QuizFeedbackQuestionsOptionViewModel	

] Å
>


Å Ç
options


É ä
)


ä ã
;


ã å
List 
< +
QuizfeedbackquestionNoViewModel ,
>, -#
GetAllFeedbackQuestions. E
(E F
)F G
;G H
int %
GetNextFeedbackQuestionNo %
(% &
Guid& *
quizId+ 1
)1 2
;2 3
Guid %
AddFeedbackQuestionOption &
(& '0
$QuizFeedbackQuestionsOptionViewModel' K&
feedbackquestionsoptionDtoL f
,f g
Guidh l#
QuizFeedbackQuestionId	m É
)
É Ñ
;
Ñ Ö
List 
< 0
$QuizFeedbackQuestionsOptionViewModel 1
>1 2*
GetFeedbackQuestionOptionsById3 Q
(Q R
GuidR V"
QuizFeedbackQuestionIdW m
)m n
;n o+
QuizfeedbackquestionNoViewModel '#
GetFeedbackQuestionById( ?
(? @
Guid@ D"
QuizFeedbackQuestionIdE [
)[ \
;\ ]
bool 1
%ValidateOptionsByFeedbackQuestionType 2
(2 3
string3 9
questionType: F
,F G
ListH L
<L M0
$QuizFeedbackQuestionsOptionViewModelM q
>q r
optionss z
)z {
;{ |
bool "
UpdateFeedbackQuestion #
(# $
Guid$ ("
QuizFeedbackQuestionId) ?
,? @)
QuizfeedbackquestionViewModelA ^#
quizfeedbackquestionDto_ v
,v w
Listx |
<| }1
$QuizFeedbackQuestionsOptionViewModel	} °
>
° ¢
options
£ ™
)
™ ´
;
´ ¨
bool "
DeleteFeedbackQuestion #
(# $
Guid$ ("
QuizFeedbackQuestionId) ?
)? @
;@ A
List 
< +
QuizfeedbackquestionNoViewModel ,
>, -(
GetFeedbackQuestionsByQuizId. J
(J K
GuidK O
quizIdP V
)V W
;W X
bool +
DeleteFeedbackQuestionsByQuizId ,
(, -
Guid- 1
quizId2 8
)8 9
;9 :
} 
} ú
>D:\backend\LXP.Data\IRepository\IQuizQuestionJsonRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface '
IQuizQuestionJsonRepository 0
{ 
Task		 
<		 
List		 
<		 
QuizQuestion		 
>		 
>		  
AddQuestionsAsync		! 2
(		2 3
List		3 7
<		7 8
QuizQuestion		8 D
>		D E
	questions		F O
)		O P
;		P Q
Task

 
AddOptionsAsync

 
(

 
List

 !
<

! "
QuestionOption

" 0
>

0 1
questionOptions

2 A
,

A B
Guid

C G
quizQuestionId

H V
)

V W
;

W X
Task 
< 
int 
> "
GetNextQuestionNoAsync (
(( )
Guid) -
quizId. 4
)4 5
;5 6
} 
} ˝
:D:\backend\LXP.Data\IRepository\IQuizQuestionRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface #
IQuizQuestionRepository ,
{ 
void  
DecrementQuestionNos !
(! "
Guid" &
deletedQuestionId' 8
)8 9
;9 :
int 
GetNextQuestionNo 
( 
Guid "
quizId# )
)) *
;* +
Guid 
AddQuestionOption 
( #
QuestionOptionViewModel 6
questionOptionDto7 H
,H I
GuidJ N
quizQuestionIdO ]
)] ^
;^ _
List	 
< #
QuestionOptionViewModel %
>% &"
GetQuestionOptionsById' =
(= >
Guid> B
quizQuestionIdC Q
)Q R
;R S
bool )
ValidateOptionsByQuestionType *
(* +
string+ 1
questionType2 >
,> ?
List@ D
<D E#
QuestionOptionViewModelE \
>\ ]
options^ e
)e f
;f g
Task 
< 
int 
> "
GetNextQuestionNoAsync (
(( )
Guid) -
quizId. 4
)4 5
;5 6
Task 
< 
Guid 
> 
AddQuestionAsync #
(# $!
QuizQuestionViewModel$ 9
quizQuestionDto: I
,I J
ListK O
<O P#
QuestionOptionViewModelP g
>g h
optionsi p
)p q
;q r
Task 
< 
bool 
> 
UpdateQuestionAsync &
(& '
Guid' +
quizQuestionId, :
,: ;!
QuizQuestionViewModel< Q
quizQuestionDtoR a
,a b
Listc g
<g h#
QuestionOptionViewModelh 
>	 Ä
options
Å à
)
à â
;
â ä
Task 
< 
bool 
> 
DeleteQuestionAsync &
(& '
Guid' +
quizQuestionId, :
): ;
;; <
Task 
< 
List 
< #
QuizQuestionNoViewModel )
>) *
>* + 
GetAllQuestionsAsync, @
(@ A
)A B
;B C
Task 
< 
List 
< #
QuizQuestionNoViewModel )
>) *
>* +(
GetAllQuestionsByQuizIdAsync, H
(H I
GuidI M
quizIdN T
)T U
;U V
Task 
< #
QuizQuestionNoViewModel $
>$ % 
GetQuestionByIdAsync& :
(: ;
Guid; ?
quizQuestionId@ N
)N O
;O P
} 
} –
8D:\backend\LXP.Data\IRepository\IQuizReportRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 !
IQuizReportRepository

 *
{ 
IEnumerable 
< 
QuizReportViewModel '
>' (
GetQuizReports) 7
(7 8
)8 9
;9 :
} 
} •	
2D:\backend\LXP.Data\IRepository\IQuizRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface 
IQuizRepository $
{ 
Quiz 
GetQuizById 
( 
Guid 
quizId $
)$ %
;% &
IEnumerable		 
<		 
Quiz		 
>		 
GetAllQuizzes		 '
(		' (
)		( )
;		) *
void

 
AddQuiz

 
(

 
Quiz

 
quiz

 
)

 
;

  
void 

UpdateQuiz 
( 
Quiz 
quiz !
)! "
;" #
void 

DeleteQuiz 
( 
Quiz 
quiz !
)! "
;" #
Topic 
GetTopicById 
( 
Guid 
topicId  '
)' (
;( )
Quiz 
GetQuizByTopicId 
( 
Guid "
topicId# *
)* +
;+ ,
} 
} ’
.D:\backend\LXP.Data\IRepository\IRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface 
IRepository  
{ 
public 
Task 
CheckLearner  
(  !
Learner! (

loginmodel) 3
)3 4
;4 5
public

 
Task

 
<

 
bool

 
>

 
AnyUserByEmail

 (
(

( )
string

) /

loginmodel

0 :
)

: ;
;

; <
public 
Task 
< 
bool 
> (
AnyLearnerByEmailAndPassword 6
(6 7
string7 =
Email> C
,C D
stringE K
PasswordL T
)T U
;U V
public 
Task 
< 
Learner 
> 
GetLearnerByEmail .
(. /
string/ 5
Email6 ;
); <
;< =
public 
Task !
UpdateLearnerPassword )
() *
string* 0
Email1 6
,6 7
string8 >
Password? G
)G H
;H I
public 
Task 
UpdatePassword "
(" #
Learner# *
learner+ 2
)2 3
;3 4
public 
Task 
< 
Learner 
> %
LearnerByEmailAndPassword 6
(6 7
string7 =
Email> C
,C D
stringE K
PasswordL T
)T U
;U V
} 
} Ó
;D:\backend\LXP.Data\IRepository\ITopicFeedbackRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface $
ITopicFeedbackRepository -
{ 
void		 
AddFeedbackQuestion		  
(		  !!
Topicfeedbackquestion		! 6
questionEntity		7 E
)		E F
;		F G
void

 &
AddFeedbackQuestionOptions

 '
(

' (
List

( ,
<

, -#
Feedbackquestionsoption

- D
>

D E
options

F M
)

M N
;

N O
List 
< ,
 TopicFeedbackQuestionNoViewModel -
>- .#
GetAllFeedbackQuestions/ F
(F G
)G H
;H I
List 
< ,
 TopicFeedbackQuestionNoViewModel -
>- .)
GetFeedbackQuestionsByTopicId/ L
(L M
GuidM Q
topicIdR Y
)Y Z
;Z [
int %
GetNextFeedbackQuestionNo %
(% &
Guid& *
topicId+ 2
)2 3
;3 4,
 TopicFeedbackQuestionNoViewModel (#
GetFeedbackQuestionById) @
(@ A
GuidA E#
topicFeedbackQuestionIdF ]
)] ^
;^ _
void "
UpdateFeedbackQuestion #
(# $!
Topicfeedbackquestion$ 9
questionEntity: H
)H I
;I J
void "
RemoveFeedbackQuestion #
(# $!
Topicfeedbackquestion$ 9
questionEntity: H
)H I
;I J
void )
RemoveFeedbackQuestionOptions *
(* +
List+ /
</ 0#
Feedbackquestionsoption0 G
>G H
optionsI P
)P Q
;Q R
void 
ReorderQuestionNos 
(  
Guid  $
topicId% ,
,, -
int. 1
deletedQuestionNo2 C
)C D
;D E
List 
< #
Feedbackquestionsoption $
>$ %*
GetFeedbackQuestionOptionsById& D
(D E
GuidE I#
topicFeedbackQuestionIdJ a
)a b
;b c!
Topicfeedbackquestion .
"GetTopicFeedbackQuestionEntityById @
(@ A
GuidA E#
topicFeedbackQuestionIdF ]
)] ^
;^ _
} 
} …
<D:\backend\LXP.Data\IRepository\IUpdatePasswordRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{ 
public 

	interface %
IUpdatePasswordRepository .
{ 
public 
void 
UpdatePassword "
(" #
Learner# *
learner+ 2
)2 3
;3 4
Task 
< 
Learner 
> %
LearnerByEmailAndPassword /
(/ 0
string0 6
Email7 <
,< =
string> D
PasswordE M
)M N
;N O
} 
} œ
8D:\backend\LXP.Data\IRepository\IUserReportRepository.cs
	namespace 	
LXP
 
. 
Data 
. 
IRepository 
{		 
public

 

	interface

 !
IUserReportRepository

 *
{ 
IEnumerable 
< 
UserReportViewModel '
>' (
GetUserReport) 6
(6 7
)7 8
;8 9
} 
} ÷ 
8D:\backend\LXP.Data\Repository\BulkQuestionRepository.cs
	namespace 	
LXP
 
. 
Core 
. 
Repositories 
{ 
public		 

class		 "
BulkQuestionRepository		 '
:		( )#
IBulkQuestionRepository		* A
{

 
private 
readonly 
LXPDbContext %

_dbContext& 0
;0 1
public "
BulkQuestionRepository %
(% &
LXPDbContext& 2
	dbContext3 <
)< =
{ 	

_dbContext 
= 
	dbContext "
;" #
} 	
public 
async 
Task 
< 
List 
< 
QuizQuestion +
>+ ,
>, -
AddQuestionsAsync. ?
(? @
List@ D
<D E
QuizQuestionE Q
>Q R
	questionsS \
)\ ]
{ 	
await 

_dbContext 
. 
QuizQuestions *
.* +
AddRangeAsync+ 8
(8 9
	questions9 B
)B C
;C D
await 

_dbContext 
. 
SaveChangesAsync -
(- .
). /
;/ 0
return 
	questions 
; 
} 	
public 
async 
Task 
AddOptionsAsync )
() *
List* .
<. /
QuestionOption/ =
>= >
questionOptions? N
,N O
GuidP T
quizQuestionIdU c
)c d
{ 	
var 
existingQuestion  
=! "
await# (

_dbContext) 3
.3 4
QuizQuestions4 A
.A B
FirstOrDefaultAsyncB U
(U V
qV W
=>X Z
q[ \
.\ ]
QuizQuestionId] k
==l n
quizQuestionIdo }
)} ~
;~ 
if 
( 
existingQuestion  
!=! #
null$ (
)( )
{ 
foreach 
( 
var 
option #
in$ &
questionOptions' 6
)6 7
{ 
option   
.   
QuizQuestionId   )
=  * +
quizQuestionId  , :
;  : ;

_dbContext!! 
.!! 
QuestionOptions!! .
.!!. /
Add!!/ 2
(!!2 3
option!!3 9
)!!9 :
;!!: ;
}"" 
await## 

_dbContext##  
.##  !
SaveChangesAsync##! 1
(##1 2
)##2 3
;##3 4
}$$ 
else%% 
{&& 
throw'' 
new'' 
	Exception'' #
(''# $
$"''$ &
$str''& <
{''< =
quizQuestionId''= K
}''K L
$str''L \
"''\ ]
)''] ^
;''^ _
}(( 
})) 	
public++ 
async++ 
Task++ 
<++ 
int++ 
>++ "
GetNextQuestionNoAsync++ 5
(++5 6
Guid++6 :
quizId++; A
)++A B
{,, 	
try-- 
{.. 
int// 
count// 
=// 
await// !

_dbContext//" ,
.//, -
QuizQuestions//- :
.00 
Where00 
(00 
q00 
=>00 
q00  !
.00! "
QuizId00" (
==00) +
quizId00, 2
)002 3
.11 

CountAsync11 
(11  
)11  !
;11! "
return33 
count33 
+33 
$num33  
;33  !
}44 
catch55 
(55 
	Exception55 
ex55 
)55  
{66 
throw77 
new77 %
InvalidOperationException77 3
(773 4
$str88 a
,88a b
ex99 
):: 
;:: 
};; 
}<< 	
}== 
}>> æ
4D:\backend\LXP.Data\Repository\CategoryRepository.cs
	namespace

 	
LXP


 
.

 
Data

 
.

 

Repository

 
{ 
public 

class 
CategoryRepository #
:$ %
ICategoryRepository& 9
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public 
CategoryRepository !
(! "
LXPDbContext" .
lXPDbContext/ ;
); <
{ 	
_lXPDbContext 
= 
lXPDbContext (
;( )
} 	
public 
async 
Task 
AddCategory %
(% &
CourseCategory& 4
category5 =
)= >
{ 	
await 
_lXPDbContext 
.  
CourseCategories  0
.0 1
AddAsync1 9
(9 :
category: B
)B C
;C D
await 
_lXPDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
< 
List 
< 
CourseCategory -
>- .
>. /
GetAllCategory0 >
(> ?
)? @
{ 	
return 
await 
_lXPDbContext &
.& '
CourseCategories' 7
.7 8
ToListAsync8 C
(C D
)D E
;E F
} 	
public 
async 
Task 
< 
bool 
> %
AnyCategoryByCategoryName  9
(9 :
string: @
CategoryA I
)I J
{ 	
return 
await 
_lXPDbContext &
.& '
CourseCategories' 7
.7 8
AnyAsync8 @
(@ A
categoryA I
=>J L
categoryM U
.U V
CategoryV ^
==_ a
Categoryb j
)j k
;k l
} 	
public   
CourseCategory   #
GetCategoryByCategoryId   5
(  5 6
Guid  6 :

categoryId  ; E
)  E F
{!! 	
return"" 
_lXPDbContext""  
.""  !
CourseCategories""! 1
.""1 2
Find""2 6
(""6 7

categoryId""7 A
)""A B
;""B C
}## 	
}%% 
}&& å
7D:\backend\LXP.Data\Repository\CourseLevelRepository.cs
	namespace

 	
LXP


 
.

 
Data

 
.

 

Repository

 
{ 
public 

class !
CourseLevelRepository &
:' ("
ICourseLevelRepository) ?
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public !
CourseLevelRepository $
($ %
LXPDbContext% 1
lXPDbContext2 >
)> ?
{ 	
this 
. 
_lXPDbContext 
=  
lXPDbContext! -
;- .
} 	
public 
async 
Task 
AddCourseLevel (
(( )
CourseLevel) 4
level5 :
): ;
{ 	
await 
_lXPDbContext 
.  
CourseLevels  ,
., -
AddAsync- 5
(5 6
level6 ;
); <
;< =
await 
_lXPDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
async 
Task 
< 
List 
< 
CourseLevel *
>* +
>+ ,
GetAllCourseLevel- >
(> ?
)? @
{ 	
return 
_lXPDbContext  
.  !
CourseLevels! -
.- .
ToList. 4
(4 5
)5 6
;6 7
} 	
public 
CourseLevel )
GetCourseLevelByCourseLevelId 8
(8 9
Guid9 =
courseLevelId> K
)K L
{ 	
return   
_lXPDbContext    
.    !
CourseLevels  ! -
.  - .
Find  . 2
(  2 3
courseLevelId  3 @
)  @ A
;  A B
}!! 	
}"" 
}## ú%
2D:\backend\LXP.Data\Repository\CourseRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class 
CourseRepository !
:" #
ICourseRepository$ 5
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
private 
readonly 
IWebHostEnvironment ,
_environment- 9
;9 :
private 
readonly  
IHttpContextAccessor -
_contextAccessor. >
;> ?
public 
CourseRepository 
(  
LXPDbContext  ,
lXPDbContext- 9
,9 :
IWebHostEnvironment; N
environmentO Z
,Z [ 
IHttpContextAccessor\ p 
httpContextAccessor	q Ñ
)
Ñ Ö
{ 	
this 
. 
_lXPDbContext 
=  
lXPDbContext! -
;- .
_environment 
= 
environment &
;& '
_contextAccessor 
= 
httpContextAccessor 2
;2 3
} 	
public 
Course &
GetCourseDetailsByCourseId 0
(0 1
Guid1 5
CourseId6 >
)> ?
{ 	
return 
_lXPDbContext  
.  !
Courses! (
.( )
Find) -
(- .
CourseId. 6
)6 7
;7 8
} 	
public   
async   
Task   
	AddCourse   #
(  # $
Course  $ *
course  + 1
)  1 2
{!! 	
await"" 
_lXPDbContext"" 
.""  
Courses""  '
.""' (
AddAsync""( 0
(""0 1
course""1 7
)""7 8
;""8 9
await## 
_lXPDbContext## 
.##  
SaveChangesAsync##  0
(##0 1
)##1 2
;##2 3
}$$ 	
public%% 
bool%% "
AnyCourseByCourseTitle%% *
(%%* +
string%%+ 1
CourseTitle%%2 =
)%%= >
{&& 	
return'' 
_lXPDbContext''  
.''  !
Courses''! (
.''( )
Any'') ,
('', -
course''- 3
=>''4 6
course''7 =
.''= >
Title''> C
==''D F
CourseTitle''G R
)''R S
;''S T
}(( 	
public** 
IEnumerable** 
<** 
CourseListViewModel** .
>**. /
GetAllCourseDetails**0 C
(**C D
)**D E
{++ 	
return,, 
_lXPDbContext,,  
.,,  !
Courses,,! (
.-- 
Select-- 
(-- 
c-- 
=>-- 
new-- 
CourseListViewModel--  3
{.. 
CourseId// 
=// 
c// 
.//  
CourseId//  (
,//( )
Title00 
=00 
c00 
.00 
Title00 "
,00" #
Description11 
=11  
c11! "
.11" #
Description11# .
,11. /
Level22 
=22 
c22 
.22 
Level22 "
.22" #
Level22# (
,22( )
Category33 
=33 
c33 
.33  
Category33  (
.33( )
Category33) 1
,331 2
Duration44 
=44 
c44 
.44  
Duration44  (
,44( )
	CreatedAt55 
=55 
c55  
.55  !
	CreatedAt55! *
,55* +
	CreatedBy66 
=66 
c66  
.66  !
	CreatedBy66! *
,66* +
Thumbnailimage77 !
=77" #
String77$ *
.77* +
Format77+ 1
(771 2
$str772 b
,77b c
_contextAccessor884 D
.88D E
HttpContext88E P
.88P Q
Request88Q X
.88X Y
Scheme88Y _
,88_ `
_contextAccessor994 D
.99D E
HttpContext99E P
.99P Q
Request99Q X
.99X Y
Host99Y ]
,99] ^
_contextAccessor::4 D
.::D E
HttpContext::E P
.::P Q
Request::Q X
.::X Y
PathBase::Y a
,::a b
c;;4 5
.;;5 6
	Thumbnail;;6 ?
);;? @
,;;@ A
}>> 
)>> 
.?? 
ToList?? 
(?? 
)?? 
;?? 
}BB 	
}DD 
}FF ö)
7D:\backend\LXP.Data\Repository\CourseTopicRepository.cs
	namespace

 	
LXP


 
.

 
Data

 
.

 

Repository

 
{ 
public 

class !
CourseTopicRepository &
:' ("
ICourseTopicRepository) ?
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public !
CourseTopicRepository $
($ %
LXPDbContext% 1
lXPDbContext2 >
)> ?
{ 	
this 
. 
_lXPDbContext 
=  
lXPDbContext! -
;- .
} 	
public 
async 
Task 
AddCourseTopic (
(( )
Topic) .
topic/ 4
)4 5
{ 	
await 
_lXPDbContext 
.  
Topics  &
.& '
AddAsync' /
(/ 0
topic0 5
)5 6
;6 7
await 
_lXPDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
} 	
public 
object 
GetTopicDetails %
(% &
string& ,
courseId- 5
)5 6
{ 	
var 
result 
= 
from 
course $
in% '
_lXPDbContext( 5
.5 6
Courses6 =
where 
course %
.% &
CourseId& .
==/ 1
Guid2 6
.6 7
Parse7 <
(< =
courseId= E
)E F
select 
new  #
{ 
CourseId %
=& '
course( .
.. /
CourseId/ 7
,7 8
CourseTitle (
=) *
course+ 1
.1 2
Title2 7
,7 8
CourseIsActive   +
=  , -
course  . 4
.  4 5
IsActive  5 =
,  = >
Topics!! #
=!!$ %
(!!& '
from!!' +
topic!!, 1
in!!2 4
_lXPDbContext!!5 B
.!!B C
Topics!!C I
where""' ,
topic""- 2
.""2 3
CourseId""3 ;
==""< >
course""? E
.""E F
CourseId""F N
select##' -
new##. 1
{$$' (
	TopicName%%+ 4
=%%5 6
topic%%7 <
.%%< =
Name%%= A
,%%A B
TopicDescription&&+ ;
=&&< =
topic&&> C
.&&C D
Description&&D O
,&&O P
TopicId''+ 2
=''3 4
topic''5 :
.'': ;
TopicId''; B
,''B C
TopicIsActive((+ 8
=((9 :
topic((; @
.((@ A
IsActive((A I
,((I J
	Materials))+ 4
=))5 6
())7 8
from))8 <
material))= E
in))F H
_lXPDbContext))I V
.))V W
	Materials))W `
join**8 <
materialType**= I
in**J L
_lXPDbContext**M Z
.**Z [
MaterialTypes**[ h
on**i k
material**l t
.**t u
MaterialTypeId	**u É
equals
**Ñ ä
materialType
**ã ó
.
**ó ò
MaterialTypeId
**ò ¶
where++8 =
material++> F
.++F G
TopicId++G N
==++O Q
topic++R W
.++W X
TopicId++X _
select,,8 >
new,,? B
{--8 9

MaterialId..< F
=..G H
material..I Q
...Q R

MaterialId..R \
,..\ ]
MaterialName//< H
=//I J
material//K S
.//S T
Name//T X
,//X Y
MaterialType00< H
=00I J
materialType00K W
.00W X
Type00X \
,00\ ]
MaterialDuration11< L
=11M N
material11O W
.11W X
Duration11X `
}228 9
)229 :
.22: ;
ToList22; A
(22A B
)22B C
}33' (
)33( )
.33) *
ToList33* 0
(330 1
)331 2
}44 
;44 
return88 
result88 
;88 
}99 	
public:: 
bool:: 
AnyTopicByTopicName:: '
(::' (
string::( .
	topicName::/ 8
)::8 9
{;; 	
return<< 
_lXPDbContext<<  
.<<  !
Topics<<! '
.<<' (
Any<<( +
(<<+ ,
topic<<, 1
=><<2 4
topic<<5 :
.<<: ;
Name<<; ?
==<<@ B
	topicName<<C L
)<<L M
;<<M N
}== 	
public?? 
async?? 
Task?? 
<?? 
Topic?? 
>??  
GetTopicByTopicId??! 2
(??2 3
Guid??3 7
topicId??8 ?
)??? @
{@@ 	
returnAA 
awaitAA 
_lXPDbContextAA &
.AA& '
TopicsAA' -
.AA- .
	FindAsyncAA. 7
(AA7 8
topicIdAA8 ?
)AA? @
;AA@ A
}BB 	
}CC 
}DD ’n
5D:\backend\LXP.Data\Repository\DashboardRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public		 

class		 
DashboardRepository		 $
:		% & 
IDashboardRepository		' ;
{

 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public 
DashboardRepository "
(" #
LXPDbContext# /
lXPDbContext0 <
)< =
{ 	
_lXPDbContext 
= 
lXPDbContext (
;( )
} 	
public 
IEnumerable 
< $
DashboardCourseViewModel 3
>3 4
GetTotalCourses5 D
(D E
)E F
{ 	
return 
_lXPDbContext  
.  !
Courses! (
. 
Select 
( 
x 
=> 
new !$
DashboardCourseViewModel" :
{ 
CourseId 
= 
x  !
.! "
CourseId" *
,* +
Title 
= 
x 
. 
Title $
,$ %
} 
) 
. 
ToList 
( 
) 
; 
} 	
public 
IEnumerable 
< (
DashboardEnrollmentViewModel 7
>7 8
GetTotalEnrollments9 L
(L M
)M N
{ 	
return 
_lXPDbContext  
.  !
Enrollments! ,
. 
Select 
( 
x 
=> 
new !(
DashboardEnrollmentViewModel" >
{   
EnrollmentId!! !
=!!" #
x!!$ %
.!!% &
EnrollmentId!!& 2
,!!2 3
CourseId"" 
="" 
x""  !
.""! "
CourseId""" *
,""* +
	LearnerId## 
=##  
x##! "
.##" #
	LearnerId### ,
,##, -
EnrollmentDate$$ #
=$$$ %
x$$& '
.$$' (
EnrollmentDate$$( 6
,$$6 7
}%% 
)%% 
.&& 
ToList&& 
(&& 
)&& 
;&& 
}'' 	
public)) 
IEnumerable)) 
<)) %
DashboardLearnerViewModel)) 4
>))4 5
GetTotalLearners))6 F
())F G
)))G H
{** 	
return++ 
_lXPDbContext++  
.++  !
Learners++! )
.,, 
Select,, 
(,, 
x,, 
=>,, 
new,, !%
DashboardLearnerViewModel,," ;
{-- 
	LearnerId.. 
=..  
x..! "
..." #
	LearnerId..# ,
,.., -
Email// 
=// 
x// 
.// 
Email// $
,//$ %
Role00 
=00 
x00 
.00 
Role00 "
,00" #
}11 
)11 
.22 
Where22 
(22 
x22 
=>22 
x22 
.22 
Role22 #
!=22$ &
$str22' .
)22. /
.33 
ToList33 
(33 
)33 
;33 
}44 	
public66 
IEnumerable66 
<66 (
DashboardEnrollmentViewModel66 7
>667 8#
GetMonthWiseEnrollments669 P
(66P Q
)66Q R
{77 	
return:: 
_lXPDbContext::  
.::  !
Enrollments::! ,
.;; 
Select;; 
(;; 
x;; 
=>;; 
new;;  (
DashboardEnrollmentViewModel;;! =
{<< 
EnrollmentId==  
===! "
x==# $
.==$ %
EnrollmentId==% 1
,==1 2
CourseId>> 
=>> 
x>>  
.>>  !
CourseId>>! )
,>>) *
	LearnerId?? 
=?? 
x??  !
.??! "
	LearnerId??" +
,??+ ,
EnrollmentDate@@ "
=@@# $
x@@% &
.@@& '
EnrollmentDate@@' 5
,@@5 6
}AA 
)AA 
.BB 
ToListBB 
(BB 
)BB 
;BB 
}CC 	
publicEE 
IEnumerableEE 
<EE $
DashboardCourseViewModelEE 3
>EE3 4
GetCourseCreatedEE5 E
(EEE F
)EEF G
{FF 	
returnGG 
_lXPDbContextGG  
.GG  !
CoursesGG! (
.HH 
SelectHH 
(HH 
xHH 
=>HH 
newHH  $
DashboardCourseViewModelHH! 9
{II 
CourseIdJJ 
=JJ 
xJJ  
.JJ  !
CourseIdJJ! )
,JJ) *
TitleKK 
=KK 
xKK 
.KK 
TitleKK #
,KK# $
	CreatedAtLL 
=LL 
xLL  !
.LL! "
	CreatedAtLL" +
,LL+ ,
}MM 
)MM 
.NN 
ToListNN 
(NN 
)NN 
;NN 
}OO 	
publicQQ 
IEnumerableQQ 
<QQ (
DashboardEnrollmentViewModelQQ 7
>QQ7 8!
GetMoreEnrolledCourseQQ9 N
(QQN O
)QQO P
{RR 	
returnSS 
_lXPDbContextSS  
.SS  !
EnrollmentsSS! ,
.TT 
SelectTT 
(TT 
xTT 
=>TT 
newTT  (
DashboardEnrollmentViewModelTT! =
{UU 
EnrollmentIdVV  
=VV! "
xVV# $
.VV$ %
EnrollmentIdVV% 1
,VV1 2
CourseIdWW 
=WW 
xWW  
.WW  !
CourseIdWW! )
,WW) *
	LearnerIdXX 
=XX 
xXX  !
.XX! "
	LearnerIdXX" +
,XX+ ,
EnrollmentDateYY "
=YY# $
xYY% &
.YY& '
EnrollmentDateYY' 5
,YY5 6
}ZZ 
)ZZ 
.[[ 
ToList[[ 
([[ 
)[[ 
;[[ 
}\\ 	
public__ 
List__ 
<__ 
Learner__ 
>__ 
GetNoOfLearners__ ,
(__, -
)__- .
{`` 	
returnaa 
_lXPDbContextaa  
.aa  !
Learnersaa! )
.aa) *
Whereaa* /
(aa/ 0
Learneraa0 7
=>aa8 :
Learneraa; B
.aaB C
RoleaaC G
!=aaH J
$straaK R
)aaR S
.aaS T
ToListaaT Z
(aaZ [
)aa[ \
;aa\ ]
}bb 	
publicdd 
Listdd 
<dd 
Coursedd 
>dd 
GetNoOfCoursedd )
(dd) *
)dd* +
{ee 	
returnff 
_lXPDbContextff  
.ff  !
Coursesff! (
.ff( )
ToListff) /
(ff/ 0
)ff0 1
;ff1 2
}gg 	
publicjj 
Listjj 
<jj 
Learnerjj 
>jj !
GetNoOfActiveLearnersjj 2
(jj2 3
)jj3 4
{kk 	
DateTimell 
OneMonthAgoll  
=ll! "
DateTimell# +
.ll+ ,
Nowll, /
.ll/ 0
	AddMonthsll0 9
(ll9 :
-ll: ;
$numll; <
)ll< =
;ll= >
returnmm 
_lXPDbContextmm  
.mm  !
Learnersmm! )
.mm) *
Wheremm* /
(mm/ 0
Learnermm0 7
=>mm8 :
Learnermm; B
.mmB C
RolemmC G
!=mmG I
$strmmJ Q
&&mmR T
LearnermmU \
.mm\ ]
UserLastLoginmm] j
>mmk l
OneMonthAgommm x
)mmx y
.mmy z
ToList	mmz Ä
(
mmÄ Å
)
mmÅ Ç
;
mmÇ É
}nn 	
publicpp 
Listpp 
<pp 
stringpp 
>pp 
GetTopLearnerspp *
(pp* +
)pp+ ,
{qq 	
varrr 
topLearnersrr 
=rr 
_lXPDbContextrr +
.rr+ ,
Enrollmentsrr, 7
.ss 
GroupByss 
(ss 
ess 
=>ss 
ess 
.ss 
	LearnerIdss (
)ss( )
.tt 
OrderByDescendingtt !
(tt! "
gtt" #
=>tt$ &
gtt' (
.tt( )
Counttt) .
(tt. /
)tt/ 0
)tt0 1
.uu 
Takeuu 
(uu 
$numuu 
)uu 
.vv 
Selectvv 
(vv 
gvv 
=>vv 
gvv 
.vv 
Keyvv !
)vv! "
.ww 
ToListww 
(ww 
)ww 
;ww 
varxx  
topLearnersWithNamesxx $
=xx% &
_lXPDbContextxx' 4
.xx4 5
LearnerProfilesxx5 D
.yy 
Whereyy 
(yy 
pyy 
=>yy 
topLearnersyy '
.yy' (
Containsyy( 0
(yy0 1
pyy1 2
.yy2 3
	LearnerIdyy3 <
)yy< =
)yy= >
.zz 
Selectzz 
(zz 
pzz 
=>zz 
newzz !
{zz" #
pzz$ %
.zz% &
	FirstNamezz& /
,zz/ 0
pzz1 2
.zz2 3
LastNamezz3 ;
}zz< =
)zz= >
.{{ 
ToList{{ 
({{ 
){{ 
.|| 
Select|| 
(|| 
p|| 
=>|| 
(|| 
$"|| !
{||! "
p||" #
.||# $
	FirstName||$ -
}||- .
$str||. /
{||/ 0
p||0 1
.||1 2
LastName||2 :
}||: ;
"||; <
)||< =
)||= >
.}} 
ToList}} 
(}} 
)}} 
;}} 
return  
topLearnersWithNames '
;' (
}
ÄÄ 	
public
ÇÇ 
List
ÇÇ 
<
ÇÇ 
string
ÇÇ 
>
ÇÇ &
GetHighestEnrolledCourse
ÇÇ 4
(
ÇÇ4 5
)
ÇÇ5 6
{
ÉÉ 	
var
ÑÑ  
TopEnrolledCourses
ÑÑ "
=
ÑÑ# $
_lXPDbContext
ÑÑ% 2
.
ÑÑ2 3
Enrollments
ÑÑ3 >
.
ÖÖ 
GroupBy
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ 
e
ÖÖ 
.
ÖÖ  
CourseId
ÖÖ  (
)
ÖÖ( )
.
ÜÜ 
OrderByDescending
ÜÜ "
(
ÜÜ" #
g
ÜÜ# $
=>
ÜÜ% '
g
ÜÜ( )
.
ÜÜ) *
Count
ÜÜ* /
(
ÜÜ/ 0
)
ÜÜ0 1
)
ÜÜ1 2
.
áá 
Select
áá 
(
áá 
g
áá 
=>
áá 
new
áá  
{
áá! "
CourseId
áá# +
=
áá, -
g
áá. /
.
áá/ 0
Key
áá0 3
,
áá3 4
Count
áá5 :
=
áá; <
g
áá= >
.
áá> ?
Count
áá? D
(
ááD E
)
ááE F
}
ááG H
)
ááH I
.
àà 
Take
àà 
(
àà 
$num
àà 
)
àà 
.
ââ 
ToList
ââ 
(
ââ 
)
ââ 
;
ââ 
var
ää 
courseNames
ää 
=
ää 
new
ää !
List
ää" &
<
ää& '
string
ää' -
>
ää- .
(
ää. /
)
ää/ 0
;
ää0 1
foreach
ãã 
(
ãã 
var
ãã 
course
ãã 
in
ãã  " 
TopEnrolledCourses
ãã# 5
)
ãã5 6
{
åå 
var
çç 

courseName
çç 
=
çç  
_lXPDbContext
çç! .
.
çç. /
Courses
çç/ 6
.
éé 
Where
éé 
(
éé 
c
éé 
=>
éé 
c
éé  !
.
éé! "
CourseId
éé" *
==
éé+ -
course
éé. 4
.
éé4 5
CourseId
éé5 =
)
éé= >
.
èè 
Select
èè 
(
èè 
c
èè 
=>
èè  
c
èè! "
.
èè" #
Title
èè# (
)
èè( )
.
êê 
FirstOrDefault
êê #
(
êê# $
)
êê$ %
;
êê% &
if
ëë 
(
ëë 
!
ëë 
string
ëë 
.
ëë 
IsNullOrEmpty
ëë )
(
ëë) *

courseName
ëë* 4
)
ëë4 5
)
ëë5 6
{
íí 
courseNames
ìì 
.
ìì  
Add
ìì  #
(
ìì# $

courseName
ìì$ .
)
ìì. /
;
ìì/ 0
}
îî 
}
ïï 
return
ññ 
courseNames
ññ 
;
ññ 
}
óó 	
public
ôô 
List
ôô 
<
ôô 
string
ôô 
>
ôô "
GetFeedbackresponses
ôô 0
(
ôô0 1
)
ôô1 2
{
öö 	
var
õõ 
feedbackResponses
õõ !
=
õõ" #
_lXPDbContext
õõ$ 1
.
õõ1 2
Feedbackresponses
õõ2 C
.
úú
 
OrderByDescending
úú 
(
úú 
e
úú 
=>
úú !
e
úú" #
.
úú# $
GeneratedAt
úú$ /
)
úú/ 0
.
ùù
 
Where
ùù 
(
ùù 
p
ùù 
=>
ùù 
p
ùù 
.
ùù 
Response
ùù 
!=
ùù  
null
ùù  $
)
ùù$ %
.
ûû
 
Select
ûû 
(
ûû 
p
ûû 
=>
ûû 
p
ûû 
.
ûû 
Response
ûû !
)
ûû! "
.
üü
 
Take
üü 
(
üü 
$num
üü 
)
üü 
.
††
 
ToList
†† 
(
†† 
)
†† 
;
†† 
return
¢¢ 
feedbackResponses
¢¢ $
;
¢¢$ %
}
££ 	
}
•• 
}¶¶ ∫;
6D:\backend\LXP.Data\Repository\EnrollmentRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class  
EnrollmentRepository %
:& '!
IEnrollmentRepository( =
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
private 
readonly 
IWebHostEnvironment ,
_environment- 9
;9 :
private 
readonly  
IHttpContextAccessor -
_contextAccessor. >
;> ?
public  
EnrollmentRepository #
(# $
LXPDbContext$ 0
lXPDbContext1 =
,= >
IWebHostEnvironment? R
webHostEnvironmentS e
,e f 
IHttpContextAccessorg { 
httpContextAccessor	| è
)
è ê
{ 	
_lXPDbContext 
= 
lXPDbContext (
;( )
_environment 
= 
webHostEnvironment -
;- .
_contextAccessor 
= 
httpContextAccessor 2
;2 3
} 	
public 
async 
Task 
	Addenroll #
(# $

Enrollment$ .

enrollment/ 9
)9 :
{ 	
await 
_lXPDbContext 
.  
Enrollments  +
.+ ,
AddAsync, 4
(4 5

enrollment5 ?
)? @
;@ A
await   
_lXPDbContext   
.    
SaveChangesAsync    0
(  0 1
)  1 2
;  2 3
}"" 	
public$$ 
bool$$ +
AnyEnrollmentByLearnerAndCourse$$ 3
($$3 4
Guid$$4 8
	LearnerId$$9 B
,$$B C
Guid$$D H
CourseId$$I Q
)$$Q R
{%% 	
return&& 
_lXPDbContext&&  
.&&  !
Enrollments&&! ,
.&&, -
Any&&- 0
(&&0 1

enrollment&&1 ;
=>&&< >

enrollment&&? I
.&&I J
	LearnerId&&J S
==&&T V
	LearnerId&&W `
&&&&a c

enrollment&&d n
.&&n o
CourseId&&o w
==&&x z
CourseId	&&{ É
)
&&É Ñ
;
&&Ñ Ö
}'' 	
public)) 
object)) )
GetCourseandTopicsByLearnerId)) 3
())3 4
Guid))4 8
	learnerId))9 B
)))B C
{** 	
var++ 
result++ 
=++ 
from++ 

enrollment++ (
in++) +
_lXPDbContext++, 9
.++9 :
Enrollments++: E
where,, 

enrollment,, )
.,,) *
	LearnerId,,* 3
==,,4 6
	learnerId,,7 @
select-- 
new--  #
{.. 
enrolledCourseId// -
=//. /

enrollment//0 :
.//: ;
CourseId//; C
,//C D
enrolledCoursename00 /
=000 1

enrollment002 <
.00< =
Course00= C
.00C D
Title00D I
,00I J%
enrolledcoursedescription11 6
=117 8

enrollment119 C
.11C D
Course11D J
.11J K
Description11K V
,11V W"
enrolledcoursecategory22 3
=224 5

enrollment226 @
.22@ A
Course22A G
.22G H
Category22H P
.22P Q
Category22Q Y
,22Y Z 
enrolledcourselevels33 1
=332 3

enrollment334 >
.33> ?
Course33? E
.33E F
Level33F K
.33K L
Level33L Q
,33Q R
Thumbnailimage44 +
=44, -
String44. 4
.444 5
Format445 ;
(44; <
$str44< l
,44l m
_contextAccessor55 -
.55- .
HttpContext55. 9
.559 :
Request55: A
.55A B
Scheme55B H
,55H I
_contextAccessor66 -
.66- .
HttpContext66. 9
.669 :
Request66: A
.66A B
Host66B F
,66F G
_contextAccessor77 -
.77- .
HttpContext77. 9
.779 :
Request77: A
.77A B
PathBase77B J
,77J K

enrollment88 '
.88' (
Course88( .
.88. /
	Thumbnail88/ 8
)888 9
,889 :
Topics:: #
=::$ %
(::& '
from::' +
topic::, 1
in::2 4
_lXPDbContext::5 B
.::B C
Topics::C I
where;;' ,
topic;;- 2
.;;2 3
CourseId;;3 ;
==;;< >

enrollment;;? I
.;;I J
CourseId;;J R
&&;;S U
topic;;V [
.;;[ \
IsActive;;\ d
==;;e g
true;;h l
select<<' -
new<<. 1
{==' (
	TopicName>>+ 4
=>>5 6
topic>>7 <
.>>< =
Name>>= A
,>>A B
TopicDescription??+ ;
=??< =
topic??> C
.??C D
Description??D O
,??O P
TopicId@@+ 2
=@@3 4
topic@@5 :
.@@: ;
TopicId@@; B
,@@B C
TopicIsActiveAA+ 8
=AA9 :
topicAA; @
.AA@ A
IsActiveAAA I
,AAI J
	MaterialsBB+ 4
=BB5 6
(BB7 8
fromBB8 <
materialBB= E
inBBF H
_lXPDbContextBBI V
.BBV W
	MaterialsBBW `
joinCC8 <
materialTypeCC= I
inCCJ L
_lXPDbContextCCM Z
.CCZ [
MaterialTypesCC[ h
onCCi k
materialCCl t
.CCt u
MaterialTypeId	CCu É
equals
CCÑ ä
materialType
CCã ó
.
CCó ò
MaterialTypeId
CCò ¶
whereEE8 =
materialEE> F
.EEF G
TopicIdEEG N
==EEO Q
topicEER W
.EEW X
TopicIdEEX _
selectFF8 >
newFF? B
{GG8 9

MaterialIdHH< F
=HHG H
materialHHI Q
.HHQ R

MaterialIdHHR \
,HH\ ]
MaterialNameII< H
=III J
materialIIK S
.IIS T
NameIIT X
,IIX Y
MaterialTypeJJ< H
=JJI J
materialTypeJJK W
.JJW X
TypeJJX \
,JJ\ ]
MaterialKK< D
=KKE F
StringKKG M
.KKM N
FormatKKN T
(KKT U
$strKKU ~
,KK~ 
_contextAccessorLL< L
.LLL M
HttpContextLLM X
.LLX Y
RequestLLY `
.LL` a
SchemeLLa g
,LLg h
_contextAccessorMM< L
.MML M
HttpContextMMM X
.MMX Y
RequestMMY `
.MM` a
HostMMa e
,MMe f
_contextAccessorNN< L
.NNL M
HttpContextNNM X
.NNX Y
RequestNNY `
.NN` a
PathBaseNNa i
,NNi j
materialOO< D
.OOD E
FilePathOOE M
)OOM N
,OON O
MaterialDurationPP< L
=PPM N
materialPPO W
.PPW X
DurationPPX `
}QQ8 9
)QQ9 :
.QQ: ;
ToListQQ; A
(QQA B
)QQB C
,QQC D
}YY' (
)YY( )
.YY) *
ToListYY* 0
(YY0 1
)YY1 2
}ZZ 
;ZZ 
return[[ 
result[[ 
;[[ 
}^^ 	
}__ 
}`` û0
<D:\backend\LXP.Data\Repository\FeedbackResponseRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public		 

class		 &
FeedbackResponseRepository		 +
:		, -'
IFeedbackResponseRepository		. I
{

 
private 
readonly 
LXPDbContext %
_context& .
;. /
public &
FeedbackResponseRepository )
() *
LXPDbContext* 6
context7 >
)> ?
{ 	
_context 
= 
context 
; 
} 	
public  
Quizfeedbackquestion ##
GetQuizFeedbackQuestion$ ;
(; <
Guid< @"
quizFeedbackQuestionIdA W
)W X
{ 	
return 
_context 
. !
Quizfeedbackquestions 1
.1 2
FirstOrDefault2 @
(@ A
qA B
=>C E
qF G
.G H"
QuizFeedbackQuestionIdH ^
==_ a"
quizFeedbackQuestionIdb x
)x y
;y z
} 	
public !
Topicfeedbackquestion $$
GetTopicFeedbackQuestion% =
(= >
Guid> B#
topicFeedbackQuestionIdC Z
)Z [
{ 	
return 
_context 
. "
Topicfeedbackquestions 2
.2 3
FirstOrDefault3 A
(A B
qB C
=>D F
qG H
.H I#
TopicFeedbackQuestionIdI `
==a c#
topicFeedbackQuestionIdd {
){ |
;| }
} 	
public 
Learner 

GetLearner !
(! "
Guid" &
	learnerId' 0
)0 1
{ 	
return 
_context 
. 
Learners $
.$ %
FirstOrDefault% 3
(3 4
l4 5
=>6 8
l9 :
.: ;
	LearnerId; D
==E G
	learnerIdH Q
)Q R
;R S
} 	
public!! 
Feedbackresponse!! +
GetExistingQuizFeedbackResponse!!  ?
(!!? @
Guid!!@ D"
quizFeedbackQuestionId!!E [
,!![ \
Guid!!] a
	learnerId!!b k
)!!k l
{"" 	
return## 
_context## 
.## 
Feedbackresponses## -
.##- .
FirstOrDefault##. <
(##< =
r##= >
=>##? A
r##B C
.##C D"
QuizFeedbackQuestionId##D Z
==##[ ]"
quizFeedbackQuestionId##^ t
&&##u w
r##x y
.##y z
	LearnerId	##z É
==
##Ñ Ü
	learnerId
##á ê
)
##ê ë
;
##ë í
}$$ 	
public&& 
Feedbackresponse&& ,
 GetExistingTopicFeedbackResponse&&  @
(&&@ A
Guid&&A E#
topicFeedbackQuestionId&&F ]
,&&] ^
Guid&&_ c
	learnerId&&d m
)&&m n
{'' 	
return(( 
_context(( 
.(( 
Feedbackresponses(( -
.((- .
FirstOrDefault((. <
(((< =
r((= >
=>((? A
r((B C
.((C D#
TopicFeedbackQuestionId((D [
==((\ ^#
topicFeedbackQuestionId((_ v
&&((w y
r((z {
.(({ |
	LearnerId	((| Ö
==
((Ü à
	learnerId
((â í
)
((í ì
;
((ì î
})) 	
public++ 
void++ 
AddFeedbackResponse++ '
(++' (
Feedbackresponse++( 8
feedbackResponse++9 I
)++I J
{,, 	
_context-- 
.-- 
Feedbackresponses-- &
.--& '
Add--' *
(--* +
feedbackResponse--+ ;
)--; <
;--< =
_context.. 
... 
SaveChanges..  
(..  !
)..! "
;.." #
}// 	
public11 
void11  
AddFeedbackResponses11 (
(11( )
IEnumerable11) 4
<114 5
Feedbackresponse115 E
>11E F
feedbackResponses11G X
)11X Y
{22 	
_context33 
.33 
Feedbackresponses33 &
.33& '
AddRange33' /
(33/ 0
feedbackResponses330 A
)33A B
;33B C
_context44 
.44 
SaveChanges44  
(44  !
)44! "
;44" #
}55 	
public<< 
Guid<< 
?<< 
GetOptionIdByText<< &
(<<& '
Guid<<' +

questionId<<, 6
,<<6 7
string<<8 >

optionText<<? I
)<<I J
{== 	
var>> 
option>> 
=>> 
_context>> !
.>>! "$
Feedbackquestionsoptions>>" :
.?? 
FirstOrDefault?? 
(??  
o??  !
=>??" $
o??% &
.??& '"
QuizFeedbackQuestionId??' =
==??> @

questionId??A K
&&??L N
o??O P
.??P Q

OptionText??Q [
.??[ \
ToLower??\ c
(??c d
)??d e
==??f h

optionText??i s
.??s t
ToLower??t {
(??{ |
)??| }
)??} ~
??	?? Å
_context@@ "
.@@" #$
Feedbackquestionsoptions@@# ;
.AA 
FirstOrDefaultAA 
(AA  
oAA  !
=>AA" $
oAA% &
.AA& '#
TopicFeedbackQuestionIdAA' >
==AA? A

questionIdAAB L
&&AAM O
oAAP Q
.AAQ R

OptionTextAAR \
.AA\ ]
ToLowerAA] d
(AAd e
)AAe f
==AAg i

optionTextAAj t
.AAt u
ToLowerAAu |
(AA| }
)AA} ~
)AA~ 
;	AA Ä
returnCC 
optionCC 
?CC 
.CC $
FeedbackQuestionOptionIdCC 3
;CC3 4
}DD 	
}EE 
}FF √
2D:\backend\LXP.Data\Repository\ForgetRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class 
ForgetRepository !
:" #
IForgetRepository$ 5
{ 
private 
readonly 
LXPDbContext %

_dbcontext& 0
;0 1
public 
ForgetRepository 
(  
LXPDbContext  ,
	dbcontext- 6
)6 7
{ 	

_dbcontext 
= 
	dbcontext "
;" #
} 	
public 
bool 
AnyUserByEmail "
(" #
string# )

loginmodel* 4
)4 5
{ 	
return 

_dbcontext 
. 
Learners &
.& '
Any' *
(* +
learner+ 2
=>3 5
learner6 =
.= >
Email> C
==D F

loginmodelG Q
)Q R
;R S
} 	
public 
Learner 
GetLearnerByEmail (
(( )
string) /
Email0 5
)5 6
{ 	
return 

_dbcontext 
. 
Learners &
.& '
FirstOrDefault' 5
(5 6
learner6 =
=>> @
learnerA H
.H I
EmailI N
==O Q
EmailR W
)W X
;X Y
} 	
public 
void !
UpdateLearnerPassword )
() *
string* 0
Email1 6
,6 7
string8 >
Password? G
)G H
{   	
Learner!! 
learner!! 
=!! 
GetLearnerByEmail!! /
(!!/ 0
Email!!0 5
)!!5 6
;!!6 7
learner"" 
."" 
Password"" 
="" 
Password"" '
;""' (

_dbcontext## 
.## 
Learners## 
.##  
Update##  &
(##& '
learner##' .
)##. /
;##/ 0

_dbcontext$$ 
.$$ 
SaveChangesAsync$$ '
($$' (
)$$( )
;$$) *
}%% 	
}66 
}77 ÀK
3D:\backend\LXP.Data\Repository\LearnerRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class 
LearnerRepository "
:# $
ILearnerRepository% 7
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
private 
readonly 
IWebHostEnvironment ,
_environment- 9
;9 :
private 
readonly  
IHttpContextAccessor -
_contextAccessor. >
;> ?
public 
LearnerRepository  
(  !
LXPDbContext! -
context. 5
,5 6
IWebHostEnvironment7 J
environmentK V
,V W 
IHttpContextAccessorX l 
httpContextAccessor	m Ä
)
Ä Å
{
Ç É
_lXPDbContext 
= 
context #
;# $
_environment 
= 
environment &
;& '
_contextAccessor 
= 
httpContextAccessor 2
;2 3
} 	
public 
void 

AddLearner 
( 
Learner &
learner' .
). /
{0 1
_lXPDbContext 
. 
Learners "
." #
Add# &
(& '
learner' .
). /
;/ 0
_lXPDbContext"" 
."" 
SaveChanges"" %
(""% &
)""& '
;""' (
}%% 	
public-- 
async-- 
Task-- 
<-- 
bool-- 
>-- 
AnyLearnerByEmail--  1
(--1 2
string--2 8
email--9 >
)--> ?
{.. 	
return// 
_lXPDbContext// !
.//! "
Learners//" *
.//* +
Any//+ .
(//. /
l/// 0
=>//1 3
l//4 5
.//5 6
Email//6 ;
==//< >
email//? D
)//D E
;//E F
}00 	
public33 
Learner33 $
GetLearnerByLearnerEmail33 /
(33/ 0
string330 6
email337 <
)33< =
{44 	
return55 
_lXPDbContext55  
.55  !
Learners55! )
.55) *
FirstOrDefault55* 8
(558 9
learner559 @
=>55A C
learner55D K
.55K L
Email55L Q
==55R T
email55U Z
)55Z [
;55[ \
}66 	
public88 
async88 
Task88 
<88 
List88 
<88 
Learner88 &
>88& '
>88' (
GetAllLearner88) 6
(886 7
)887 8
{99 	
return:: 
_lXPDbContext::  
.::  !
Learners::! )
.::) *
ToList::* 0
(::0 1
)::1 2
;::2 3
};; 	
public== 
Learner== (
GetLearnerDetailsByLearnerId== 3
(==3 4
Guid==4 8
	LearnerId==9 B
)==B C
{?? 	
returnAA 
_lXPDbContextAA  
.AA  !
LearnersAA! )
.AA) *
FindAA* .
(AA. /
	LearnerIdAA/ 8
)AA8 9
;AA9 :
}DD 	
publicFF 
asyncFF 
TaskFF 
UpdateLearnerFF '
(FF' (
LearnerFF( /
learnerFF0 7
)FF7 8
{GG 	
_lXPDbContextHH 
.HH 
LearnersHH "
.HH" #
UpdateHH# )
(HH) *
learnerHH* 1
)HH1 2
;HH2 3
awaitII 
_lXPDbContextII 
.II  
SaveChangesAsyncII  0
(II0 1
)II1 2
;II2 3
}JJ 	
publicLL 
IEnumerableLL 
<LL  
AllLearnersViewModelLL /
>LL/ 0
GetLearnersLL1 <
(LL< =
)LL= >
{MM 	
returnNN 
_lXPDbContextNN  
.NN  !
LearnerProfilesNN! 0
.OO 
SelectOO "
(OO" #
cOO# $
=>OO% '
newOO( + 
AllLearnersViewModelOO, @
{PP 
	LearnerIDRR (
=RR) *
cRR+ ,
.RR, -
	LearnerIdRR- 6
,RR6 7
LearnerNameSS *
=SS+ ,
cSS- .
.SS. /
	FirstNameSS/ 8
+SS9 :
$strSS; >
+SS? @
cSSA B
.SSB C
LastNameSSC K
,SSK L
EmailTT $
=TT% &
cTT' (
.TT( )
LearnerTT) 0
.TT0 1
EmailTT1 6
,TT6 7
	LastLoginUU (
=UU) *
cUU+ ,
.UU, -
LearnerUU- 4
.UU4 5
UserLastLoginUU5 B
,UUB C
}VV 
)XX 
.XX 
ToListXX 
(XX 
)XX 
;XX 
}YY 	
public\\ 
object\\ +
GetAllLearnerDetailsByLearnerId\\ 5
(\\5 6
Guid\\6 :
	learnerid\\; D
)\\D E
{]] 	
var^^ 
result^^ 
=^^ 
from^^ 
learner^^ %
in^^& (
_lXPDbContext^^) 6
.^^6 7
Learners^^7 ?
where__ 
learner__ &
.__& '
	LearnerId__' 0
==__1 3
	learnerid__4 =
select`` 
new``  #
{aa 
LearnerEmailbb )
=bb* +
learnerbb, 3
.bb3 4
Emailbb4 9
,bb9 :
LearnerLastlogincc -
=cc. /
learnercc0 7
.cc7 8
UserLastLogincc8 E
,ccE F
LearnerFirstNamedd -
=dd. /
learnerdd0 7
.dd7 8
LearnerProfilesdd8 G
.ddG H
FirstddH M
(ddM N
)ddN O
.ddO P
	FirstNameddP Y
,ddY Z
LearnerLastNameee ,
=ee- .
learneree/ 6
.ee6 7
LearnerProfilesee7 F
.eeF G
FirsteeG L
(eeL M
)eeM N
.eeN O
LastNameeeO W
,eeW X

LearnerDobff '
=ff( )
learnerff* 1
.ff1 2
LearnerProfilesff2 A
.ffA B
FirstffB G
(ffG H
)ffH I
.ffI J
DobffJ M
,ffM N
LearnerGendergg *
=gg+ ,
learnergg- 4
.gg4 5
LearnerProfilesgg5 D
.ggD E
FirstggE J
(ggJ K
)ggK L
.ggL M
GenderggM S
,ggS T 
LearnerContactNumberhh 1
=hh2 3
learnerhh4 ;
.hh; <
LearnerProfileshh< K
.hhK L
FirsthhL Q
(hhQ R
)hhR S
.hhS T
ContactNumberhhT a
,hha b
LearnerStreamii *
=ii+ ,
learnerii- 4
.ii4 5
LearnerProfilesii5 D
.iiD E
FirstiiE J
(iiJ K
)iiK L
.iiL M
StreamiiM S
,iiS T
Learnerprofilejj +
=jj, -
Stringjj. 4
.jj4 5
Formatjj5 ;
(jj; <
$strjj< k
,jjk l
_contextAccessorkkP `
.kk` a
HttpContextkka l
!kkl m
.kkm n
Requestkkn u
.kku v
Schemekkv |
,kk| }
_contextAccessorllP `
.ll` a
HttpContextlla l
.lll m
Requestllm t
.llt u
Hostllu y
,lly z
_contextAccessormmP `
.mm` a
HttpContextmma l
.mml m
Requestmmm t
.mmt u
PathBasemmu }
,mm} ~
learnernnP W
.nnW X
LearnerProfilesnnX g
.nng h
Firstnnh m
(nnm n
)nnn o
.nno p
ProfilePhotonnp |
)nn| }
}qq 
;qq 
returnrr 
resultrr 
;rr 
}ss 	
publicww 
objectww /
#GetLearnerEnrolledcourseByLearnerIdww 9
(ww9 :
Guidww: >
	learneridww? H
)wwH I
{xx 	
varyy 
resultyy 
=yy 
fromyy 

enrollmentyy (
inyy) +
_lXPDbContextyy, 9
.yy9 :
Enrollmentsyy: E
wherezz 

enrollmentzz )
.zz) *
	LearnerIdzz* 3
==zz4 6
	learneridzz7 @
orderby{{  

enrollment{{! +
.{{+ ,
EnrollmentDate{{, :

descending{{; E
select|| 
new||  #
{}} 
Enrollmentid~~ )
=~~* +

enrollment~~, 6
.~~6 7
EnrollmentId~~7 C
,~~C D
Enrolledcourse +
=, -

enrollment. 8
.8 9
Course9 ?
.? @
Title@ E
,E F$
EnrolledCourseCategory
ÄÄ 3
=
ÄÄ4 5

enrollment
ÄÄ6 @
.
ÄÄ@ A
Course
ÄÄA G
.
ÄÄG H
Category
ÄÄH P
.
ÄÄP Q
Category
ÄÄQ Y
,
ÄÄY Z"
EnrolledCourselevels
ÅÅ 1
=
ÅÅ2 3

enrollment
ÅÅ4 >
.
ÅÅ> ?
Course
ÅÅ? E
.
ÅÅE F
Level
ÅÅF K
.
ÅÅK L
Level
ÅÅL Q
,
ÅÅQ R
Enrollmentdate
ÇÇ +
=
ÇÇ, -

enrollment
ÇÇ. 8
.
ÇÇ8 9
EnrollmentDate
ÇÇ9 G
,
ÇÇG H
}
ÉÉ 
;
ÉÉ 
return
ÑÑ 
result
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
}
ää 
}åå ◊
1D:\backend\LXP.Data\Repository\LoginRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class 
LoginRepository  
:! "
ILoginRepository# 3
{ 
private 
readonly 
LXPDbContext %

_dbcontext& 0
;0 1
public 
LoginRepository 
( 
LXPDbContext +
	dbcontext, 5
)5 6
{ 	

_dbcontext 
= 
	dbcontext "
;" #
} 	
public 
async 
Task 
LoginLearner &
(& '
Learner' .
learner/ 6
)6 7
{ 	
var 
db 
= 
new 
LXPDbContext %
(% &
)& '
;' (
await 
db 
. 
Learners 
. 
AddAsync &
(& '
learner' .
). /
;/ 0
await   
db   
.   
SaveChangesAsync   %
(  % &
)  & '
;  ' (
}## 	
public$$ 
async$$ 
Task$$ 
<$$ 
bool$$ 
>$$ 
AnyUserByEmail$$  .
($$. /
string$$/ 5

loginmodel$$6 @
)$$@ A
{%% 	
return&& 

_dbcontext&& 
.&& 
Learners&& &
.&&& '
Any&&' *
(&&* +
learner&&+ 2
=>&&3 5
learner&&6 =
.&&= >
Email&&> C
==&&D F

loginmodel&&G Q
)&&Q R
;&&R S
}'' 	
public(( 
async(( 
Task(( 
<(( 
bool(( 
>(( (
AnyLearnerByEmailAndPassword((  <
(((< =
string((= C
Email((D I
,((I J
string((K Q
Password((R Z
)((Z [
{)) 	
return** 
await** 

_dbcontext** #
.**# $
Learners**$ ,
.**, -
AnyAsync**- 5
(**5 6
learner**6 =
=>**> @
learner**A H
.**H I
Email**I N
==**O Q
Email**R W
&&**X Z
learner**[ b
.**b c
Password**c k
==**l n
Password**o w
)**w x
;**x y
}++ 	
public,, 
async,, 
Task,, 
<,, 
Learner,, !
>,,! "
GetLearnerByEmail,,# 4
(,,4 5
string,,5 ;
Email,,< A
),,A B
{-- 	
return.. 
await.. 

_dbcontext.. #
...# $
Learners..$ ,
..., -
FirstOrDefaultAsync..- @
(..@ A
learner..A H
=>..I K
learner..L S
...S T
Email..T Y
==..Z \
Email..] b
)..b c
;..c d
}// 	
public22 
async22 
Task22 !
UpdateLearnerPassword22 /
(22/ 0
string220 6
Email227 <
,22< =
string22> D
Password22E M
)22M N
{33 	
Learner44 
learner44 
=44 
await44 #
GetLearnerByEmail44$ 5
(445 6
Email446 ;
)44; <
;44< =
learner55 
.55 
Password55 
=55 
Password55 '
;55' (

_dbcontext66 
.66 
Learners66 
.66  
Update66  &
(66& '
learner66' .
)66. /
;66/ 0
await77 

_dbcontext77 
.77 
SaveChangesAsync77 -
(77- .
)77. /
;77/ 0
}88 	
}KK 
}LL Ù!
4D:\backend\LXP.Data\Repository\MaterialRepository.cs
	namespace

 	
LXP


 
.

 
Data

 
.

 

Repository

 
{ 
public 

class 
MaterialRepository #
:$ %
IMaterialRepository& 9
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public 
MaterialRepository !
(! "
LXPDbContext" .
lXPDbContext/ ;
); <
{ 	
_lXPDbContext 
= 
lXPDbContext (
;( )
} 	
public 
async 
Task 
AddMaterial %
(% &
Material& .
material/ 7
)7 8
{ 	
await 
_lXPDbContext 
. 
	Materials (
.( )
AddAsync) 1
(1 2
material2 :
): ;
;; <
await 
_lXPDbContext 
. 
SaveChangesAsync /
(/ 0
)0 1
;1 2
} 	
public 
async 
Task 
< 
bool 
> -
!AnyMaterialByMaterialNameAndTopic  A
(A B
stringB H
materialNameI U
,U V
TopicV [
topic\ a
)a b
{ 	
return 
await 
_lXPDbContext &
.& '
	Materials' 0
.0 1
AnyAsync1 9
(9 :
material: B
=>B D
materialD L
.L M
NameM Q
==Q S
materialNameS _
&&_ a
materiala i
.i j
Topicj o
==o q
topicq v
)v w
;w x
} 	
public 
async 
Task 
< 
Material "
>" #-
!GetMaterialByMaterialNameAndTopic$ E
(E F
stringF L
materialNameM Y
,Y Z
Topic[ `
topica f
)f g
{ 	
return   
await   
_lXPDbContext   &
.  & '
	Materials  ' 0
.  0 1
FirstOrDefaultAsync  1 D
(  D E
material  E M
=>  N P
material  Q Y
.  Y Z
Name  Z ^
==  _ a
materialName  b n
&&  o q
material  r z
.  z {
Topic	  { Ä
==
  Å É
topic
  Ñ â
)
  â ä
;
  ä ã
}!! 	
public$$ 
List$$ 
<$$ 
Material$$ 
>$$ /
#GetAllMaterialDetailsByTopicAndType$$ A
($$A B
Topic$$B G
topic$$H M
,$$M N
MaterialType$$O [
materialType$$\ h
)$$h i
{%% 	
return&& 
_lXPDbContext&&  
.&&  !
	Materials&&! *
.&&* +
Include&&+ 2
(&&2 3
material&&3 ;
=>&&; =
material&&= E
.&&E F
MaterialType&&F R
)&&R S
.&&S T
Include&&T [
(&&[ \
material&&\ d
=>&&d f
material&&f n
.&&n o
Topic&&o t
)&&t u
.&&u v
Where&&v {
(&&{ |
material	&&| Ñ
=>
&&Ñ Ü
material
&&Ü é
.
&&é è
IsActive
&&è ó
==
&&ó ô
true
&&ô ù
&&
&&ù ü
material
&&ü ß
.
&&ß ®
Topic
&&® ≠
==
&&≠ Ø
topic
&&Ø ¥
&&
&&¥ ∂
material
&&∑ ø
.
&&ø ¿
MaterialType
&&¿ Ã
==
&&Ã Œ
materialType
&&Œ ⁄
)
&&⁄ €
.
&&€ ‹
Include
&&‹ „
(
&&„ ‰
material
&&‰ Ï
=>
&&Ì Ô
material
&& ¯
.
&&¯ ˘
Topic
&&˘ ˛
)
&&˛ ˇ
.
&&ˇ Ä
Include
&&Ä á
(
&&á à
material
&&à ê
=>
&&ë ì
material
&&î ú
.
&&ú ù
MaterialType
&&ù ©
)
&&© ™
.
&&™ ´
ToList
&&´ ±
(
&&± ≤
)
&&≤ ≥
;
&&≥ ¥
}(( 	
}11 
}22 µ
8D:\backend\LXP.Data\Repository\MaterialTypeRepository.cs
	namespace		 	
LXP		
 
.		 
Data		 
.		 

Repository		 
{

 
public 

class "
MaterialTypeRepository '
:( )#
IMaterialTypeRepository* A
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public "
MaterialTypeRepository %
(% &
LXPDbContext& 2
lXPDbContext3 ?
)? @
{ 	
_lXPDbContext 
= 
lXPDbContext (
;( )
} 	
public 
MaterialType +
GetMaterialTypeByMaterialTypeId ;
(; <
Guid< @
materialTypeIdA O
)O P
{ 	
return 
_lXPDbContext  
.  !
MaterialTypes! .
.. /
Find/ 3
(3 4
materialTypeId4 B
)B C
;C D
} 	
public 
List 
< 
MaterialType  
>  !
GetAllMaterialTypes" 5
(5 6
)6 7
{ 	
return 
_lXPDbContext  
.  !
MaterialTypes! .
.. /
ToList/ 5
(5 6
)6 7
;7 8
} 	
} 
} ú
;D:\backend\LXP.Data\Repository\PasswordHistoryRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class %
PasswordHistoryRepository *
:+ ,&
IPasswordHistoryRepository- G
{ 
private 
readonly 
LXPDbContext %
_LXPDbContext& 3
;3 4
public %
PasswordHistoryRepository (
(( )
LXPDbContext) 5
context6 =
)= >
{ 	
_LXPDbContext 
= 
context #
;# $
} 	
public 
async 
Task 
< 
PasswordHistory )
>) *
GetPasswordHistory+ =
(= >
Guid> B
	learnerIdC L
)L M
{ 	
return 
await 
_LXPDbContext &
.& '
PasswordHistories' 8
.8 9
FirstOrDefaultAsync9 L
(L M
xM N
=>O Q
xR S
.S T
	LearnerIdT ]
==^ `
	learnerIda j
)j k
;k l
} 	
public 
async 
Task !
UpdatePasswordHistory /
(/ 0
PasswordHistory0 ?
passwordHistory@ O
)O P
{ 	
_LXPDbContext 
. 
PasswordHistories +
.+ ,
Update, 2
(2 3
passwordHistory3 B
)B C
;C D
await 
_LXPDbContext 
.  
SaveChangesAsync  0
(0 1
)1 2
;2 3
}   	
}!! 
}"" «	
BD:\backend\LXP.Data\Repository\ProfilePasswordHistoryRepository.cs
	namespace		 	
LXP		
 
.		 
Data		 
.		 

Repository		 
{

 
public 

class ,
 ProfilePasswordHistoryRepository 1
:2 3-
!IProfilePasswordHistoryRepository4 U
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public ,
 ProfilePasswordHistoryRepository /
(/ 0
LXPDbContext0 <
context= D
)D E
{ 	
_lXPDbContext 
= 
context #
;# $
} 	
public 
void 
AddPasswordHistory1 '
(' (
PasswordHistory( 7
passwordHistory8 G
)G H
{ 	
_lXPDbContext 
. 
PasswordHistories +
.+ ,
Add, /
(/ 0
passwordHistory0 ?
)? @
;@ A
_lXPDbContext 
. 
SaveChanges %
(% &
)& '
;' (
} 	
}   
}!! ˆ
3D:\backend\LXP.Data\Repository\ProfileRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{		 
public

 

class

 
ProfileRepository

 "
:

# $
IProfileRepository

% 7
{ 
private 
readonly 
LXPDbContext %
_LXPDbContext& 3
;3 4
public 
ProfileRepository  
(  !
LXPDbContext! -
context. 5
)5 6
{ 	
_LXPDbContext 
= 
context #
;# $
} 	
public 
void 

AddProfile 
( 
LearnerProfile -
learnerprofile. <
)< =
{ 	
_LXPDbContext 
. 
LearnerProfiles )
.) *
Add* -
(- .
learnerprofile. <
)< =
;= >
_LXPDbContext 
. 
SaveChanges %
(% &
)& '
;' (
} 	
public 
async 
Task 
< 
List 
< 
LearnerProfile -
>- .
>. / 
GetAllLearnerProfile0 D
(D E
)E F
{ 	
return 
_LXPDbContext  
.  !
LearnerProfiles! 0
.0 1
ToList1 7
(7 8
)8 9
;9 :
} 	
public 
async 
Task #
UpdateAllLearnerProfile 1
(1 2
LearnerProfile2 @
learnerProfileA O
)O P
{ 	
_LXPDbContext 
. 
Entry 
(  
learnerProfile  .
). /
./ 0
State0 5
=6 7
	Microsoft8 A
.A B
EntityFrameworkCoreB U
.U V
EntityStateV a
.a b
Modifiedb j
;j k
await   
_LXPDbContext   
.    
SaveChangesAsync    0
(  0 1
)  1 2
;  2 3
}!! 	
public%% 
LearnerProfile%% 6
*GetLearnerprofileDetailsByLearnerprofileId%% H
(%%H I
Guid%%I M
	ProfileId%%N W
)%%W X
{'' 	
return)) 
_LXPDbContext))  
.))  !
LearnerProfiles))! 0
.))0 1
Find))1 5
())5 6
	ProfileId))6 ?
)))? @
;))@ A
},, 	
public// 
async// 
Task// 
UpdateProfile// '
(//' (
LearnerProfile//( 6
learnerProfile//7 E
)//E F
{00 	
_LXPDbContext11 
.11 
Entry11 
(11  
learnerProfile11  .
)11. /
.11/ 0
State110 5
=116 7
	Microsoft118 A
.11A B
EntityFrameworkCore11B U
.11U V
EntityState11V a
.11a b
Modified11b j
;11j k
await22 
_LXPDbContext22 
.22  
SaveChangesAsync22  0
(220 1
)221 2
;222 3
}33 	
}66 
}77 ëÒ
6D:\backend\LXP.Data\Repository\QuizEngineRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class  
QuizEngineRepository %
:& '!
IQuizEngineRepository( =
{		 
private 
readonly 
LXPDbContext %

_dbContext& 0
;0 1
public  
QuizEngineRepository #
(# $
LXPDbContext$ 0
	dbContext1 :
): ;
{ 	

_dbContext 
= 
	dbContext "
;" #
} 	
public 
async 
Task 
< 
bool 
> (
IsQuestionOptionCorrectAsync  <
(< =
Guid= A
quizQuestionIdB P
,P Q
GuidR V
questionOptionIdW g
)g h
{ 	
return 
await 

_dbContext #
.# $
QuestionOptions$ 3
. 
AnyAsync 
( 
o 
=> 
o  
.  !
QuizQuestionId! /
==0 2
quizQuestionId3 A
&&B D
oE F
.F G
QuestionOptionIdG W
==X Z
questionOptionId[ k
&&l n
oo p
.p q
	IsCorrectq z
)z {
;{ |
} 	
public 
async 
Task 
< 
string  
>  !$
GetQuestionTypeByIdAsync" :
(: ;
Guid; ?
quizQuestionId@ N
)N O
{ 	
return 
await 

_dbContext #
.# $
QuizQuestions$ 1
. 
Where 
( 
q 
=> 
q 
. 
QuizQuestionId ,
==- /
quizQuestionId0 >
)> ?
. 
Select 
( 
q 
=> 
q 
. 
QuestionType +
)+ ,
. 
FirstOrDefaultAsync $
($ %
)% &
??' )
string* 0
.0 1
Empty1 6
;6 7
} 	
public!! 
async!! 
Task!! 
<!! 
IEnumerable!! %
<!!% &
string!!& ,
>!!, -
>!!- .-
!GetCorrectOptionsForQuestionAsync!!/ P
(!!P Q
Guid!!Q U
quizQuestionId!!V d
)!!d e
{"" 	
return## 
await## 

_dbContext## #
.### $
QuestionOptions##$ 3
.$$ 
Where$$ 
($$ 
o$$ 
=>$$ 
o$$ 
.$$ 
QuizQuestionId$$ ,
==$$- /
quizQuestionId$$0 >
&&$$? A
o$$B C
.$$C D
	IsCorrect$$D M
)$$M N
.%% 
Select%% 
(%% 
o%% 
=>%% 
o%% 
.%% 
Option%% %
)%%% &
.&& 
ToListAsync&& 
(&& 
)&& 
;&& 
}'' 	
public** 
async** 
Task** 
<** #
LearnerAttemptViewModel** 1
?**1 2
>**2 3%
CreateLearnerAttemptAsync**4 M
(**M N
Guid**N R
	learnerId**S \
,**\ ]
Guid**^ b
quizId**c i
,**i j
DateTime**k s
	startTime**t }
)**} ~
{++ 	
var,, 
quiz,, 
=,, 
await,, 

_dbContext,, '
.,,' (
Quizzes,,( /
.,,/ 0
	FindAsync,,0 9
(,,9 :
quizId,,: @
),,@ A
;,,A B
if-- 
(-- 
quiz-- 
==-- 
null-- 
)-- 
return.. 
null.. 
;.. 
var00 
existingAttempts00  
=00! "
await00# (

_dbContext00) 3
.003 4
LearnerAttempts004 C
.11 

CountAsync11 
(11 
a11 
=>11  
a11! "
.11" #
	LearnerId11# ,
==11- /
	learnerId110 9
&&11: <
a11= >
.11> ?
QuizId11? E
==11F H
quizId11I O
)11O P
;11P Q
if33 
(33 
quiz33 
.33 
AttemptsAllowed33 $
.33$ %
HasValue33% -
&&33. 0
existingAttempts331 A
>=33B D
quiz33E I
.33I J
AttemptsAllowed33J Y
)33Y Z
return44 
null44 
;44 
var66 
attempt66 
=66 
new66 
LearnerAttempt66 ,
{77 
	LearnerId88 
=88 
	learnerId88 %
,88% &
QuizId99 
=99 
quizId99 
,99  
AttemptCount:: 
=:: 
existingAttempts:: /
+::0 1
$num::2 3
,::3 4
	StartTime;; 
=;; 
	startTime;; %
,;;% &
EndTime<< 
=<< 
	startTime<< #
.<<# $

AddMinutes<<$ .
(<<. /
quiz<</ 3
.<<3 4
Duration<<4 <
)<<< =
,<<= >
Score== 
=== 
$num== 
,== 
	CreatedBy>> 
=>> 
$str>> %
}?? 
;?? 

_dbContextAA 
.AA 
LearnerAttemptsAA &
.AA& '
AddAA' *
(AA* +
attemptAA+ 2
)AA2 3
;AA3 4
awaitBB 

_dbContextBB 
.BB 
SaveChangesAsyncBB -
(BB- .
)BB. /
;BB/ 0
returnDD 
newDD #
LearnerAttemptViewModelDD .
{EE 
LearnerAttemptIdFF  
=FF! "
attemptFF# *
.FF* +
LearnerAttemptIdFF+ ;
,FF; <
	LearnerIdGG 
=GG 
attemptGG #
.GG# $
	LearnerIdGG$ -
,GG- .
QuizIdHH 
=HH 
attemptHH  
.HH  !
QuizIdHH! '
,HH' (
AttemptCountII 
=II 
attemptII &
.II& '
AttemptCountII' 3
,II3 4
	StartTimeJJ 
=JJ 
attemptJJ #
.JJ# $
	StartTimeJJ$ -
,JJ- .
EndTimeKK 
=KK 
attemptKK !
.KK! "
EndTimeKK" )
,KK) *
ScoreLL 
=LL 
attemptLL 
.LL  
ScoreLL  %
}MM 
;MM 
}NN 	
publicPP 
asyncPP 
TaskPP $
CreateLearnerAnswerAsyncPP 2
(PP2 3
GuidPP3 7
learnerAttemptIdPP8 H
,PPH I
GuidPPJ N
quizQuestionIdPPO ]
,PP] ^
GuidPP_ c
questionOptionIdPPd t
)PPt u
{QQ 	
varRR 
learnerAnswerRR 
=RR 
newRR  #
LearnerAnswerRR$ 1
{SS 
LearnerAttemptIdTT  
=TT! "
learnerAttemptIdTT# 3
,TT3 4
QuizQuestionIdUU 
=UU  
quizQuestionIdUU! /
,UU/ 0
QuestionOptionIdVV  
=VV! "
questionOptionIdVV# 3
,VV3 4
	CreatedByWW 
=WW 
$strWW $
}XX 
;XX 

_dbContextZZ 
.ZZ 
LearnerAnswersZZ %
.ZZ% &
AddZZ& )
(ZZ) *
learnerAnswerZZ* 7
)ZZ7 8
;ZZ8 9
await[[ 

_dbContext[[ 
.[[ 
SaveChangesAsync[[ -
([[- .
)[[. /
;[[/ 0
}\\ 	
public]] 
async]] 
Task]] 
<]] #
LearnerAttemptViewModel]] 1
>]]1 2&
GetLearnerAttemptByIdAsync]]3 M
(]]M N
Guid]]N R
	attemptId]]S \
)]]\ ]
{^^ 	
return__ 
await__ 

_dbContext__ #
.__# $
LearnerAttempts__$ 3
.`` 
Where`` 
(`` 
a`` 
=>`` 
a`` 
.`` 
LearnerAttemptId`` .
==``/ 1
	attemptId``2 ;
)``; <
.aa 
Selectaa 
(aa 
aaa 
=>aa 
newaa  #
LearnerAttemptViewModelaa! 8
{bb 
LearnerAttemptIdcc $
=cc% &
acc' (
.cc( )
LearnerAttemptIdcc) 9
,cc9 :
	LearnerIddd 
=dd 
add  !
.dd! "
	LearnerIddd" +
,dd+ ,
QuizIdee 
=ee 
aee 
.ee 
QuizIdee %
,ee% &
AttemptCountff  
=ff! "
aff# $
.ff$ %
AttemptCountff% 1
,ff1 2
	StartTimegg 
=gg 
agg  !
.gg! "
	StartTimegg" +
,gg+ ,
EndTimehh 
=hh 
ahh 
.hh  
EndTimehh  '
,hh' (
Scoreii 
=ii 
aii 
.ii 
Scoreii #
}jj 
)jj 
.kk 
FirstOrDefaultAsynckk $
(kk$ %
)kk% &
??kk' )
newkk* -#
LearnerAttemptViewModelkk. E
(kkE F
)kkF G
;kkG H
}ll 	
publicmm 
asyncmm 
Taskmm 
<mm 
IEnumerablemm %
<mm% &
stringmm& ,
>mm, -
>mm- .#
GetQuestionOptionsAsyncmm/ F
(mmF G
GuidmmG K
quizQuestionIdmmL Z
)mmZ [
{nn 	
returnoo 
awaitoo 

_dbContextoo #
.oo# $
QuestionOptionsoo$ 3
.pp 
Wherepp 
(pp 
opp 
=>pp 
opp 
.pp 
QuizQuestionIdpp ,
==pp- /
quizQuestionIdpp0 >
)pp> ?
.qq 
Selectqq 
(qq 
oqq 
=>qq 
oqq 
.qq 
Optionqq %
)qq% &
.rr 
ToListAsyncrr 
(rr 
)rr 
;rr 
}ss 	
publicyy 
asyncyy 
Taskyy 
<yy 
boolyy 
>yy '
IsAllowedToAttemptQuizAsyncyy  ;
(yy; <
Guidyy< @
	learnerIdyyA J
,yyJ K
GuidyyL P
quizIdyyQ W
)yyW X
{zz 	
var{{ 
quiz{{ 
={{ 
await{{ 

_dbContext{{ '
.{{' (
Quizzes{{( /
.{{/ 0
	FindAsync{{0 9
({{9 :
quizId{{: @
){{@ A
;{{A B
if|| 
(|| 
quiz|| 
==|| 
null|| 
)|| 
return}} 
false}} 
;}} 
var 
existingAttempts  
=! "
await# (

_dbContext) 3
.3 4
LearnerAttempts4 C
.
ÄÄ 
Where
ÄÄ 
(
ÄÄ 
a
ÄÄ 
=>
ÄÄ 
a
ÄÄ 
.
ÄÄ 
	LearnerId
ÄÄ '
==
ÄÄ( *
	learnerId
ÄÄ+ 4
&&
ÄÄ5 7
a
ÄÄ8 9
.
ÄÄ9 :
QuizId
ÄÄ: @
==
ÄÄA C
quizId
ÄÄD J
)
ÄÄJ K
.
ÅÅ 
ToListAsync
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
var
ÉÉ 
passMark
ÉÉ 
=
ÉÉ 
quiz
ÉÉ 
.
ÉÉ  
PassMark
ÉÉ  (
;
ÉÉ( )
var
ÑÑ 
hasPassedQuiz
ÑÑ 
=
ÑÑ 
existingAttempts
ÑÑ  0
.
ÑÑ0 1
Any
ÑÑ1 4
(
ÑÑ4 5
a
ÑÑ5 6
=>
ÑÑ7 9
a
ÑÑ: ;
.
ÑÑ; <
Score
ÑÑ< A
>=
ÑÑB D
passMark
ÑÑE M
)
ÑÑM N
;
ÑÑN O
if
ÖÖ 
(
ÖÖ 
hasPassedQuiz
ÖÖ 
)
ÖÖ 
return
ÜÜ 
false
ÜÜ 
;
ÜÜ 
var
àà 
attemptsAllowed
àà 
=
àà  !
quiz
àà" &
.
àà& '
AttemptsAllowed
àà' 6
;
àà6 7
if
ââ 
(
ââ 
attemptsAllowed
ââ 
.
ââ  
HasValue
ââ  (
&&
ââ) +
existingAttempts
ââ, <
.
ââ< =
Count
ââ= B
>=
ââC E
attemptsAllowed
ââF U
)
ââU V
return
ää 
false
ää 
;
ää 
return
åå 
true
åå 
;
åå 
}
çç 	
public
êê 
async
êê 
Task
êê &
ClearLearnerAnswersAsync
êê 2
(
êê2 3
Guid
êê3 7
	attemptId
êê8 A
,
êêA B
Guid
êêC G
quizQuestionId
êêH V
)
êêV W
{
ëë 	
var
íí 
existingAnswers
íí 
=
íí  !
await
íí" '

_dbContext
íí( 2
.
íí2 3
LearnerAnswers
íí3 A
.
ìì 
Where
ìì 
(
ìì 
a
ìì 
=>
ìì 
a
ìì 
.
ìì 
LearnerAttemptId
ìì .
==
ìì/ 1
	attemptId
ìì2 ;
&&
ìì< >
a
ìì? @
.
ìì@ A
QuizQuestionId
ììA O
==
ììP R
quizQuestionId
ììS a
)
ììa b
.
îî 
ToListAsync
îî 
(
îî 
)
îî 
;
îî 

_dbContext
ññ 
.
ññ 
LearnerAnswers
ññ %
.
ññ% &
RemoveRange
ññ& 1
(
ññ1 2
existingAnswers
ññ2 A
)
ññA B
;
ññB C
await
óó 

_dbContext
óó 
.
óó 
SaveChangesAsync
óó -
(
óó- .
)
óó. /
;
óó/ 0
}
òò 	
public
öö 
async
öö 
Task
öö 
<
öö 
IEnumerable
öö %
<
öö% &$
LearnerAnswerViewModel
öö& <
>
öö< =
>
öö= >8
*GetLearnerAnswersByAttemptAndQuestionAsync
öö? i
(
ööi j
Guid
ööj n
	attemptId
ööo x
,
ööx y
Guid
ööz ~
quizQuestionIdöö ç
)ööç é
{
õõ 	
return
úú 
await
úú 

_dbContext
úú #
.
úú# $
LearnerAnswers
úú$ 2
.
ùù 
Where
ùù 
(
ùù 
a
ùù 
=>
ùù 
a
ùù 
.
ùù 
LearnerAttemptId
ùù .
==
ùù/ 1
	attemptId
ùù2 ;
&&
ùù< >
a
ùù? @
.
ùù@ A
QuizQuestionId
ùùA O
==
ùùP R
quizQuestionId
ùùS a
)
ùùa b
.
ûû 
Select
ûû 
(
ûû 
a
ûû 
=>
ûû 
new
ûû  $
LearnerAnswerViewModel
ûû! 7
{
üü 
LearnerAnswerId
†† #
=
††$ %
a
††& '
.
††' (
LearnerAnswerId
††( 7
,
††7 8
LearnerAttemptId
°° $
=
°°% &
a
°°' (
.
°°( )
LearnerAttemptId
°°) 9
,
°°9 :
QuizQuestionId
¢¢ "
=
¢¢# $
a
¢¢% &
.
¢¢& '
QuizQuestionId
¢¢' 5
,
¢¢5 6
QuestionOptionId
££ $
=
££% &
a
££' (
.
££( )
QuestionOptionId
££) 9
}
§§ 
)
§§ 
.
•• 
ToListAsync
•• 
(
•• 
)
•• 
;
•• 
}
¶¶ 	
public
©© 
async
©© 
Task
©© 
<
©© 
IEnumerable
©© %
<
©©% &)
QuizEngineQuestionViewModel
©©& A
>
©©A B
>
©©B C&
GetQuestionsForQuizAsync
©©D \
(
©©\ ]
Guid
©©] a
quizId
©©b h
)
©©h i
{
™™ 	
return
´´ 
await
´´ 

_dbContext
´´ #
.
´´# $
QuizQuestions
´´$ 1
.
¨¨ 
Where
¨¨ 
(
¨¨ 
q
¨¨ 
=>
¨¨ 
q
¨¨ 
.
¨¨ 
QuizId
¨¨ $
==
¨¨% '
quizId
¨¨( .
)
¨¨. /
.
≠≠ 
Select
≠≠ 
(
≠≠ 
q
≠≠ 
=>
≠≠ 
new
≠≠  )
QuizEngineQuestionViewModel
≠≠! <
{
ÆÆ 
QuizQuestionId
ØØ "
=
ØØ# $
q
ØØ% &
.
ØØ& '
QuizQuestionId
ØØ' 5
,
ØØ5 6
Question
∞∞ 
=
∞∞ 
q
∞∞  
.
∞∞  !
Question
∞∞! )
,
∞∞) *
QuestionType
±±  
=
±±! "
q
±±# $
.
±±$ %
QuestionType
±±% 1
,
±±1 2

QuestionNo
≤≤ 
=
≤≤  
q
≤≤! "
.
≤≤" #

QuestionNo
≤≤# -
,
≤≤- .
Options
≥≥ 
=
≥≥ 

_dbContext
≥≥ (
.
≥≥( )
QuestionOptions
≥≥) 8
.
¥¥ 
Where
¥¥ 
(
¥¥ 
o
¥¥  
=>
¥¥! #
o
¥¥$ %
.
¥¥% &
QuizQuestionId
¥¥& 4
==
¥¥5 7
q
¥¥8 9
.
¥¥9 :
QuizQuestionId
¥¥: H
)
¥¥H I
.
µµ 
Select
µµ 
(
µµ  
o
µµ  !
=>
µµ" $
new
µµ% ('
QuizEngineOptionViewModel
µµ) B
{
∂∂ 
Option
∑∑ "
=
∑∑# $
o
∑∑% &
.
∑∑& '
Option
∑∑' -
}
∏∏ 
)
∏∏ 
.
ππ 
ToList
ππ 
(
ππ  
)
ππ  !
}
∫∫ 
)
∫∫ 
.
ªª 
ToListAsync
ªª 
(
ªª 
)
ªª 
;
ªª 
}
ºº 	
public
ææ 
async
ææ 
Task
ææ 
<
ææ 
IEnumerable
ææ %
<
ææ% &%
LearnerAttemptViewModel
ææ& =
>
ææ= >
>
ææ> ?,
GetLearnerAttemptsForQuizAsync
ææ@ ^
(
ææ^ _
Guid
ææ_ c
	learnerId
ææd m
,
ææm n
Guid
ææo s
quizId
ææt z
)
ææz {
{
øø 	
return
¿¿ 
await
¿¿ 

_dbContext
¿¿ #
.
¿¿# $
LearnerAttempts
¿¿$ 3
.
¡¡ 
Where
¡¡ 
(
¡¡ 
a
¡¡ 
=>
¡¡ 
a
¡¡ 
.
¡¡ 
	LearnerId
¡¡ '
==
¡¡( *
	learnerId
¡¡+ 4
&&
¡¡5 7
a
¡¡8 9
.
¡¡9 :
QuizId
¡¡: @
==
¡¡A C
quizId
¡¡D J
)
¡¡J K
.
¬¬ 
Select
¬¬ 
(
¬¬ 
a
¬¬ 
=>
¬¬ 
new
¬¬  %
LearnerAttemptViewModel
¬¬! 8
{
√√ 
LearnerAttemptId
ƒƒ $
=
ƒƒ% &
a
ƒƒ' (
.
ƒƒ( )
LearnerAttemptId
ƒƒ) 9
,
ƒƒ9 :
	LearnerId
≈≈ 
=
≈≈ 
a
≈≈  !
.
≈≈! "
	LearnerId
≈≈" +
,
≈≈+ ,
QuizId
∆∆ 
=
∆∆ 
a
∆∆ 
.
∆∆ 
QuizId
∆∆ %
,
∆∆% &
AttemptCount
««  
=
««! "
a
««# $
.
««$ %
AttemptCount
««% 1
,
««1 2
	StartTime
»» 
=
»» 
a
»»  !
.
»»! "
	StartTime
»»" +
,
»»+ ,
EndTime
…… 
=
…… 
a
…… 
.
……  
EndTime
……  '
,
……' (
Score
   
=
   
a
   
.
   
Score
   #
}
ÀÀ 
)
ÀÀ 
.
ÃÃ 
ToListAsync
ÃÃ 
(
ÃÃ 
)
ÃÃ 
;
ÃÃ 
}
ÕÕ 	
public
œœ 
async
œœ 
Task
œœ &
UpdateLearnerAnswerAsync
œœ 2
(
œœ2 3
Guid
œœ3 7
learnerAnswerId
œœ8 G
,
œœG H
Guid
œœI M
questionOptionId
œœN ^
)
œœ^ _
{
–– 	
var
—— 
existingAnswer
—— 
=
——  
await
——! &

_dbContext
——' 1
.
——1 2
LearnerAnswers
——2 @
.
——@ A
	FindAsync
——A J
(
——J K
learnerAnswerId
——K Z
)
——Z [
;
——[ \
if
““ 
(
““ 
existingAnswer
““ 
!=
““ !
null
““" &
)
““& '
{
”” 
existingAnswer
‘‘ 
.
‘‘ 
QuestionOptionId
‘‘ /
=
‘‘0 1
questionOptionId
‘‘2 B
;
‘‘B C
await
’’ 

_dbContext
’’  
.
’’  !
SaveChangesAsync
’’! 1
(
’’1 2
)
’’2 3
;
’’3 4
}
÷÷ 
}
◊◊ 	
public
ŸŸ 
async
ŸŸ 
Task
ŸŸ 
<
ŸŸ 
string
ŸŸ  
>
ŸŸ  !$
GetOptionTextByIdAsync
ŸŸ" 8
(
ŸŸ8 9
Guid
ŸŸ9 =
optionId
ŸŸ> F
)
ŸŸF G
{
⁄⁄ 	
return
€€ 
await
€€ 

_dbContext
€€ #
.
€€# $
QuestionOptions
€€$ 3
.
‹‹ 
Where
‹‹ 
(
‹‹ 
o
‹‹ 
=>
‹‹ 
o
‹‹ 
.
‹‹ 
QuestionOptionId
‹‹ .
==
‹‹/ 1
optionId
‹‹2 :
)
‹‹: ;
.
›› 
Select
›› 
(
›› 
o
›› 
=>
›› 
o
›› 
.
›› 
Option
›› %
)
››% &
.
ﬁﬁ !
FirstOrDefaultAsync
ﬁﬁ $
(
ﬁﬁ$ %
)
ﬁﬁ% &
;
ﬁﬁ& '
}
ﬂﬂ 	
public
·· 
async
·· 
Task
·· 
<
·· 
Guid
·· 
>
·· $
GetOptionIdByTextAsync
··  6
(
··6 7
Guid
··7 ;
quizQuestionId
··< J
,
··J K
string
··L R

optionText
··S ]
)
··] ^
{
‚‚ 	
return
„„ 
await
„„ 

_dbContext
„„ #
.
„„# $
QuestionOptions
„„$ 3
.
‰‰ 
Where
‰‰ 
(
‰‰ 
o
‰‰ 
=>
‰‰ 
o
‰‰ 
.
‰‰ 
QuizQuestionId
‰‰ ,
==
‰‰- /
quizQuestionId
‰‰0 >
&&
‰‰? A
o
‰‰B C
.
‰‰C D
Option
‰‰D J
==
‰‰K M

optionText
‰‰N X
)
‰‰X Y
.
ÂÂ 
Select
ÂÂ 
(
ÂÂ 
o
ÂÂ 
=>
ÂÂ 
o
ÂÂ 
.
ÂÂ 
QuestionOptionId
ÂÂ /
)
ÂÂ/ 0
.
ÊÊ !
FirstOrDefaultAsync
ÊÊ $
(
ÊÊ$ %
)
ÊÊ% &
;
ÊÊ& '
}
ÁÁ 	
public
ËË 
async
ËË 
Task
ËË 
<
ËË &
ViewQuizDetailsViewModel
ËË 2
>
ËË2 3
GetQuizByIdAsync
ËË4 D
(
ËËD E
Guid
ËËE I
quizId
ËËJ P
)
ËËP Q
{
ÈÈ 	
return
ÍÍ 
await
ÍÍ 

_dbContext
ÍÍ #
.
ÍÍ# $
Quizzes
ÍÍ$ +
.
ÎÎ 
Where
ÎÎ 
(
ÎÎ 
q
ÎÎ 
=>
ÎÎ 
q
ÎÎ 
.
ÎÎ 
QuizId
ÎÎ $
==
ÎÎ% '
quizId
ÎÎ( .
)
ÎÎ. /
.
ÏÏ 
Select
ÏÏ 
(
ÏÏ 
q
ÏÏ 
=>
ÏÏ 
new
ÏÏ  &
ViewQuizDetailsViewModel
ÏÏ! 9
{
ÌÌ 
QuizId
ÓÓ 
=
ÓÓ 
q
ÓÓ 
.
ÓÓ 
QuizId
ÓÓ %
,
ÓÓ% &
TopicId
ÔÔ 
=
ÔÔ 
q
ÔÔ 
.
ÔÔ  
TopicId
ÔÔ  '
,
ÔÔ' (
CourseId
 
=
 
q
  
.
  !
CourseId
! )
,
) *

NameOfQuiz
ÒÒ 
=
ÒÒ  
q
ÒÒ! "
.
ÒÒ" #

NameOfQuiz
ÒÒ# -
,
ÒÒ- .
Duration
ÚÚ 
=
ÚÚ 
q
ÚÚ  
.
ÚÚ  !
Duration
ÚÚ! )
,
ÚÚ) *
PassMark
ÛÛ 
=
ÛÛ 
q
ÛÛ  
.
ÛÛ  !
PassMark
ÛÛ! )
,
ÛÛ) *
AttemptsAllowed
ÙÙ #
=
ÙÙ$ %
q
ÙÙ& '
.
ÙÙ' (
AttemptsAllowed
ÙÙ( 7
}
ıı 
)
ıı 
.
ˆˆ !
FirstOrDefaultAsync
ˆˆ $
(
ˆˆ$ %
)
ˆˆ% &
??
ˆˆ' )
new
ˆˆ* -&
ViewQuizDetailsViewModel
ˆˆ. F
(
ˆˆF G
)
ˆˆG H
;
ˆˆH I
}
˜˜ 	
public
˘˘ 
async
˘˘ 
Task
˘˘ 
<
˘˘ 
IEnumerable
˘˘ %
<
˘˘% &$
LearnerAnswerViewModel
˘˘& <
>
˘˘< =
>
˘˘= >.
 GetLearnerAnswersForAttemptAsync
˘˘? _
(
˘˘_ `
Guid
˘˘` d
	attemptId
˘˘e n
)
˘˘n o
{
˙˙ 	
return
˚˚ 
await
˚˚ 

_dbContext
˚˚ #
.
˚˚# $
LearnerAnswers
˚˚$ 2
.
¸¸ 
Where
¸¸ 
(
¸¸ 
a
¸¸ 
=>
¸¸ 
a
¸¸ 
.
¸¸ 
LearnerAttemptId
¸¸ .
==
¸¸/ 1
	attemptId
¸¸2 ;
)
¸¸; <
.
˝˝ 
Select
˝˝ 
(
˝˝ 
a
˝˝ 
=>
˝˝ 
new
˝˝  $
LearnerAnswerViewModel
˝˝! 7
{
˛˛ 
LearnerAnswerId
ˇˇ #
=
ˇˇ$ %
a
ˇˇ& '
.
ˇˇ' (
LearnerAnswerId
ˇˇ( 7
,
ˇˇ7 8
LearnerAttemptId
ÄÄ $
=
ÄÄ% &
a
ÄÄ' (
.
ÄÄ( )
LearnerAttemptId
ÄÄ) 9
,
ÄÄ9 :
QuizQuestionId
ÅÅ "
=
ÅÅ# $
a
ÅÅ% &
.
ÅÅ& '
QuizQuestionId
ÅÅ' 5
,
ÅÅ5 6
QuestionOptionId
ÇÇ $
=
ÇÇ% &
a
ÇÇ' (
.
ÇÇ( )
QuestionOptionId
ÇÇ) 9
}
ÉÉ 
)
ÉÉ 
.
ÑÑ 
ToListAsync
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
public
ââ 
async
ââ 
Task
ââ '
UpdateLearnerAttemptAsync
ââ 3
(
ââ3 4%
LearnerAttemptViewModel
ââ4 K
attempt
ââL S
)
ââS T
{
ää 	
var
ãã 
existingAttempt
ãã 
=
ãã  !
await
ãã" '

_dbContext
ãã( 2
.
ãã2 3
LearnerAttempts
ãã3 B
.
ããB C
	FindAsync
ããC L
(
ããL M
attempt
ããM T
.
ããT U
LearnerAttemptId
ããU e
)
ããe f
;
ããf g
if
åå 
(
åå 
existingAttempt
åå 
!=
åå  "
null
åå# '
)
åå' (
{
çç 
existingAttempt
éé 
.
éé  
Score
éé  %
=
éé& '
attempt
éé( /
.
éé/ 0
Score
éé0 5
;
éé5 6
await
èè 

_dbContext
èè  
.
èè  !
SaveChangesAsync
èè! 1
(
èè1 2
)
èè2 3
;
èè3 4
}
êê 
}
ëë 	
public
ìì 
async
ìì 
Task
ìì 
<
ìì &
ViewQuizDetailsViewModel
ìì 2
>
ìì2 3*
GetQuizDetailsByTopicIdAsync
ìì4 P
(
ììP Q
Guid
ììQ U
topicId
ììV ]
)
ìì] ^
{
îî 	
return
ïï 
await
ïï 

_dbContext
ïï #
.
ïï# $
Quizzes
ïï$ +
.
ññ 
Where
ññ 
(
ññ 
q
ññ 
=>
ññ 
q
ññ 
.
ññ 
TopicId
ññ %
==
ññ& (
topicId
ññ) 0
)
ññ0 1
.
óó 
Select
óó 
(
óó 
q
óó 
=>
óó 
new
óó  &
ViewQuizDetailsViewModel
óó! 9
{
òò 
QuizId
ôô 
=
ôô 
q
ôô 
.
ôô 
QuizId
ôô %
,
ôô% &
TopicId
öö 
=
öö 
q
öö 
.
öö  
TopicId
öö  '
,
öö' (
CourseId
õõ 
=
õõ 
q
õõ  
.
õõ  !
CourseId
õõ! )
,
õõ) *

NameOfQuiz
úú 
=
úú  
q
úú! "
.
úú" #

NameOfQuiz
úú# -
,
úú- .
Duration
ùù 
=
ùù 
q
ùù  
.
ùù  !
Duration
ùù! )
,
ùù) *
PassMark
ûû 
=
ûû 
q
ûû  
.
ûû  !
PassMark
ûû! )
,
ûû) *
AttemptsAllowed
üü #
=
üü$ %
q
üü& '
.
üü' (
AttemptsAllowed
üü( 7
}
†† 
)
†† 
.
°° !
FirstOrDefaultAsync
°° $
(
°°$ %
)
°°% &
??
°°' )
new
°°* -&
ViewQuizDetailsViewModel
°°. F
(
°°F G
)
°°G H
;
°°H I
}
¢¢ 	
public
®® 
async
®® 
Task
®® 
<
®® )
LearnerQuizAttemptViewModel
®® 5
>
®®5 6(
GetLearnerQuizAttemptAsync
®®7 Q
(
®®Q R
Guid
®®R V
	attemptId
®®W `
)
®®` a
{
©© 	
var
™™ 
attempt
™™ 
=
™™ 
await
™™ 

_dbContext
™™  *
.
™™* +
LearnerAttempts
™™+ :
.
´´ 
Include
´´ 
(
´´ 
a
´´ 
=>
´´ 
a
´´ 
.
´´  
Quiz
´´  $
)
´´$ %
.
¨¨ !
FirstOrDefaultAsync
¨¨ $
(
¨¨$ %
a
¨¨% &
=>
¨¨' )
a
¨¨* +
.
¨¨+ ,
LearnerAttemptId
¨¨, <
==
¨¨= ?
	attemptId
¨¨@ I
)
¨¨I J
;
¨¨J K
if
ÆÆ 
(
ÆÆ 
attempt
ÆÆ 
==
ÆÆ 
null
ÆÆ 
)
ÆÆ  
throw
ØØ 
new
ØØ "
KeyNotFoundException
ØØ .
(
ØØ. /
$"
ØØ/ 1
$str
ØØ1 I
{
ØØI J
	attemptId
ØØJ S
}
ØØS T
$str
ØØT _
"
ØØ_ `
)
ØØ` a
;
ØØa b
var
±± 
questionResponses
±± !
=
±±" #
await
±±$ )
(
±±* +
from
≤≤ 
la
≤≤ 
in
≤≤ 

_dbContext
≤≤ %
.
≤≤% &
LearnerAnswers
≤≤& 4
join
≥≥ 
qq
≥≥ 
in
≥≥ 

_dbContext
≥≥ %
.
≥≥% &
QuizQuestions
≥≥& 3
on
≥≥4 6
la
≥≥7 9
.
≥≥9 :
QuizQuestionId
≥≥: H
equals
≥≥I O
qq
≥≥P R
.
≥≥R S
QuizQuestionId
≥≥S a
join
¥¥ 
qo
¥¥ 
in
¥¥ 

_dbContext
¥¥ %
.
¥¥% &
QuestionOptions
¥¥& 5
on
¥¥6 8
la
¥¥9 ;
.
¥¥; <
QuestionOptionId
¥¥< L
equals
¥¥M S
qo
¥¥T V
.
¥¥V W
QuestionOptionId
¥¥W g
where
µµ 
la
µµ 
.
µµ 
LearnerAttemptId
µµ )
==
µµ* ,
	attemptId
µµ- 6
group
∂∂ 
new
∂∂ 
{
∑∑ 
qq
∏∏ 
.
∏∏ 
QuizQuestionId
∏∏ %
,
∏∏% &
qq
ππ 
.
ππ 
Question
ππ 
,
ππ  
qq
∫∫ 
.
∫∫ 
QuestionType
∫∫ #
,
∫∫# $
qo
ªª 
.
ªª 
Option
ªª 
,
ªª 
Options
ºº 
=
ºº 

_dbContext
ºº (
.
ºº( )
QuestionOptions
ºº) 8
.
ΩΩ 
Where
ΩΩ 
(
ΩΩ 
o
ΩΩ  
=>
ΩΩ! #
o
ΩΩ$ %
.
ΩΩ% &
QuizQuestionId
ΩΩ& 4
==
ΩΩ5 7
qq
ΩΩ8 :
.
ΩΩ: ;
QuizQuestionId
ΩΩ; I
)
ΩΩI J
.
ææ 
Select
ææ 
(
ææ  
o
ææ  !
=>
ææ" $
new
ææ% ('
QuizEngineOptionViewModel
ææ) B
{
ææC D
Option
ææE K
=
ææL M
o
ææN O
.
ææO P
Option
ææP V
}
ææW X
)
ææX Y
.
øø 
ToList
øø 
(
øø  
)
øø  !
}
¿¿ 
by
¿¿ 
new
¿¿ 
{
¿¿ 
qq
¿¿ 
.
¿¿ 
QuizQuestionId
¿¿ ,
,
¿¿, -
qq
¿¿. 0
.
¿¿0 1
Question
¿¿1 9
,
¿¿9 :
qq
¿¿; =
.
¿¿= >
QuestionType
¿¿> J
}
¿¿K L
into
¿¿M Q
g
¿¿R S
select
¡¡ 
new
¡¡ '
QuestionResponseViewModel
¡¡ 4
{
¬¬ 
QuizQuestionId
√√ "
=
√√# $
g
√√% &
.
√√& '
Key
√√' *
.
√√* +
QuizQuestionId
√√+ 9
,
√√9 :
Question
ƒƒ 
=
ƒƒ 
g
ƒƒ  
.
ƒƒ  !
Key
ƒƒ! $
.
ƒƒ$ %
Question
ƒƒ% -
,
ƒƒ- .
QuestionType
≈≈  
=
≈≈! "
g
≈≈# $
.
≈≈$ %
Key
≈≈% (
.
≈≈( )
QuestionType
≈≈) 5
,
≈≈5 6
SelectedOptions
∆∆ #
=
∆∆$ %
g
∆∆& '
.
∆∆' (
Select
∆∆( .
(
∆∆. /
x
∆∆/ 0
=>
∆∆1 3
x
∆∆4 5
.
∆∆5 6
Option
∆∆6 <
)
∆∆< =
.
∆∆= >
ToList
∆∆> D
(
∆∆D E
)
∆∆E F
,
∆∆F G
Options
«« 
=
«« 
g
«« 
.
««  
First
««  %
(
««% &
)
««& '
.
««' (
Options
««( /
}
»» 
)
»» 
.
…… 
ToListAsync
…… 
(
…… 
)
…… 
;
…… 
return
ÀÀ 
new
ÀÀ )
LearnerQuizAttemptViewModel
ÀÀ 2
{
ÃÃ 
QuizId
ÕÕ 
=
ÕÕ 
attempt
ÕÕ  
.
ÕÕ  !
QuizId
ÕÕ! '
,
ÕÕ' (
TopicId
ŒŒ 
=
ŒŒ 
attempt
ŒŒ !
.
ŒŒ! "
Quiz
ŒŒ" &
.
ŒŒ& '
TopicId
ŒŒ' .
,
ŒŒ. /
LearnerAttemptId
œœ  
=
œœ! "
attempt
œœ# *
.
œœ* +
LearnerAttemptId
œœ+ ;
,
œœ; <
QuestionResponses
–– !
=
––" #
questionResponses
––$ 5
}
—— 
;
—— 
}
““ 	
public
’’ 
async
’’ 
Task
’’ 
<
’’ /
!LearnerQuizAttemptResultViewModel
’’ ;
>
’’; <.
 GetLearnerQuizAttemptResultAsync
’’= ]
(
’’] ^
Guid
’’^ b
	attemptId
’’c l
)
’’l m
{
÷÷ 	
var
◊◊ 
attempt
◊◊ 
=
◊◊ 
await
◊◊ 

_dbContext
◊◊  *
.
◊◊* +
LearnerAttempts
◊◊+ :
.
ÿÿ 
Include
ÿÿ 
(
ÿÿ 
a
ÿÿ 
=>
ÿÿ 
a
ÿÿ 
.
ÿÿ  
Quiz
ÿÿ  $
)
ÿÿ$ %
.
ŸŸ !
FirstOrDefaultAsync
ŸŸ $
(
ŸŸ$ %
a
ŸŸ% &
=>
ŸŸ' )
a
ŸŸ* +
.
ŸŸ+ ,
LearnerAttemptId
ŸŸ, <
==
ŸŸ= ?
	attemptId
ŸŸ@ I
)
ŸŸI J
;
ŸŸJ K
if
€€ 
(
€€ 
attempt
€€ 
==
€€ 
null
€€ 
)
€€  
return
‹‹ 
null
‹‹ 
;
‹‹ 
var
ﬁﬁ 
quiz
ﬁﬁ 
=
ﬁﬁ 
await
ﬁﬁ 

_dbContext
ﬁﬁ '
.
ﬁﬁ' (
Quizzes
ﬁﬁ( /
.
ﬁﬁ/ 0
	FindAsync
ﬁﬁ0 9
(
ﬁﬁ9 :
attempt
ﬁﬁ: A
.
ﬁﬁA B
QuizId
ﬁﬁB H
)
ﬁﬁH I
;
ﬁﬁI J
if
‡‡ 
(
‡‡ 
quiz
‡‡ 
==
‡‡ 
null
‡‡ 
)
‡‡ 
return
·· 
null
·· 
;
·· 
var
„„ "
totalAttemptsAllowed
„„ $
=
„„% &
quiz
„„' +
.
„„+ ,
AttemptsAllowed
„„, ;
??
„„< >
int
„„? B
.
„„B C
MaxValue
„„C K
;
„„K L
var
‰‰ 
attemptsRemaining
‰‰ !
=
‰‰" #"
totalAttemptsAllowed
‰‰$ 8
-
‰‰9 :
attempt
‰‰; B
.
‰‰B C
AttemptCount
‰‰C O
;
‰‰O P
var
ÊÊ 
	timeTaken
ÊÊ 
=
ÊÊ 
(
ÊÊ 
attempt
ÊÊ $
.
ÊÊ$ %
EndTime
ÊÊ% ,
-
ÊÊ- .
attempt
ÊÊ/ 6
.
ÊÊ6 7
	StartTime
ÊÊ7 @
)
ÊÊ@ A
.
ÊÊA B
TotalSeconds
ÊÊB N
;
ÊÊN O
return
ËË 
new
ËË /
!LearnerQuizAttemptResultViewModel
ËË 8
{
ÈÈ 
QuizId
ÍÍ 
=
ÍÍ 
attempt
ÍÍ  
.
ÍÍ  !
QuizId
ÍÍ! '
,
ÍÍ' (
TopicId
ÎÎ 
=
ÎÎ 
quiz
ÎÎ 
.
ÎÎ 
TopicId
ÎÎ &
,
ÎÎ& '
LearnerAttemptId
ÏÏ  
=
ÏÏ! "
attempt
ÏÏ# *
.
ÏÏ* +
LearnerAttemptId
ÏÏ+ ;
,
ÏÏ; <
	StartTime
ÌÌ 
=
ÌÌ 
attempt
ÌÌ #
.
ÌÌ# $
	StartTime
ÌÌ$ -
,
ÌÌ- .
EndTime
ÓÓ 
=
ÓÓ 
attempt
ÓÓ !
.
ÓÓ! "
EndTime
ÓÓ" )
,
ÓÓ) *
	TimeTaken
ÔÔ 
=
ÔÔ 
	timeTaken
ÔÔ %
,
ÔÔ% &
CurrentAttempt
 
=
  
attempt
! (
.
( )
AttemptCount
) 5
,
5 6
AttemptsRemaining
ÒÒ !
=
ÒÒ" #
attemptsRemaining
ÒÒ$ 5
,
ÒÒ5 6
Score
ÚÚ 
=
ÚÚ 
attempt
ÚÚ 
.
ÚÚ  
Score
ÚÚ  %
,
ÚÚ% &
IsPassed
ÛÛ 
=
ÛÛ 
attempt
ÛÛ "
.
ÛÛ" #
Score
ÛÛ# (
>=
ÛÛ) +
quiz
ÛÛ, 0
.
ÛÛ0 1
PassMark
ÛÛ1 9
}
ÙÙ 
;
ÙÙ 
}
ıı 	
public
¸¸ 
async
¸¸ 
Task
¸¸ $
SaveLearnerAnswerAsync
¸¸ 0
(
¸¸0 1$
LearnerAnswerViewModel
¸¸1 G
learnerAnswer
¸¸H U
)
¸¸U V
{
˝˝ 	
var
˛˛ 
entity
˛˛ 
=
˛˛ 
new
˛˛ 
LearnerAnswer
˛˛ *
{
ˇˇ 
LearnerAnswerId
ÄÄ 
=
ÄÄ  !
learnerAnswer
ÄÄ" /
.
ÄÄ/ 0
LearnerAnswerId
ÄÄ0 ?
,
ÄÄ? @
LearnerAttemptId
ÅÅ  
=
ÅÅ! "
learnerAnswer
ÅÅ# 0
.
ÅÅ0 1
LearnerAttemptId
ÅÅ1 A
,
ÅÅA B
QuizQuestionId
ÇÇ 
=
ÇÇ  
learnerAnswer
ÇÇ! .
.
ÇÇ. /
QuizQuestionId
ÇÇ/ =
,
ÇÇ= >
QuestionOptionId
ÉÉ  
=
ÉÉ! "
learnerAnswer
ÉÉ# 0
.
ÉÉ0 1
QuestionOptionId
ÉÉ1 A
}
ÑÑ 
;
ÑÑ 

_dbContext
ÜÜ 
.
ÜÜ 
LearnerAnswers
ÜÜ %
.
ÜÜ% &
Add
ÜÜ& )
(
ÜÜ) *
entity
ÜÜ* 0
)
ÜÜ0 1
;
ÜÜ1 2
await
áá 

_dbContext
áá 
.
áá 
SaveChangesAsync
áá -
(
áá- .
)
áá. /
;
áá/ 0
}
àà 	
public
ää 
async
ää 
Task
ää 
<
ää )
QuizEngineQuestionViewModel
ää 5
>
ää5 6&
GetQuizQuestionByIdAsync
ää7 O
(
ääO P
Guid
ääP T
quizQuestionId
ääU c
)
ääc d
{
ãã 	
return
åå 
await
åå 

_dbContext
åå #
.
åå# $
QuizQuestions
åå$ 1
.
çç 
Where
çç 
(
çç 
q
çç 
=>
çç 
q
çç 
.
çç 
QuizQuestionId
çç ,
==
çç- /
quizQuestionId
çç0 >
)
çç> ?
.
éé 
Select
éé 
(
éé 
q
éé 
=>
éé 
new
éé  )
QuizEngineQuestionViewModel
éé! <
{
èè 
QuizQuestionId
êê "
=
êê# $
q
êê% &
.
êê& '
QuizQuestionId
êê' 5
,
êê5 6
Question
ëë 
=
ëë 
q
ëë  
.
ëë  !
Question
ëë! )
,
ëë) *
QuestionType
íí  
=
íí! "
q
íí# $
.
íí$ %
QuestionType
íí% 1
,
íí1 2

QuestionNo
ìì 
=
ìì  
q
ìì! "
.
ìì" #

QuestionNo
ìì# -
,
ìì- .
Options
îî 
=
îî 

_dbContext
îî (
.
îî( )
QuestionOptions
îî) 8
.
ïï 
Where
ïï 
(
ïï 
o
ïï  
=>
ïï! #
o
ïï$ %
.
ïï% &
QuizQuestionId
ïï& 4
==
ïï5 7
q
ïï8 9
.
ïï9 :
QuizQuestionId
ïï: H
)
ïïH I
.
ññ 
Select
ññ 
(
ññ  
o
ññ  !
=>
ññ" $
new
ññ% ('
QuizEngineOptionViewModel
ññ) B
{
ññC D
Option
ññE K
=
ññL M
o
ññN O
.
ññO P
Option
ññP V
}
ññW X
)
ññX Y
.
óó 
ToList
óó 
(
óó  
)
óó  !
}
òò 
)
òò 
.
ôô !
FirstOrDefaultAsync
ôô $
(
ôô$ %
)
ôô% &
;
ôô& '
}
öö 	
public
ùù 
async
ùù 
Task
ùù $
SaveCachedAnswersAsync
ùù .
(
ùù. /
Guid
ùù/ 3
learnerAttemptId
ùù4 D
,
ùùD E

Dictionary
ùùF P
<
ùùP Q
Guid
ùùQ U
,
ùùU V
List
ùùW [
<
ùù[ \
string
ùù\ b
>
ùùb c
>
ùùc d
questionAnswers
ùùe t
)
ùùt u
{
ûû 	
foreach
üü 
(
üü 
var
üü 
kvp
üü 
in
üü 
questionAnswers
üü  /
)
üü/ 0
{
†† 
var
°° 
quizQuestionId
°° "
=
°°# $
kvp
°°% (
.
°°( )
Key
°°) ,
;
°°, -
var
¢¢ 
selectedOptions
¢¢ #
=
¢¢$ %
kvp
¢¢& )
.
¢¢) *
Value
¢¢* /
;
¢¢/ 0
foreach
§§ 
(
§§ 
var
§§ 
selectedOption
§§ +
in
§§, .
selectedOptions
§§/ >
)
§§> ?
{
•• 
var
¶¶ 
learnerAnswer
¶¶ %
=
¶¶& '
new
¶¶( +
LearnerAnswer
¶¶, 9
{
ßß 
LearnerAttemptId
®® (
=
®®) *
learnerAttemptId
®®+ ;
,
®®; <
QuizQuestionId
©© &
=
©©' (
quizQuestionId
©©) 7
,
©©7 8
QuestionOptionId
™™ (
=
™™) *
await
™™+ 0$
GetOptionIdByTextAsync
™™1 G
(
™™G H
quizQuestionId
™™H V
,
™™V W
selectedOption
™™X f
)
™™f g
,
™™g h
	CreatedBy
´´ !
=
´´" #
$str
´´$ ,
}
¨¨ 
;
¨¨ 

_dbContext
ÆÆ 
.
ÆÆ 
LearnerAnswers
ÆÆ -
.
ÆÆ- .
Add
ÆÆ. 1
(
ÆÆ1 2
learnerAnswer
ÆÆ2 ?
)
ÆÆ? @
;
ÆÆ@ A
}
ØØ 
}
∞∞ 
await
≤≤ 

_dbContext
≤≤ 
.
≤≤ 
SaveChangesAsync
≤≤ -
(
≤≤- .
)
≤≤. /
;
≤≤/ 0
}
≥≥ 	
public
µµ 
async
µµ 
Task
µµ 
SubmitAnswerAsync
µµ +
(
µµ+ ,#
AnswerSubmissionModel
µµ, A#
answerSubmissionModel
µµB W
)
µµW X
{
∂∂ 	
var
∏∏ 
existingAnswers
∏∏ 
=
∏∏  !
await
∏∏" '

_dbContext
∏∏( 2
.
∏∏2 3
LearnerAnswers
∏∏3 A
.
ππ 
Where
ππ 
(
ππ 
a
ππ 
=>
ππ 
a
ππ 
.
ππ 
LearnerAttemptId
ππ .
==
ππ/ 1#
answerSubmissionModel
ππ2 G
.
ππG H
LearnerAttemptId
ππH X
&&
ππY [
a
ππ\ ]
.
ππ] ^
QuizQuestionId
ππ^ l
==
ππm o$
answerSubmissionModelππp Ö
.ππÖ Ü
QuizQuestionIdππÜ î
)ππî ï
.
∫∫ 
ToListAsync
∫∫ 
(
∫∫ 
)
∫∫ 
;
∫∫ 

_dbContext
ªª 
.
ªª 
LearnerAnswers
ªª %
.
ªª% &
RemoveRange
ªª& 1
(
ªª1 2
existingAnswers
ªª2 A
)
ªªA B
;
ªªB C
foreach
ææ 
(
ææ 
var
ææ 
selectedOption
ææ '
in
ææ( *#
answerSubmissionModel
ææ+ @
.
ææ@ A
SelectedOptions
ææA P
)
ææP Q
{
øø 
var
¿¿ 
questionOption
¿¿ "
=
¿¿# $
await
¿¿% *

_dbContext
¿¿+ 5
.
¿¿5 6
QuestionOptions
¿¿6 E
.
¡¡ !
FirstOrDefaultAsync
¡¡ (
(
¡¡( )
o
¡¡) *
=>
¡¡+ -
o
¡¡. /
.
¡¡/ 0
QuizQuestionId
¡¡0 >
==
¡¡? A#
answerSubmissionModel
¡¡B W
.
¡¡W X
QuizQuestionId
¡¡X f
&&
¡¡g i
o
¡¡j k
.
¡¡k l
Option
¡¡l r
==
¡¡s u
selectedOption¡¡v Ñ
)¡¡Ñ Ö
;¡¡Ö Ü
if
¬¬ 
(
¬¬ 
questionOption
¬¬ "
==
¬¬# %
null
¬¬& *
)
¬¬* +
{
√√ 
throw
ƒƒ 
new
ƒƒ '
InvalidOperationException
ƒƒ 7
(
ƒƒ7 8
$"
ƒƒ8 :
$str
ƒƒ: J
{
ƒƒJ K
selectedOption
ƒƒK Y
}
ƒƒY Z
$str
ƒƒZ j
{
ƒƒj k$
answerSubmissionModelƒƒk Ä
.ƒƒÄ Å
QuizQuestionIdƒƒÅ è
}ƒƒè ê
$strƒƒê ë
"ƒƒë í
)ƒƒí ì
;ƒƒì î
}
≈≈ 
var
∆∆ 
learnerAnswer
∆∆ !
=
∆∆" #
new
∆∆$ '
LearnerAnswer
∆∆( 5
{
«« 
LearnerAttemptId
»» $
=
»»% &#
answerSubmissionModel
»»' <
.
»»< =
LearnerAttemptId
»»= M
,
»»M N
QuizQuestionId
…… "
=
……# $#
answerSubmissionModel
……% :
.
……: ;
QuizQuestionId
……; I
,
……I J
QuestionOptionId
   $
=
  % &
questionOption
  ' 5
.
  5 6
QuestionOptionId
  6 F
,
  F G
	CreatedBy
ÀÀ 
=
ÀÀ 
$str
ÀÀ  (
}
ÃÃ 
;
ÃÃ 

_dbContext
ÕÕ 
.
ÕÕ 
LearnerAnswers
ÕÕ )
.
ÕÕ) *
Add
ÕÕ* -
(
ÕÕ- .
learnerAnswer
ÕÕ. ;
)
ÕÕ; <
;
ÕÕ< =
}
ŒŒ 
await
—— 

_dbContext
—— 
.
—— 
SaveChangesAsync
—— -
(
——- .
)
——. /
;
——/ 0
}
““ 	
}
”” 
}‘‘ ÙÒ
8D:\backend\LXP.Data\Repository\QuizFeedbackRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

static 
class !
FeedbackQuestionTypes -
{		 
public

 
const

 
string

 
MultiChoiceQuestion

 /
=

0 1
$str

2 7
;

7 8
public 
const 
string 
DescriptiveQuestion /
=0 1
$str2 ?
;? @
} 
public 

class "
QuizFeedbackRepository '
:( )#
IQuizFeedbackRepository* A
{ 
private 
readonly 
LXPDbContext %

_dbContext& 0
;0 1
public "
QuizFeedbackRepository %
(% &
LXPDbContext& 2
	dbContext3 <
)< =
{ 	

_dbContext 
= 
	dbContext "
;" #
} 	
public 
Guid 
AddFeedbackQuestion '
(' ()
QuizfeedbackquestionViewModel( E#
quizfeedbackquestionDtoF ]
,] ^
List_ c
<c d1
$QuizFeedbackQuestionsOptionViewModel	d à
>
à â
options
ä ë
)
ë í
{ 	
try 
{ 
var "
normalizedQuestionType *
=+ ,#
quizfeedbackquestionDto- D
.D E
QuestionTypeE Q
.Q R
ToUpperR Y
(Y Z
)Z [
;[ \
if   
(   "
normalizedQuestionType   *
==  + -!
FeedbackQuestionTypes  . C
.  C D
DescriptiveQuestion  D W
.  W X
ToUpper  X _
(  _ `
)  ` a
)  a b
{!! 
options"" 
="" 
null"" "
;""" #
}## 
if%% 
(%% 
!%% 1
%ValidateOptionsByFeedbackQuestionType%% :
(%%: ;#
quizfeedbackquestionDto%%; R
.%%R S
QuestionType%%S _
,%%_ `
options%%a h
)%%h i
)%%i j
throw&& 
new&& 
ArgumentException&& /
(&&/ 0
$str'' F
,''F G
nameof(( 
((( 
options(( &
)((& '
))) 
;)) 
var,, 
questionEntity,, "
=,,# $
new,,% ( 
Quizfeedbackquestion,,) =
{-- 
QuizId.. 
=.. #
quizfeedbackquestionDto.. 4
...4 5
QuizId..5 ;
,..; <

QuestionNo// 
=//  %
GetNextFeedbackQuestionNo//! :
(//: ;#
quizfeedbackquestionDto//; R
.//R S
QuizId//S Y
)//Y Z
,//Z [
Question00 
=00 #
quizfeedbackquestionDto00 6
.006 7
Question007 ?
,00? @
QuestionType11  
=11! ""
normalizedQuestionType11# 9
,119 :
	CreatedBy22 
=22 
$str22  '
,22' (
	CreatedAt33 
=33 
DateTime33  (
.33( )
Now33) ,
}44 
;44 

_dbContext66 
.66 !
Quizfeedbackquestions66 0
.660 1
Add661 4
(664 5
questionEntity665 C
)66C D
;66D E

_dbContext77 
.77 
SaveChanges77 &
(77& '
)77' (
;77( )
if:: 
(:: "
normalizedQuestionType:: *
==::+ -!
FeedbackQuestionTypes::. C
.::C D
MultiChoiceQuestion::D W
.::W X
ToUpper::X _
(::_ `
)::` a
)::a b
{;; 
if<< 
(<< 
options<< 
!=<<  "
null<<# '
&&<<( *
options<<+ 2
.<<2 3
Count<<3 8
><<9 :
$num<<; <
)<<< =
{== 
foreach>> 
(>>  !
var>>! $
option>>% +
in>>, .
options>>/ 6
)>>6 7
{?? 
var@@ 
optionEntity@@  ,
=@@- .
new@@/ 2#
Feedbackquestionsoption@@3 J
{AA "
QuizFeedbackQuestionIdBB  6
=BB7 8
questionEntityBB9 G
.BBG H"
QuizFeedbackQuestionIdBBH ^
,BB^ _

OptionTextCC  *
=CC+ ,
optionCC- 3
.CC3 4

OptionTextCC4 >
,CC> ?
	CreatedAtDD  )
=DD* +
DateTimeDD, 4
.DD4 5
NowDD5 8
,DD8 9
	CreatedByEE  )
=EE* +
$strEE, 3
}FF 
;FF 

_dbContextGG &
.GG& '$
FeedbackquestionsoptionsGG' ?
.GG? @
AddGG@ C
(GGC D
optionEntityGGD P
)GGP Q
;GGQ R
}HH 

_dbContextII "
.II" #
SaveChangesII# .
(II. /
)II/ 0
;II0 1
}JJ 
}KK 
returnMM 
questionEntityMM %
.MM% &"
QuizFeedbackQuestionIdMM& <
;MM< =
}NN 
catchOO 
(OO 
	ExceptionOO 
exOO 
)OO  
{PP 
throwRR 
newRR %
InvalidOperationExceptionRR 3
(RR3 4
$strRR4 k
,RRk l
exRRm o
)RRo p
;RRp q
}SS 
}TT 	
publicVV 
ListVV 
<VV +
QuizfeedbackquestionNoViewModelVV 3
>VV3 4#
GetAllFeedbackQuestionsVV5 L
(VVL M
)VVM N
{WW 	
returnXX 

_dbContextXX 
.XX !
QuizfeedbackquestionsXX 3
.YY 
SelectYY 
(YY 
qYY 
=>YY 
newYY  +
QuizfeedbackquestionNoViewModelYY! @
{ZZ "
QuizFeedbackQuestionId[[ *
=[[+ ,
q[[- .
.[[. /"
QuizFeedbackQuestionId[[/ E
,[[E F
QuizId\\ 
=\\ 
q\\ 
.\\ 
QuizId\\ %
,\\% &

QuestionNo]] 
=]]  
q]]! "
.]]" #

QuestionNo]]# -
,]]- .
Question^^ 
=^^ 
q^^  
.^^  !
Question^^! )
,^^) *
QuestionType__  
=__! "
q__# $
.__$ %
QuestionType__% 1
,__1 2
Options`` 
=`` 

_dbContext`` (
.``( )$
Feedbackquestionsoptions``) A
.aa$ %
Whereaa% *
(aa* +
oaa+ ,
=>aa- /
oaa0 1
.aa1 2"
QuizFeedbackQuestionIdaa2 H
==aaI K
qaaL M
.aaM N"
QuizFeedbackQuestionIdaaN d
)aad e
.bb$ %
Selectbb% +
(bb+ ,
occ( )
=>cc* ,
newdd, /0
$QuizFeedbackQuestionsOptionViewModeldd0 T
{ee, -

OptionTextff0 :
=ff; <
off= >
.ff> ?

OptionTextff? I
,ffI J
}hh, -
)ii$ %
.jj$ %
ToListjj% +
(jj+ ,
)jj, -
}kk 
)kk 
.kk 
ToListkk 
(kk 
)kk 
;kk 
}ll 	
publicmm 
Listmm 
<mm +
QuizfeedbackquestionNoViewModelmm 3
>mm3 4(
GetFeedbackQuestionsByQuizIdmm5 Q
(mmQ R
GuidmmR V
quizIdmmW ]
)mm] ^
{nn 	
returnoo 

_dbContextoo 
.oo !
Quizfeedbackquestionsoo 3
.pp 
Wherepp 
(pp 
qpp 
=>pp 
qpp 
.pp 
QuizIdpp $
==pp% '
quizIdpp( .
)pp. /
.qq 
Selectqq 
(qq 
qqq 
=>qq 
newqq  +
QuizfeedbackquestionNoViewModelqq! @
{rr "
QuizFeedbackQuestionIdss *
=ss+ ,
qss- .
.ss. /"
QuizFeedbackQuestionIdss/ E
,ssE F
QuizIdtt 
=tt 
qtt 
.tt 
QuizIdtt %
,tt% &

QuestionNouu 
=uu  
quu! "
.uu" #

QuestionNouu# -
,uu- .
Questionvv 
=vv 
qvv  
.vv  !
Questionvv! )
,vv) *
QuestionTypeww  
=ww! "
qww# $
.ww$ %
QuestionTypeww% 1
,ww1 2
Optionsxx 
=xx 

_dbContextxx (
.xx( )$
Feedbackquestionsoptionsxx) A
.yy( )
Whereyy) .
(yy. /
oyy/ 0
=>yy1 3
oyy4 5
.yy5 6"
QuizFeedbackQuestionIdyy6 L
==yyM O
qyyP Q
.yyQ R"
QuizFeedbackQuestionIdyyR h
)yyh i
.zz( )
Selectzz) /
(zz/ 0
ozz0 1
=>zz2 4
newzz5 80
$QuizFeedbackQuestionsOptionViewModelzz9 ]
{{{( )

OptionText||, 6
=||7 8
o||9 :
.||: ;

OptionText||; E
}}}( )
)}}) *
.}}* +
ToList}}+ 1
(}}1 2
)}}2 3
}~~ 
)~~ 
.~~ 
ToList~~ 
(~~ 
)~~ 
;~~ 
} 	
public
ÇÇ 
int
ÇÇ '
GetNextFeedbackQuestionNo
ÇÇ ,
(
ÇÇ, -
Guid
ÇÇ- 1
quizId
ÇÇ2 8
)
ÇÇ8 9
{
ÉÉ 	
var
ÑÑ 
lastQuestion
ÑÑ 
=
ÑÑ 

_dbContext
ÑÑ )
.
ÑÑ) *#
Quizfeedbackquestions
ÑÑ* ?
.
ÖÖ 
Where
ÖÖ 
(
ÖÖ 
q
ÖÖ 
=>
ÖÖ 
q
ÖÖ 
.
ÖÖ 
QuizId
ÖÖ $
==
ÖÖ% '
quizId
ÖÖ( .
)
ÖÖ. /
.
ÜÜ 
OrderByDescending
ÜÜ "
(
ÜÜ" #
q
ÜÜ# $
=>
ÜÜ% '
q
ÜÜ( )
.
ÜÜ) *

QuestionNo
ÜÜ* 4
)
ÜÜ4 5
.
áá 
FirstOrDefault
áá 
(
áá  
)
áá  !
;
áá! "
return
àà 
lastQuestion
àà 
!=
àà  "
null
àà# '
?
àà( )
lastQuestion
àà* 6
.
àà6 7

QuestionNo
àà7 A
+
ààB C
$num
ààD E
:
ààF G
$num
ààH I
;
ààI J
}
ââ 	
public
êê 
Guid
êê '
AddFeedbackQuestionOption
êê -
(
êê- .2
$QuizFeedbackQuestionsOptionViewModel
êê. R(
feedbackquestionsoptionDto
êêS m
,
êêm n
Guid
êêo s%
quizFeedbackQuestionIdêêt ä
)êêä ã
{
ëë 	
var
íí 
optionEntity
íí 
=
íí 
new
íí "%
Feedbackquestionsoption
íí# :
{
ìì $
QuizFeedbackQuestionId
îî &
=
îî' ($
quizFeedbackQuestionId
îî) ?
,
îî? @

OptionText
ïï 
=
ïï (
feedbackquestionsoptionDto
ïï 7
.
ïï7 8

OptionText
ïï8 B
,
ïïB C
	CreatedAt
ññ 
=
ññ 
DateTime
ññ $
.
ññ$ %
Now
ññ% (
,
ññ( )
	CreatedBy
óó 
=
óó 
$str
óó #
}
òò 
;
òò 

_dbContext
ôô 
.
ôô &
Feedbackquestionsoptions
ôô /
.
ôô/ 0
Add
ôô0 3
(
ôô3 4
optionEntity
ôô4 @
)
ôô@ A
;
ôôA B

_dbContext
öö 
.
öö 
SaveChanges
öö "
(
öö" #
)
öö# $
;
öö$ %
return
úú 
optionEntity
úú 
.
úú  &
FeedbackQuestionOptionId
úú  8
;
úú8 9
}
ùù 	
public
üü 
List
üü 
<
üü 2
$QuizFeedbackQuestionsOptionViewModel
üü 8
>
üü8 9,
GetFeedbackQuestionOptionsById
üü: X
(
üüX Y
Guid
üüY ]$
quizFeedbackQuestionId
üü^ t
)
üüt u
{
†† 	
return
°° 

_dbContext
°° 
.
°° &
Feedbackquestionsoptions
°° 6
.
¢¢ 
Where
¢¢ 
(
¢¢ 
o
¢¢ 
=>
¢¢ 
o
¢¢ 
.
¢¢ $
QuizFeedbackQuestionId
¢¢ 4
==
¢¢5 7$
quizFeedbackQuestionId
¢¢8 N
)
¢¢N O
.
££ 
Select
££ 
(
££ 
o
££ 
=>
££ 
new
££  2
$QuizFeedbackQuestionsOptionViewModel
££! E
{
§§ 

OptionText
¶¶ 
=
¶¶  
o
¶¶! "
.
¶¶" #

OptionText
¶¶# -
}
ßß 
)
ßß 
.
ßß 
ToList
ßß 
(
ßß 
)
ßß 
;
ßß 
}
®® 	
public
ØØ -
QuizfeedbackquestionNoViewModel
ØØ .%
GetFeedbackQuestionById
ØØ/ F
(
ØØF G
Guid
ØØG K$
quizFeedbackQuestionId
ØØL b
)
ØØb c
{
∞∞ 	
var
±± 
feedbackQuestion
±±  
=
±±! "

_dbContext
±±# -
.
±±- .#
Quizfeedbackquestions
±±. C
.
≤≤ 
Where
≤≤ 
(
≤≤ 
q
≤≤ 
=>
≤≤ 
q
≤≤ 
.
≤≤ $
QuizFeedbackQuestionId
≤≤ 4
==
≤≤5 7$
quizFeedbackQuestionId
≤≤8 N
)
≤≤N O
.
≥≥ 
Select
≥≥ 
(
≥≥ 
q
≥≥ 
=>
≥≥ 
new
≥≥  
{
¥¥ 
q
µµ 
.
µµ $
QuizFeedbackQuestionId
µµ ,
,
µµ, -
q
∂∂ 
.
∂∂ 
QuizId
∂∂ 
,
∂∂ 
q
∑∑ 
.
∑∑ 

QuestionNo
∑∑  
,
∑∑  !
q
∏∏ 
.
∏∏ 
Question
∏∏ 
,
∏∏ 
q
ππ 
.
ππ 
QuestionType
ππ "
,
ππ" #
Options
∫∫ 
=
∫∫ 

_dbContext
∫∫ (
.
∫∫( )&
Feedbackquestionsoptions
∫∫) A
.
ªª  !
Where
ªª! &
(
ªª& '
o
ªª' (
=>
ªª) +
o
ªª, -
.
ªª- .$
QuizFeedbackQuestionId
ªª. D
==
ªªE G
q
ªªH I
.
ªªI J$
QuizFeedbackQuestionId
ªªJ `
)
ªª` a
.
ºº  !
Select
ºº! '
(
ºº' (
o
ºº( )
=>
ºº* ,
new
ºº- 02
$QuizFeedbackQuestionsOptionViewModel
ºº1 U
{
ΩΩ  !

OptionText
ææ$ .
=
ææ/ 0
o
ææ1 2
.
ææ2 3

OptionText
ææ3 =
}
øø  !
)
øø! "
.
¿¿  !
ToList
¿¿! '
(
¿¿' (
)
¿¿( )
}
¡¡ 
)
¡¡ 
.
¬¬ 
FirstOrDefault
¬¬ 
(
¬¬  
)
¬¬  !
;
¬¬! "
if
ƒƒ 
(
ƒƒ 
feedbackQuestion
ƒƒ  
==
ƒƒ! #
null
ƒƒ$ (
)
ƒƒ( )
{
≈≈ 
return
∆∆ 
null
∆∆ 
;
∆∆ 
}
«« 
return
…… 
new
…… -
QuizfeedbackquestionNoViewModel
…… 6
{
   $
QuizFeedbackQuestionId
ÀÀ &
=
ÀÀ' (
feedbackQuestion
ÀÀ) 9
.
ÀÀ9 :$
QuizFeedbackQuestionId
ÀÀ: P
,
ÀÀP Q
QuizId
ÃÃ 
=
ÃÃ 
feedbackQuestion
ÃÃ )
.
ÃÃ) *
QuizId
ÃÃ* 0
,
ÃÃ0 1

QuestionNo
ÕÕ 
=
ÕÕ 
feedbackQuestion
ÕÕ -
.
ÕÕ- .

QuestionNo
ÕÕ. 8
,
ÕÕ8 9
Question
ŒŒ 
=
ŒŒ 
feedbackQuestion
ŒŒ +
.
ŒŒ+ ,
Question
ŒŒ, 4
,
ŒŒ4 5
QuestionType
œœ 
=
œœ 
feedbackQuestion
œœ /
.
œœ/ 0
QuestionType
œœ0 <
,
œœ< =
Options
–– 
=
–– 
feedbackQuestion
–– *
.
––* +
Options
––+ 2
??
––3 5
new
––6 9
List
––: >
<
––> ?2
$QuizFeedbackQuestionsOptionViewModel
––? c
>
––c d
(
––d e
)
––e f
}
—— 
;
—— 
}
““ 	
public
’’ 
bool
’’ 3
%ValidateOptionsByFeedbackQuestionType
’’ 9
(
’’9 :
string
’’: @
questionType
’’A M
,
’’M N
List
’’O S
<
’’S T2
$QuizFeedbackQuestionsOptionViewModel
’’T x
>
’’x y
options’’z Å
)’’Å Ç
{
÷÷ 	
questionType
◊◊ 
=
◊◊ 
questionType
◊◊ '
.
◊◊' (
ToUpper
◊◊( /
(
◊◊/ 0
)
◊◊0 1
;
◊◊1 2
if
ŸŸ 
(
ŸŸ 
questionType
ŸŸ 
==
ŸŸ #
FeedbackQuestionTypes
ŸŸ  5
.
ŸŸ5 6!
MultiChoiceQuestion
ŸŸ6 I
.
ŸŸI J
ToUpper
ŸŸJ Q
(
ŸŸQ R
)
ŸŸR S
)
ŸŸS T
{
⁄⁄ 
return
€€ 
options
€€ 
!=
€€ !
null
€€" &
&&
€€' )
options
€€* 1
.
€€1 2
Count
€€2 7
>=
€€8 :
$num
€€; <
&&
€€= ?
options
€€@ G
.
€€G H
Count
€€H M
<=
€€N P
$num
€€Q R
;
€€R S
}
‹‹ 
return
›› 
options
›› 
==
›› 
null
›› "
||
››# %
options
››& -
.
››- .
Count
››. 3
==
››4 6
$num
››7 8
;
››8 9
}
ﬁﬁ 	
public
·· 
bool
·· $
UpdateFeedbackQuestion
·· *
(
··* +
Guid
··+ /$
quizFeedbackQuestionId
··0 F
,
··F G+
QuizfeedbackquestionViewModel
··H e%
quizfeedbackquestionDto
··f }
,
··} ~
List·· É
<··É Ñ4
$QuizFeedbackQuestionsOptionViewModel··Ñ ®
>··® ©
options··™ ±
)··± ≤
{
‚‚ 	
try
„„ 
{
‰‰ 
var
ÂÂ 
existingQuestion
ÂÂ $
=
ÂÂ% &

_dbContext
ÂÂ' 1
.
ÂÂ1 2#
Quizfeedbackquestions
ÂÂ2 G
.
ÂÂG H
FirstOrDefault
ÂÂH V
(
ÂÂV W
q
ÂÂW X
=>
ÂÂY [
q
ÂÂ\ ]
.
ÂÂ] ^$
QuizFeedbackQuestionId
ÂÂ^ t
==
ÂÂu w%
quizFeedbackQuestionIdÂÂx é
)ÂÂé è
;ÂÂè ê
if
ÊÊ 
(
ÊÊ 
existingQuestion
ÊÊ $
!=
ÊÊ% '
null
ÊÊ( ,
)
ÊÊ, -
{
ÁÁ 
if
ÈÈ 
(
ÈÈ 
!
ÈÈ 
existingQuestion
ÈÈ )
.
ÈÈ) *
QuestionType
ÈÈ* 6
.
ÈÈ6 7
Equals
ÈÈ7 =
(
ÈÈ= >%
quizfeedbackquestionDto
ÈÈ> U
.
ÈÈU V
QuestionType
ÈÈV b
,
ÈÈb c
StringComparison
ÈÈd t
.
ÈÈt u 
OrdinalIgnoreCaseÈÈu Ü
)ÈÈÜ á
)ÈÈá à
{
ÍÍ 
throw
ÎÎ 
new
ÎÎ !'
InvalidOperationException
ÎÎ" ;
(
ÎÎ; <
$str
ÎÎ< _
)
ÎÎ_ `
;
ÎÎ` a
}
ÏÏ 
existingQuestion
ÔÔ $
.
ÔÔ$ %
Question
ÔÔ% -
=
ÔÔ. /%
quizfeedbackquestionDto
ÔÔ0 G
.
ÔÔG H
Question
ÔÔH P
;
ÔÔP Q
existingQuestion
 $
.
$ %

ModifiedAt
% /
=
0 1
DateTime
2 :
.
: ;
Now
; >
;
> ?
existingQuestion
ÒÒ $
.
ÒÒ$ %

ModifiedBy
ÒÒ% /
=
ÒÒ0 1
$str
ÒÒ2 9
;
ÒÒ9 :

_dbContext
ÚÚ 
.
ÚÚ 
SaveChanges
ÚÚ *
(
ÚÚ* +
)
ÚÚ+ ,
;
ÚÚ, -
if
ıı 
(
ıı 
existingQuestion
ıı (
.
ıı( )
QuestionType
ıı) 5
==
ıı6 8#
FeedbackQuestionTypes
ıı9 N
.
ııN O!
MultiChoiceQuestion
ııO b
.
ııb c
ToUpper
ııc j
(
ııj k
)
ıık l
)
ııl m
{
ˆˆ 
if
˜˜ 
(
˜˜ 
!
˜˜ 3
%ValidateOptionsByFeedbackQuestionType
˜˜ B
(
˜˜B C
existingQuestion
˜˜C S
.
˜˜S T
QuestionType
˜˜T `
,
˜˜` a
options
˜˜b i
)
˜˜i j
)
˜˜j k
{
¯¯ 
throw
˘˘ !
new
˘˘" %
ArgumentException
˘˘& 7
(
˘˘7 8
$str
˘˘8 f
)
˘˘f g
;
˘˘g h
}
˙˙ 
var
¸¸ 
existingOptions
¸¸ +
=
¸¸, -

_dbContext
¸¸. 8
.
¸¸8 9&
Feedbackquestionsoptions
¸¸9 Q
.
¸¸Q R
Where
¸¸R W
(
¸¸W X
o
¸¸X Y
=>
¸¸Z \
o
¸¸] ^
.
¸¸^ _$
QuizFeedbackQuestionId
¸¸_ u
==
¸¸v x%
quizFeedbackQuestionId¸¸y è
)¸¸è ê
.¸¸ê ë
ToList¸¸ë ó
(¸¸ó ò
)¸¸ò ô
;¸¸ô ö

_dbContext
˝˝ "
.
˝˝" #&
Feedbackquestionsoptions
˝˝# ;
.
˝˝; <
RemoveRange
˝˝< G
(
˝˝G H
existingOptions
˝˝H W
)
˝˝W X
;
˝˝X Y

_dbContext
˛˛ "
.
˛˛" #
SaveChanges
˛˛# .
(
˛˛. /
)
˛˛/ 0
;
˛˛0 1
if
ÄÄ 
(
ÄÄ 
options
ÄÄ #
!=
ÄÄ$ &
null
ÄÄ' +
&&
ÄÄ, .
options
ÄÄ/ 6
.
ÄÄ6 7
Count
ÄÄ7 <
>
ÄÄ= >
$num
ÄÄ? @
)
ÄÄ@ A
{
ÅÅ 
foreach
ÇÇ #
(
ÇÇ$ %
var
ÇÇ% (
option
ÇÇ) /
in
ÇÇ0 2
options
ÇÇ3 :
)
ÇÇ: ;
{
ÉÉ 
var
ÑÑ  #
optionEntity
ÑÑ$ 0
=
ÑÑ1 2
new
ÑÑ3 6%
Feedbackquestionsoption
ÑÑ7 N
{
ÖÖ  !$
QuizFeedbackQuestionId
ÜÜ$ :
=
ÜÜ; <$
quizFeedbackQuestionId
ÜÜ= S
,
ÜÜS T

OptionText
áá$ .
=
áá/ 0
option
áá1 7
.
áá7 8

OptionText
áá8 B
,
ááB C
	CreatedAt
àà$ -
=
àà. /
DateTime
àà0 8
.
àà8 9
Now
àà9 <
,
àà< =
	CreatedBy
ââ$ -
=
ââ. /
$str
ââ0 7
}
ää  !
;
ää! "

_dbContext
ãã  *
.
ãã* +&
Feedbackquestionsoptions
ãã+ C
.
ããC D
Add
ããD G
(
ããG H
optionEntity
ããH T
)
ããT U
;
ããU V
}
åå 

_dbContext
çç &
.
çç& '
SaveChanges
çç' 2
(
çç2 3
)
çç3 4
;
çç4 5
}
éé 
}
èè 
return
ëë 
true
ëë 
;
ëë  
}
íí 
return
ìì 
false
ìì 
;
ìì 
}
îî 
catch
ïï 
(
ïï 
	Exception
ïï 
ex
ïï 
)
ïï  
{
ññ 
throw
òò 
new
òò '
InvalidOperationException
òò 3
(
òò3 4
$str
òò4 m
,
òòm n
ex
òòo q
)
òòq r
;
òòr s
}
ôô 
}
öö 	
public
üü 
bool
üü $
DeleteFeedbackQuestion
üü *
(
üü* +
Guid
üü+ /$
quizFeedbackQuestionId
üü0 F
)
üüF G
{
†† 	
using
°° 
var
°° 
transaction
°° !
=
°°" #

_dbContext
°°$ .
.
°°. /
Database
°°/ 7
.
°°7 8
BeginTransaction
°°8 H
(
°°H I
)
°°I J
;
°°J K
try
¢¢ 
{
££ 
var
§§ 
existingQuestion
§§ $
=
§§% &

_dbContext
§§' 1
.
§§1 2#
Quizfeedbackquestions
§§2 G
.
§§G H
FirstOrDefault
§§H V
(
§§V W
q
§§W X
=>
§§Y [
q
§§\ ]
.
§§] ^$
QuizFeedbackQuestionId
§§^ t
==
§§u w%
quizFeedbackQuestionId§§x é
)§§é è
;§§è ê
if
•• 
(
•• 
existingQuestion
•• $
!=
••% '
null
••( ,
)
••, -
{
¶¶ 
var
ßß 
relatedOptions
ßß &
=
ßß' (

_dbContext
ßß) 3
.
ßß3 4&
Feedbackquestionsoptions
ßß4 L
.
®®3 4
Where
®®4 9
(
®®9 :
o
®®: ;
=>
®®< >
o
®®? @
.
®®@ A$
QuizFeedbackQuestionId
®®A W
==
®®X Z$
quizFeedbackQuestionId
®®[ q
)
®®q r
.
©©3 4
ToList
©©4 :
(
©©: ;
)
©©; <
;
©©< =
if
´´ 
(
´´ 
relatedOptions
´´ &
.
´´& '
Any
´´' *
(
´´* +
)
´´+ ,
)
´´, -
{
¨¨ 

_dbContext
≠≠ "
.
≠≠" #&
Feedbackquestionsoptions
≠≠# ;
.
≠≠; <
RemoveRange
≠≠< G
(
≠≠G H
relatedOptions
≠≠H V
)
≠≠V W
;
≠≠W X
}
ÆÆ 

_dbContext
∞∞ 
.
∞∞ #
Quizfeedbackquestions
∞∞ 4
.
∞∞4 5
Remove
∞∞5 ;
(
∞∞; <
existingQuestion
∞∞< L
)
∞∞L M
;
∞∞M N

_dbContext
±± 
.
±± 
SaveChanges
±± *
(
±±* +
)
±±+ ,
;
±±, - 
ReorderQuestionNos
≥≥ &
(
≥≥& '
existingQuestion
≥≥' 7
.
≥≥7 8
QuizId
≥≥8 >
,
≥≥> ?
existingQuestion
≥≥@ P
.
≥≥P Q

QuestionNo
≥≥Q [
)
≥≥[ \
;
≥≥\ ]
transaction
µµ 
.
µµ  
Commit
µµ  &
(
µµ& '
)
µµ' (
;
µµ( )
return
∂∂ 
true
∂∂ 
;
∂∂  
}
∑∑ 
}
∏∏ 
catch
ππ 
(
ππ 
	Exception
ππ 
)
ππ 
{
∫∫ 
transaction
ªª 
.
ªª 
Rollback
ªª $
(
ªª$ %
)
ªª% &
;
ªª& '
throw
ºº 
;
ºº 
}
ΩΩ 
return
ææ 
false
ææ 
;
ææ 
}
øø 	
public
¡¡ 
bool
¡¡ -
DeleteFeedbackQuestionsByQuizId
¡¡ 3
(
¡¡3 4
Guid
¡¡4 8
quizId
¡¡9 ?
)
¡¡? @
{
¬¬ 	
using
√√ 
var
√√ 
transaction
√√ !
=
√√" #

_dbContext
√√$ .
.
√√. /
Database
√√/ 7
.
√√7 8
BeginTransaction
√√8 H
(
√√H I
)
√√I J
;
√√J K
try
ƒƒ 
{
≈≈ 
var
∆∆ 
feedbackQuestions
∆∆ %
=
∆∆& '

_dbContext
∆∆( 2
.
∆∆2 3#
Quizfeedbackquestions
∆∆3 H
.
∆∆H I
Where
∆∆I N
(
∆∆N O
q
∆∆O P
=>
∆∆Q S
q
∆∆T U
.
∆∆U V
QuizId
∆∆V \
==
∆∆] _
quizId
∆∆` f
)
∆∆f g
.
∆∆g h
ToList
∆∆h n
(
∆∆n o
)
∆∆o p
;
∆∆p q
if
«« 
(
«« 
feedbackQuestions
«« %
.
««% &
Count
««& +
==
««, .
$num
««/ 0
)
««0 1
{
»» 
return
…… 
false
……  
;
……  !
}
   
foreach
ÃÃ 
(
ÃÃ 
var
ÃÃ 
question
ÃÃ %
in
ÃÃ& (
feedbackQuestions
ÃÃ) :
)
ÃÃ: ;
{
ÕÕ 
var
ŒŒ 
relatedOptions
ŒŒ &
=
ŒŒ' (

_dbContext
ŒŒ) 3
.
ŒŒ3 4&
Feedbackquestionsoptions
ŒŒ4 L
.
œœ3 4
Where
œœ4 9
(
œœ9 :
o
œœ: ;
=>
œœ< >
o
œœ? @
.
œœ@ A$
QuizFeedbackQuestionId
œœA W
==
œœX Z
question
œœ[ c
.
œœc d$
QuizFeedbackQuestionId
œœd z
)
œœz {
.
––3 4
ToList
––4 :
(
––: ;
)
––; <
;
––< =
if
““ 
(
““ 
relatedOptions
““ &
.
““& '
Any
““' *
(
““* +
)
““+ ,
)
““, -
{
”” 

_dbContext
‘‘ "
.
‘‘" #&
Feedbackquestionsoptions
‘‘# ;
.
‘‘; <
RemoveRange
‘‘< G
(
‘‘G H
relatedOptions
‘‘H V
)
‘‘V W
;
‘‘W X
}
’’ 

_dbContext
◊◊ 
.
◊◊ #
Quizfeedbackquestions
◊◊ 4
.
◊◊4 5
Remove
◊◊5 ;
(
◊◊; <
question
◊◊< D
)
◊◊D E
;
◊◊E F
}
ÿÿ 

_dbContext
⁄⁄ 
.
⁄⁄ 
SaveChanges
⁄⁄ &
(
⁄⁄& '
)
⁄⁄' (
;
⁄⁄( )
transaction
€€ 
.
€€ 
Commit
€€ "
(
€€" #
)
€€# $
;
€€$ %
return
‹‹ 
true
‹‹ 
;
‹‹ 
}
›› 
catch
ﬁﬁ 
(
ﬁﬁ 
	Exception
ﬁﬁ 
)
ﬁﬁ 
{
ﬂﬂ 
transaction
‡‡ 
.
‡‡ 
Rollback
‡‡ $
(
‡‡$ %
)
‡‡% &
;
‡‡& '
throw
·· 
;
·· 
}
‚‚ 
}
„„ 	
public
ÂÂ 
void
ÂÂ  
ReorderQuestionNos
ÂÂ &
(
ÂÂ& '
Guid
ÂÂ' +
quizId
ÂÂ, 2
,
ÂÂ2 3
int
ÂÂ4 7
deletedQuestionNo
ÂÂ8 I
)
ÂÂI J
{
ÊÊ 	
var
ÁÁ 
questionsToUpdate
ÁÁ !
=
ÁÁ" #

_dbContext
ÁÁ$ .
.
ÁÁ. /#
Quizfeedbackquestions
ÁÁ/ D
.
ËË. /
Where
ËË/ 4
(
ËË4 5
q
ËË5 6
=>
ËË7 9
q
ËË: ;
.
ËË; <
QuizId
ËË< B
==
ËËC E
quizId
ËËF L
&&
ËËM O
q
ËËP Q
.
ËËQ R

QuestionNo
ËËR \
>
ËË] ^
deletedQuestionNo
ËË_ p
)
ËËp q
.
ÈÈ. /
OrderBy
ÈÈ/ 6
(
ÈÈ6 7
q
ÈÈ7 8
=>
ÈÈ9 ;
q
ÈÈ< =
.
ÈÈ= >

QuestionNo
ÈÈ> H
)
ÈÈH I
.
ÍÍ. /
ToList
ÍÍ/ 5
(
ÍÍ5 6
)
ÍÍ6 7
;
ÍÍ7 8
foreach
ÏÏ 
(
ÏÏ 
var
ÏÏ 
question
ÏÏ !
in
ÏÏ" $
questionsToUpdate
ÏÏ% 6
)
ÏÏ6 7
{
ÌÌ 
question
ÓÓ 
.
ÓÓ 

QuestionNo
ÓÓ #
--
ÓÓ# %
;
ÓÓ% &
}
ÔÔ 

_dbContext
 
.
 
SaveChanges
 "
(
" #
)
# $
;
$ %
}
ÒÒ 	
}
ÛÛ 
}ÙÙ Ê 
<D:\backend\LXP.Data\Repository\QuizQuestionJsonRepository.cs
	namespace 	
LXP
 
. 
Core 
. 
Repositories 
{ 
public 

class &
QuizQuestionJsonRepository +
:, -'
IQuizQuestionJsonRepository. I
{		 
private

 
readonly

 
LXPDbContext

 %

_dbContext

& 0
;

0 1
public &
QuizQuestionJsonRepository )
() *
LXPDbContext* 6
	dbContext7 @
)@ A
{ 	

_dbContext 
= 
	dbContext "
;" #
} 	
public 
async 
Task 
< 
List 
< 
QuizQuestion +
>+ ,
>, -
AddQuestionsAsync. ?
(? @
List@ D
<D E
QuizQuestionE Q
>Q R
	questionsS \
)\ ]
{ 	
await 

_dbContext 
. 
QuizQuestions *
.* +
AddRangeAsync+ 8
(8 9
	questions9 B
)B C
;C D
await 

_dbContext 
. 
SaveChangesAsync -
(- .
). /
;/ 0
return 
	questions 
; 
} 	
public 
async 
Task 
AddOptionsAsync )
() *
List* .
<. /
QuestionOption/ =
>= >
questionOptions? N
,N O
GuidP T
quizQuestionIdU c
)c d
{ 	
var 
existingQuestion  
=! "
await# (

_dbContext) 3
.3 4
QuizQuestions4 A
.A B
FirstOrDefaultAsyncB U
(U V
qV W
=>X Z
q[ \
.\ ]
QuizQuestionId] k
==l n
quizQuestionIdo }
)} ~
;~ 
if 
( 
existingQuestion  
!=! #
null$ (
)( )
{ 
foreach 
( 
var 
option #
in$ &
questionOptions' 6
)6 7
{ 
option 
. 
QuizQuestionId )
=* +
quizQuestionId, :
;: ;

_dbContext   
.   
QuestionOptions   .
.  . /
Add  / 2
(  2 3
option  3 9
)  9 :
;  : ;
}!! 
await"" 

_dbContext""  
.""  !
SaveChangesAsync""! 1
(""1 2
)""2 3
;""3 4
}## 
else$$ 
{%% 
throw&& 
new&& 
	Exception&& #
(&&# $
$"&&$ &
$str&&& <
{&&< =
quizQuestionId&&= K
}&&K L
$str&&L \
"&&\ ]
)&&] ^
;&&^ _
}'' 
}(( 	
public** 
async** 
Task** 
<** 
int** 
>** "
GetNextQuestionNoAsync** 5
(**5 6
Guid**6 :
quizId**; A
)**A B
{++ 	
try,, 
{-- 
int.. 
count.. 
=.. 
await.. !

_dbContext.." ,
..., -
QuizQuestions..- :
.// 
Where// 
(// 
q// 
=>// 
q//  !
.//! "
QuizId//" (
==//) +
quizId//, 2
)//2 3
.00 

CountAsync00 
(00  
)00  !
;00! "
return22 
count22 
+22 
$num22  
;22  !
}33 
catch44 
(44 
	Exception44 
ex44 
)44  
{55 
throw66 
new66 %
InvalidOperationException66 3
(663 4
$str77 a
,77a b
ex88 
)99 
;99 
}:: 
};; 	
}<< 
}== —º
8D:\backend\LXP.Data\Repository\QuizQuestionRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{		 
public

 

static

 
class

 
QuestionTypes

 %
{ 
public 
const 
string 
MultiSelectQuestion /
=0 1
$str2 7
;7 8
public 
const 
string 
MultiChoiceQuestion /
=0 1
$str2 7
;7 8
public 
const 
string 
TrueFalseQuestion -
=. /
$str0 5
;5 6
} 
public 

class "
QuizQuestionRepository '
:( )#
IQuizQuestionRepository* A
{ 
private 
readonly 
LXPDbContext %
_LXPDbContext& 3
;3 4
public "
QuizQuestionRepository %
(% &
LXPDbContext& 2
	dbContext3 <
)< =
{ 	
_LXPDbContext 
= 
	dbContext 
?? 
throw 
new !
ArgumentNullException 2
(2 3
nameof3 9
(9 :
	dbContext: C
)C D
,D E
$strF b
)b c
;c d
} 	
public 
async 
Task 
< 
Guid 
> 
AddQuestionAsync  0
(0 1!
QuizQuestionViewModel1 F
quizQuestionDtoG V
,V W
ListX \
<\ ]#
QuestionOptionViewModel] t
>t u
optionsv }
)} ~
{ 	
try 
{ 
if 
( 
string 
. 
IsNullOrWhiteSpace -
(- .
quizQuestionDto. =
.= >
Question> F
)F G
)G H
throw   
new   
ArgumentException   /
(  / 0
$str  0 S
,  S T
nameof  U [
(  [ \
quizQuestionDto  \ k
.  k l
Question  l t
)  t u
)  u v
;  v w
if"" 
("" 
string"" 
."" 
IsNullOrWhiteSpace"" -
(""- .
quizQuestionDto"". =
.""= >
QuestionType""> J
)""J K
)""K L
throw## 
new## 
ArgumentException## /
(##/ 0
$str##0 W
,##W X
nameof##Y _
(##_ `
quizQuestionDto##` o
.##o p
QuestionType##p |
)##| }
)##} ~
;##~ 
quizQuestionDto%% 
.%%  
QuestionType%%  ,
=%%- .
quizQuestionDto%%/ >
.%%> ?
QuestionType%%? K
.%%K L
ToUpper%%L S
(%%S T
)%%T U
;%%U V
if'' 
('' 
!'' 
IsValidQuestionType'' (
(''( )
quizQuestionDto'') 8
.''8 9
QuestionType''9 E
)''E F
)''F G
throw(( 
new(( 
ArgumentException(( /
(((/ 0
$str((0 H
,((H I
nameof((J P
(((P Q
quizQuestionDto((Q `
.((` a
QuestionType((a m
)((m n
)((n o
;((o p
if** 
(** 
!** )
ValidateOptionsByQuestionType** 2
(**2 3
quizQuestionDto**3 B
.**B C
QuestionType**C O
,**O P
options**Q X
)**X Y
)**Y Z
throw++ 
new++ 
ArgumentException++ /
(++/ 0
$str++0 ^
,++^ _
nameof++` f
(++f g
options++g n
)++n o
)++o p
;++p q
if-- 
(-- 
!-- 
ValidateOptions-- $
(--$ %
quizQuestionDto--% 4
.--4 5
QuestionType--5 A
,--A B
options--C J
)--J K
)--K L
throw.. 
new.. 
ArgumentException.. /
(../ 0
$str..0 ^
,..^ _
nameof..` f
(..f g
options..g n
)..n o
)..o p
;..p q
var00 
quizQuestionEntity00 &
=00' (
new00) ,
QuizQuestion00- 9
{11 
QuizId22 
=22 
quizQuestionDto22 ,
.22, -
QuizId22- 3
,223 4
Question33 
=33 
quizQuestionDto33 .
.33. /
Question33/ 7
,337 8
QuestionType44  
=44! "
quizQuestionDto44# 2
.442 3
QuestionType443 ?
,44? @

QuestionNo55 
=55  
await55! &"
GetNextQuestionNoAsync55' =
(55= >
quizQuestionDto55> M
.55M N
QuizId55N T
)55T U
,55U V
	CreatedBy66 
=66 
$str66  ,
,66, -
	CreatedAt77 
=77 
DateTime77  (
.77( )
Now77) ,
}88 
;88 
await:: 
_LXPDbContext:: #
.::# $
QuizQuestions::$ 1
.::1 2
AddAsync::2 :
(::: ;
quizQuestionEntity::; M
)::M N
;::N O
await;; 
_LXPDbContext;; #
.;;# $
SaveChangesAsync;;$ 4
(;;4 5
);;5 6
;;;6 7
foreach== 
(== 
var== 
option== #
in==$ &
options==' .
)==. /
{>> 
var??  
questionOptionEntity?? ,
=??- .
new??/ 2
QuestionOption??3 A
{@@ 
QuizQuestionIdAA &
=AA' (
quizQuestionEntityAA) ;
.AA; <
QuizQuestionIdAA< J
,AAJ K
OptionBB 
=BB  
optionBB! '
.BB' (
OptionBB( .
,BB. /
	IsCorrectCC !
=CC" #
optionCC$ *
.CC* +
	IsCorrectCC+ 4
,CC4 5
	CreatedByDD !
=DD" #
$strDD$ 0
,DD0 1
	CreatedAtEE !
=EE" #
DateTimeEE$ ,
.EE, -
NowEE- 0
}FF 
;FF 
awaitHH 
_LXPDbContextHH '
.HH' (
QuestionOptionsHH( 7
.HH7 8
AddAsyncHH8 @
(HH@ A 
questionOptionEntityHHA U
)HHU V
;HHV W
}II 
awaitKK 
_LXPDbContextKK #
.KK# $
SaveChangesAsyncKK$ 4
(KK4 5
)KK5 6
;KK6 7
returnMM 
quizQuestionEntityMM )
.MM) *
QuizQuestionIdMM* 8
;MM8 9
}NN 
catchOO 
(OO 
ArgumentExceptionOO $
exOO% '
)OO' (
{PP 
throwQQ 
;QQ 
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
throwUU 
newUU %
InvalidOperationExceptionUU 3
(UU3 4
$strUU4 g
,UUg h
exUUi k
)UUk l
;UUl m
}VV 
}WW 	
private\\ 
bool\\ 
IsValidQuestionType\\ (
(\\( )
string\\) /
questionType\\0 <
)\\< =
{]] 	
return^^ 
questionType^^ 
==^^  "
QuestionTypes^^# 0
.^^0 1
MultiSelectQuestion^^1 D
||__ 
questionType__ 
==__  "
QuestionTypes__# 0
.__0 1
MultiChoiceQuestion__1 D
||`` 
questionType`` 
==``  "
QuestionTypes``# 0
.``0 1
TrueFalseQuestion``1 B
;``B C
}aa 	
publicee 
asyncee 
Taskee 
<ee 
boolee 
>ee 
UpdateQuestionAsyncee  3
(ee3 4
Guidee4 8
quizQuestionIdee9 G
,eeG H!
QuizQuestionViewModeleeI ^
quizQuestionDtoee_ n
,een o
Listeep t
<eet u$
QuestionOptionViewModel	eeu å
>
eeå ç
options
eeé ï
)
eeï ñ
{ff 	
trygg 
{hh 
varii 
quizQuestionEntityii &
=ii' (
awaitii) .
_LXPDbContextii/ <
.ii< =
QuizQuestionsii= J
.iiJ K
	FindAsynciiK T
(iiT U
quizQuestionIdiiU c
)iic d
;iid e
ifjj 
(jj 
quizQuestionEntityjj &
==jj' )
nulljj* .
)jj. /
returnkk 
falsekk  
;kk  !
ifmm 
(mm 
quizQuestionDtomm #
.mm# $
QuestionTypemm$ 0
.mm0 1
ToUppermm1 8
(mm8 9
)mm9 :
!=mm; =
quizQuestionEntitymm> P
.mmP Q
QuestionTypemmQ ]
)mm] ^
{nn 
throwoo 
newoo %
InvalidOperationExceptionoo 7
(oo7 8
$stroo8 Z
)ooZ [
;oo[ \
}pp 
quizQuestionEntityss "
.ss" #
Questionss# +
=ss, -
quizQuestionDtoss. =
.ss= >
Questionss> F
;ssF G
varvv 
existingOptionsvv #
=vv$ %
_LXPDbContextvv& 3
.vv3 4
QuestionOptionsvv4 C
.vvC D
WherevvD I
(vvI J
ovvJ K
=>vvL N
ovvO P
.vvP Q
QuizQuestionIdvvQ _
==vv` b
quizQuestionIdvvc q
)vvq r
.vvr s
ToListvvs y
(vvy z
)vvz {
;vv{ |
_LXPDbContextww 
.ww 
QuestionOptionsww -
.ww- .
RemoveRangeww. 9
(ww9 :
existingOptionsww: I
)wwI J
;wwJ K
foreachzz 
(zz 
varzz 
optionzz #
inzz$ &
optionszz' .
)zz. /
{{{ 
var||  
questionOptionEntity|| ,
=||- .
new||/ 2
QuestionOption||3 A
{}} 
QuizQuestionId~~ &
=~~' (
quizQuestionEntity~~) ;
.~~; <
QuizQuestionId~~< J
,~~J K
Option 
=  
option! '
.' (
Option( .
,. /
	IsCorrect
ÄÄ !
=
ÄÄ" #
option
ÄÄ$ *
.
ÄÄ* +
	IsCorrect
ÄÄ+ 4
,
ÄÄ4 5
	CreatedBy
ÅÅ !
=
ÅÅ" # 
quizQuestionEntity
ÅÅ$ 6
.
ÅÅ6 7
	CreatedBy
ÅÅ7 @
,
ÅÅ@ A
	CreatedAt
ÇÇ !
=
ÇÇ" # 
quizQuestionEntity
ÇÇ$ 6
.
ÇÇ6 7
	CreatedAt
ÇÇ7 @
}
ÉÉ 
;
ÉÉ 
await
ÖÖ 
_LXPDbContext
ÖÖ '
.
ÖÖ' (
QuestionOptions
ÖÖ( 7
.
ÖÖ7 8
AddAsync
ÖÖ8 @
(
ÖÖ@ A"
questionOptionEntity
ÖÖA U
)
ÖÖU V
;
ÖÖV W
}
ÜÜ 
if
ââ 
(
ââ 
!
ââ +
ValidateOptionsByQuestionType
ââ 2
(
ââ2 3 
quizQuestionEntity
ââ3 E
.
ââE F
QuestionType
ââF R
,
ââR S
options
ââT [
)
ââ[ \
)
ââ\ ]
throw
ää 
new
ää 
ArgumentException
ää /
(
ää/ 0
$str
ää0 ^
,
ää^ _
nameof
ää` f
(
ääf g
options
ääg n
)
ään o
)
ääo p
;
ääp q
await
åå 
_LXPDbContext
åå #
.
åå# $
SaveChangesAsync
åå$ 4
(
åå4 5
)
åå5 6
;
åå6 7
return
éé 
true
éé 
;
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 
throw
íí 
new
íí '
InvalidOperationException
íí 3
(
íí3 4
$str
íí4 i
,
ííi j
ex
íík m
)
íím n
;
íín o
}
ìì 
}
îî 	
public
ïï 
async
ïï 
Task
ïï 
<
ïï 
bool
ïï 
>
ïï !
DeleteQuestionAsync
ïï  3
(
ïï3 4
Guid
ïï4 8
quizQuestionId
ïï9 G
)
ïïG H
{
ññ 	
try
óó 
{
òò 
var
ôô  
quizQuestionEntity
ôô &
=
ôô' (
await
ôô) .
_LXPDbContext
ôô/ <
.
ôô< =
QuizQuestions
ôô= J
.
ôôJ K
	FindAsync
ôôK T
(
ôôT U
quizQuestionId
ôôU c
)
ôôc d
;
ôôd e
if
öö 
(
öö  
quizQuestionEntity
öö &
==
öö' )
null
öö* .
)
öö. /
return
õõ 
false
õõ  
;
õõ  !
_LXPDbContext
ùù 
.
ùù 
QuestionOptions
ùù -
.
ùù- .
RemoveRange
ùù. 9
(
ùù9 :
_LXPDbContext
ùù: G
.
ùùG H
QuestionOptions
ùùH W
.
ùùW X
Where
ùùX ]
(
ùù] ^
o
ùù^ _
=>
ùù` b
o
ùùc d
.
ùùd e
QuizQuestionId
ùùe s
==
ùùt v
quizQuestionIdùùw Ö
)ùùÖ Ü
)ùùÜ á
;ùùá à
_LXPDbContext
ûû 
.
ûû 
QuizQuestions
ûû +
.
ûû+ ,
Remove
ûû, 2
(
ûû2 3 
quizQuestionEntity
ûû3 E
)
ûûE F
;
ûûF G
await
üü 
_LXPDbContext
üü #
.
üü# $
SaveChangesAsync
üü$ 4
(
üü4 5
)
üü5 6
;
üü6 7 
ReorderQuestionNos
°° "
(
°°" # 
quizQuestionEntity
°°# 5
.
°°5 6
QuizId
°°6 <
,
°°< = 
quizQuestionEntity
°°> P
.
°°P Q

QuestionNo
°°Q [
)
°°[ \
;
°°\ ]
return
¢¢ 
true
¢¢ 
;
¢¢ 
}
££ 
catch
§§ 
(
§§ 
	Exception
§§ 
ex
§§ 
)
§§  
{
•• 
throw
¶¶ 
new
¶¶ '
InvalidOperationException
¶¶ 3
(
¶¶3 4
$str
¶¶4 i
,
¶¶i j
ex
¶¶k m
)
¶¶m n
;
¶¶n o
}
ßß 
}
®® 	
private
≠≠ 
void
≠≠  
ReorderQuestionNos
≠≠ '
(
≠≠' (
Guid
≠≠( ,
quizId
≠≠- 3
,
≠≠3 4
int
≠≠5 8
deletedQuestionNo
≠≠9 J
)
≠≠J K
{
ÆÆ 	
var
ØØ !
subsequentQuestions
ØØ #
=
ØØ$ %
_LXPDbContext
ØØ& 3
.
ØØ3 4
QuizQuestions
ØØ4 A
.
∞∞ 
Where
∞∞ 
(
∞∞ 
q
∞∞ 
=>
∞∞ 
q
∞∞ 
.
∞∞ 
QuizId
∞∞ $
==
∞∞% '
quizId
∞∞( .
&&
∞∞/ 1
q
∞∞2 3
.
∞∞3 4

QuestionNo
∞∞4 >
>
∞∞? @
deletedQuestionNo
∞∞A R
)
∞∞R S
.
±± 
ToList
±± 
(
±± 
)
±± 
;
±± 
foreach
≤≤ 
(
≤≤ 
var
≤≤ 
question
≤≤ !
in
≤≤" $!
subsequentQuestions
≤≤% 8
)
≤≤8 9
{
≥≥ 
question
¥¥ 
.
¥¥ 

QuestionNo
¥¥ #
--
¥¥# %
;
¥¥% &
}
µµ 
_LXPDbContext
∂∂ 
.
∂∂ 
SaveChanges
∂∂ %
(
∂∂% &
)
∂∂& '
;
∂∂' (
}
∑∑ 	
public
∫∫ 
List
∫∫ 
<
∫∫ %
QuizQuestionNoViewModel
∫∫ +
>
∫∫+ ,
GetAllQuestions
∫∫- <
(
∫∫< =
)
∫∫= >
{
ªª 	
try
ºº 
{
ΩΩ 
return
ææ 
_LXPDbContext
ææ $
.
ææ$ %
QuizQuestions
ææ% 2
.
øø 
Select
øø 
(
øø 
q
¿¿ 
=>
¿¿ 
new
¡¡ %
QuizQuestionNoViewModel
¡¡  7
{
¬¬ 
QuizId
√√  &
=
√√' (
q
√√) *
.
√√* +
QuizId
√√+ 1
,
√√1 2
QuizQuestionId
ƒƒ  .
=
ƒƒ/ 0
q
ƒƒ1 2
.
ƒƒ2 3
QuizQuestionId
ƒƒ3 A
,
ƒƒA B
Question
≈≈  (
=
≈≈) *
q
≈≈+ ,
.
≈≈, -
Question
≈≈- 5
,
≈≈5 6
QuestionType
∆∆  ,
=
∆∆- .
q
∆∆/ 0
.
∆∆0 1
QuestionType
∆∆1 =
,
∆∆= >

QuestionNo
««  *
=
««+ ,
q
««- .
.
««. /

QuestionNo
««/ 9
,
««9 :
Options
……  '
=
……( )
_LXPDbContext
……* 7
.
……7 8
QuestionOptions
……8 G
.
  $ %
Where
  % *
(
  * +
o
  + ,
=>
  - /
o
  0 1
.
  1 2
QuizQuestionId
  2 @
==
  A C
q
  D E
.
  E F
QuizQuestionId
  F T
)
  T U
.
ÀÀ$ %
Select
ÀÀ% +
(
ÀÀ+ ,
o
ÃÃ( )
=>
ÃÃ* ,
new
ÕÕ, /%
QuestionOptionViewModel
ÕÕ0 G
{
ŒŒ, -
Option
œœ0 6
=
œœ7 8
o
œœ9 :
.
œœ: ;
Option
œœ; A
,
œœA B
	IsCorrect
––0 9
=
––: ;
o
––< =
.
––= >
	IsCorrect
––> G
}
——, -
)
““$ %
.
””$ %
ToList
””% +
(
””+ ,
)
””, -
}
‘‘ 
)
’’ 
.
÷÷ 
ToList
÷÷ 
(
÷÷ 
)
÷÷ 
;
÷÷ 
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
ex
ÿÿ 
)
ÿÿ  
{
ŸŸ 
throw
⁄⁄ 
new
⁄⁄ '
InvalidOperationException
⁄⁄ 3
(
⁄⁄3 4
$str
€€ L
,
€€L M
ex
‹‹ 
)
›› 
;
›› 
}
ﬁﬁ 
}
ﬂﬂ 	
public
‚‚ 
async
‚‚ 
Task
‚‚ 
<
‚‚ 
List
‚‚ 
<
‚‚ %
QuizQuestionNoViewModel
‚‚ 6
>
‚‚6 7
>
‚‚7 8*
GetAllQuestionsByQuizIdAsync
‚‚9 U
(
‚‚U V
Guid
‚‚V Z
quizId
‚‚[ a
)
‚‚a b
{
„„ 	
try
‰‰ 
{
ÂÂ 
return
ÊÊ 
await
ÊÊ 
_LXPDbContext
ÊÊ *
.
ÊÊ* +
QuizQuestions
ÊÊ+ 8
.
ÁÁ 
Where
ÁÁ 
(
ÁÁ 
q
ÁÁ 
=>
ÁÁ 
q
ÁÁ  !
.
ÁÁ! "
QuizId
ÁÁ" (
==
ÁÁ) +
quizId
ÁÁ, 2
)
ÁÁ2 3
.
ËË 
Select
ËË 
(
ËË 
q
ËË 
=>
ËË  
new
ËË! $%
QuizQuestionNoViewModel
ËË% <
{
ÈÈ 
QuizId
ÍÍ 
=
ÍÍ  
q
ÍÍ! "
.
ÍÍ" #
QuizId
ÍÍ# )
,
ÍÍ) *
QuizQuestionId
ÎÎ &
=
ÎÎ' (
q
ÎÎ) *
.
ÎÎ* +
QuizQuestionId
ÎÎ+ 9
,
ÎÎ9 :
Question
ÏÏ  
=
ÏÏ! "
q
ÏÏ# $
.
ÏÏ$ %
Question
ÏÏ% -
,
ÏÏ- .
QuestionType
ÌÌ $
=
ÌÌ% &
q
ÌÌ' (
.
ÌÌ( )
QuestionType
ÌÌ) 5
,
ÌÌ5 6

QuestionNo
ÓÓ "
=
ÓÓ# $
q
ÓÓ% &
.
ÓÓ& '

QuestionNo
ÓÓ' 1
,
ÓÓ1 2
Options
ÔÔ 
=
ÔÔ  !
_LXPDbContext
ÔÔ" /
.
ÔÔ/ 0
QuestionOptions
ÔÔ0 ?
.
 
Where
 "
(
" #
o
# $
=>
% '
o
( )
.
) *
QuizQuestionId
* 8
==
9 ;
q
< =
.
= >
QuizQuestionId
> L
)
L M
.
ÒÒ 
Select
ÒÒ #
(
ÒÒ# $
o
ÒÒ$ %
=>
ÒÒ& (
new
ÒÒ) ,%
QuestionOptionViewModel
ÒÒ- D
{
ÒÒE F
Option
ÒÒG M
=
ÒÒN O
o
ÒÒP Q
.
ÒÒQ R
Option
ÒÒR X
,
ÒÒX Y
	IsCorrect
ÒÒZ c
=
ÒÒd e
o
ÒÒf g
.
ÒÒg h
	IsCorrect
ÒÒh q
}
ÒÒr s
)
ÒÒs t
.
ÚÚ 
ToList
ÚÚ #
(
ÚÚ# $
)
ÚÚ$ %
}
ÛÛ 
)
ÛÛ 
.
ÙÙ 
ToListAsync
ÙÙ  
(
ÙÙ  !
)
ÙÙ! "
;
ÙÙ" #
}
ıı 
catch
ˆˆ 
(
ˆˆ 
	Exception
ˆˆ 
ex
ˆˆ 
)
ˆˆ  
{
˜˜ 
throw
¯¯ 
new
¯¯ '
InvalidOperationException
¯¯ 3
(
¯¯3 4
$str
¯¯4 w
,
¯¯w x
ex
¯¯y {
)
¯¯{ |
;
¯¯| }
}
˘˘ 
}
˙˙ 	
public
˛˛ 
async
˛˛ 
Task
˛˛ 
<
˛˛ 
List
˛˛ 
<
˛˛ %
QuizQuestionNoViewModel
˛˛ 6
>
˛˛6 7
>
˛˛7 8"
GetAllQuestionsAsync
˛˛9 M
(
˛˛M N
)
˛˛N O
{
ˇˇ 	
try
ÄÄ 
{
ÅÅ 
return
ÇÇ 
await
ÇÇ 
_LXPDbContext
ÇÇ *
.
ÇÇ* +
QuizQuestions
ÇÇ+ 8
.
ÉÉ 
Select
ÉÉ 
(
ÉÉ 
q
ÉÉ 
=>
ÉÉ  
new
ÉÉ! $%
QuizQuestionNoViewModel
ÉÉ% <
{
ÑÑ 
QuizId
ÖÖ 
=
ÖÖ  
q
ÖÖ! "
.
ÖÖ" #
QuizId
ÖÖ# )
,
ÖÖ) *
QuizQuestionId
ÜÜ &
=
ÜÜ' (
q
ÜÜ) *
.
ÜÜ* +
QuizQuestionId
ÜÜ+ 9
,
ÜÜ9 :
Question
áá  
=
áá! "
q
áá# $
.
áá$ %
Question
áá% -
,
áá- .
QuestionType
àà $
=
àà% &
q
àà' (
.
àà( )
QuestionType
àà) 5
,
àà5 6

QuestionNo
ââ "
=
ââ# $
q
ââ% &
.
ââ& '

QuestionNo
ââ' 1
,
ââ1 2
Options
ää 
=
ää  !
_LXPDbContext
ää" /
.
ää/ 0
QuestionOptions
ää0 ?
.
ãã 
Where
ãã "
(
ãã" #
o
ãã# $
=>
ãã% '
o
ãã( )
.
ãã) *
QuizQuestionId
ãã* 8
==
ãã9 ;
q
ãã< =
.
ãã= >
QuizQuestionId
ãã> L
)
ããL M
.
åå 
Select
åå #
(
åå# $
o
åå$ %
=>
åå& (
new
åå) ,%
QuestionOptionViewModel
åå- D
{
ååE F
Option
ååG M
=
ååN O
o
ååP Q
.
ååQ R
Option
ååR X
,
ååX Y
	IsCorrect
ååZ c
=
ååd e
o
ååf g
.
ååg h
	IsCorrect
ååh q
}
åår s
)
åås t
.
çç 
ToList
çç #
(
çç# $
)
çç$ %
}
éé 
)
éé 
.
èè 
ToListAsync
èè  
(
èè  !
)
èè! "
;
èè" #
}
êê 
catch
ëë 
(
ëë 
	Exception
ëë 
ex
ëë 
)
ëë  
{
íí 
throw
ìì 
new
ìì '
InvalidOperationException
ìì 3
(
ìì3 4
$str
ìì4 l
,
ììl m
ex
ììn p
)
ììp q
;
ììq r
}
îî 
}
ïï 	
public
òò 
async
òò 
Task
òò 
<
òò %
QuizQuestionNoViewModel
òò 1
>
òò1 2"
GetQuestionByIdAsync
òò3 G
(
òòG H
Guid
òòH L
quizQuestionId
òòM [
)
òò[ \
{
ôô 	
try
öö 
{
õõ 
var
úú 
quizQuestion
úú  
=
úú! "
await
úú# (
_LXPDbContext
úú) 6
.
úú6 7
QuizQuestions
úú7 D
.
ùù 
Where
ùù 
(
ùù 
q
ùù 
=>
ùù 
q
ùù  !
.
ùù! "
QuizQuestionId
ùù" 0
==
ùù1 3
quizQuestionId
ùù4 B
)
ùùB C
.
ûû 
Select
ûû 
(
ûû 
q
ûû 
=>
ûû  
new
ûû! $
{
üü 
q
†† 
.
†† 
QuizId
††  
,
††  !
q
°° 
.
°° 
QuizQuestionId
°° (
,
°°( )
q
¢¢ 
.
¢¢ 
Question
¢¢ "
,
¢¢" #
q
££ 
.
££ 
QuestionType
££ &
,
££& '
q
§§ 
.
§§ 

QuestionNo
§§ $
,
§§$ %
Options
•• 
=
••  !
_LXPDbContext
••" /
.
••/ 0
QuestionOptions
••0 ?
.
¶¶ 
Where
¶¶ "
(
¶¶" #
o
¶¶# $
=>
¶¶% '
o
¶¶( )
.
¶¶) *
QuizQuestionId
¶¶* 8
==
¶¶9 ;
q
¶¶< =
.
¶¶= >
QuizQuestionId
¶¶> L
)
¶¶L M
.
ßß 
Select
ßß #
(
ßß# $
o
ßß$ %
=>
ßß& (
new
ßß) ,%
QuestionOptionViewModel
ßß- D
{
ßßE F
Option
ßßG M
=
ßßN O
o
ßßP Q
.
ßßQ R
Option
ßßR X
,
ßßX Y
	IsCorrect
ßßZ c
=
ßßd e
o
ßßf g
.
ßßg h
	IsCorrect
ßßh q
}
ßßr s
)
ßßs t
.
®® 
ToList
®® #
(
®®# $
)
®®$ %
}
©© 
)
©© 
.
™™ !
FirstOrDefaultAsync
™™ (
(
™™( )
)
™™) *
;
™™* +
if
¨¨ 
(
¨¨ 
quizQuestion
¨¨  
==
¨¨! #
null
¨¨$ (
)
¨¨( )
{
≠≠ 
return
ÆÆ 
null
ÆÆ 
;
ÆÆ  
}
ØØ 
return
±± 
new
±± %
QuizQuestionNoViewModel
±± 2
{
≤≤ 
QuizId
≥≥ 
=
≥≥ 
quizQuestion
≥≥ )
.
≥≥) *
QuizId
≥≥* 0
,
≥≥0 1
QuizQuestionId
¥¥ "
=
¥¥# $
quizQuestion
¥¥% 1
.
¥¥1 2
QuizQuestionId
¥¥2 @
,
¥¥@ A
Question
µµ 
=
µµ 
quizQuestion
µµ +
.
µµ+ ,
Question
µµ, 4
,
µµ4 5
QuestionType
∂∂  
=
∂∂! "
quizQuestion
∂∂# /
.
∂∂/ 0
QuestionType
∂∂0 <
,
∂∂< =

QuestionNo
∑∑ 
=
∑∑  
quizQuestion
∑∑! -
.
∑∑- .

QuestionNo
∑∑. 8
,
∑∑8 9
Options
∏∏ 
=
∏∏ 
quizQuestion
∏∏ *
.
∏∏* +
Options
∏∏+ 2
??
∏∏3 5
new
∏∏6 9
List
∏∏: >
<
∏∏> ?%
QuestionOptionViewModel
∏∏? V
>
∏∏V W
(
∏∏W X
)
∏∏X Y
}
ππ 
;
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
ex
ªª 
)
ªª  
{
ºº 
throw
ΩΩ 
new
ΩΩ '
InvalidOperationException
ΩΩ 3
(
ΩΩ3 4
$str
ΩΩ4 q
,
ΩΩq r
ex
ΩΩs u
)
ΩΩu v
;
ΩΩv w
}
ææ 
}
øø 	
public
¬¬ 
int
¬¬ 
GetNextQuestionNo
¬¬ $
(
¬¬$ %
Guid
¬¬% )
quizId
¬¬* 0
)
¬¬0 1
{
√√ 	
try
ƒƒ 
{
≈≈ 
return
∆∆ 
_LXPDbContext
∆∆ $
.
∆∆$ %
QuizQuestions
∆∆% 2
.
∆∆2 3
Where
∆∆3 8
(
∆∆8 9
q
∆∆9 :
=>
∆∆; =
q
∆∆> ?
.
∆∆? @
QuizId
∆∆@ F
==
∆∆G I
quizId
∆∆J P
)
∆∆P Q
.
∆∆Q R
Count
∆∆R W
(
∆∆W X
)
∆∆X Y
+
∆∆Z [
$num
∆∆\ ]
;
∆∆] ^
}
«« 
catch
»» 
(
»» 
	Exception
»» 
ex
»» 
)
»»  
{
…… 
throw
   
new
   '
InvalidOperationException
   3
(
  3 4
$str
ÀÀ R
,
ÀÀR S
ex
ÃÃ 
)
ÕÕ 
;
ÕÕ 
}
ŒŒ 
}
œœ 	
public
““ 
void
““ "
DecrementQuestionNos
““ (
(
““( )
Guid
““) -
deletedQuestionId
““. ?
)
““? @
{
”” 	
try
‘‘ 
{
’’ 
var
÷÷ 
deletedQuestion
÷÷ #
=
÷÷$ %
_LXPDbContext
÷÷& 3
.
÷÷3 4
QuizQuestions
÷÷4 A
.
÷÷A B
Find
÷÷B F
(
÷÷F G
deletedQuestionId
÷÷G X
)
÷÷X Y
;
÷÷Y Z
if
◊◊ 
(
◊◊ 
deletedQuestion
◊◊ #
==
◊◊$ &
null
◊◊' +
)
◊◊+ ,
return
ÿÿ 
;
ÿÿ 
var
⁄⁄ !
subsequentQuestions
⁄⁄ '
=
⁄⁄( )
_LXPDbContext
⁄⁄* 7
.
⁄⁄7 8
QuizQuestions
⁄⁄8 E
.
€€ 
Where
€€ 
(
€€ 
q
‹‹ 
=>
‹‹ 
q
›› 
.
›› 
QuizId
›› $
==
››% '
deletedQuestion
››( 7
.
››7 8
QuizId
››8 >
&&
ﬁﬁ 
q
ﬁﬁ  
.
ﬁﬁ  !

QuestionNo
ﬁﬁ! +
>
ﬁﬁ, -
deletedQuestion
ﬁﬁ. =
.
ﬁﬁ= >

QuestionNo
ﬁﬁ> H
)
ﬂﬂ 
.
‡‡ 
ToList
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡ 
foreach
·· 
(
·· 
var
·· 
question
·· %
in
··& (!
subsequentQuestions
··) <
)
··< =
{
‚‚ 
question
„„ 
.
„„ 

QuestionNo
„„ '
--
„„' )
;
„„) *
}
‰‰ 
_LXPDbContext
ÂÂ 
.
ÂÂ 
SaveChanges
ÂÂ )
(
ÂÂ) *
)
ÂÂ* +
;
ÂÂ+ ,
}
ÊÊ 
catch
ÁÁ 
(
ÁÁ 
	Exception
ÁÁ 
ex
ÁÁ 
)
ÁÁ  
{
ËË 
throw
ÈÈ 
new
ÈÈ '
InvalidOperationException
ÈÈ 3
(
ÈÈ3 4
$str
ÍÍ L
,
ÍÍL M
ex
ÎÎ 
)
ÏÏ 
;
ÏÏ 
}
ÌÌ 
}
ÓÓ 	
public
 
Guid
 
AddQuestionOption
 %
(
% &%
QuestionOptionViewModel
& =
questionOptionDto
> O
,
O P
Guid
Q U
quizQuestionId
V d
)
d e
{
ÒÒ 	
try
ÚÚ 
{
ÛÛ 
var
ÙÙ "
questionOptionEntity
ÙÙ (
=
ÙÙ) *
new
ÙÙ+ .
QuestionOption
ÙÙ/ =
{
ıı 
QuizQuestionId
ˆˆ "
=
ˆˆ# $
quizQuestionId
ˆˆ% 3
,
ˆˆ3 4
Option
˜˜ 
=
˜˜ 
questionOptionDto
˜˜ .
.
˜˜. /
Option
˜˜/ 5
,
˜˜5 6
	IsCorrect
¯¯ 
=
¯¯ 
questionOptionDto
¯¯  1
.
¯¯1 2
	IsCorrect
¯¯2 ;
,
¯¯; <
	CreatedBy
˘˘ 
=
˘˘ 
$str
˘˘  ,
,
˘˘, -
	CreatedAt
˙˙ 
=
˙˙ 
DateTime
˙˙  (
.
˙˙( )
Now
˙˙) ,
}
˚˚ 
;
˚˚ 
_LXPDbContext
˝˝ 
.
˝˝ 
QuestionOptions
˝˝ -
.
˝˝- .
Add
˝˝. 1
(
˝˝1 2"
questionOptionEntity
˝˝2 F
)
˝˝F G
;
˝˝G H
_LXPDbContext
˛˛ 
.
˛˛ 
SaveChanges
˛˛ )
(
˛˛) *
)
˛˛* +
;
˛˛+ ,
return
ÄÄ "
questionOptionEntity
ÄÄ +
.
ÄÄ+ ,
QuestionOptionId
ÄÄ, <
;
ÄÄ< =
}
ÅÅ 
catch
ÇÇ 
(
ÇÇ 
	Exception
ÇÇ 
ex
ÇÇ 
)
ÇÇ  
{
ÉÉ 
throw
ÑÑ 
new
ÑÑ '
InvalidOperationException
ÑÑ 3
(
ÑÑ3 4
$str
ÖÖ G
,
ÖÖG H
ex
ÜÜ 
)
áá 
;
áá 
}
àà 
}
ââ 	
public
ãã 
List
ãã 
<
ãã %
QuestionOptionViewModel
ãã +
>
ãã+ ,$
GetQuestionOptionsById
ãã- C
(
ããC D
Guid
ããD H
quizQuestionId
ããI W
)
ããW X
{
åå 	
try
çç 
{
éé 
return
èè 
_LXPDbContext
èè $
.
èè$ %
QuestionOptions
èè% 4
.
êê 
Where
êê 
(
êê 
o
êê 
=>
êê 
o
êê  !
.
êê! "
QuizQuestionId
êê" 0
==
êê1 3
quizQuestionId
êê4 B
)
êêB C
.
ëë 
Select
ëë 
(
ëë 
o
íí 
=>
íí 
new
íí  %
QuestionOptionViewModel
íí! 8
{
íí9 :
Option
íí; A
=
ííB C
o
ííD E
.
ííE F
Option
ííF L
,
ííL M
	IsCorrect
ííN W
=
ííX Y
o
ííZ [
.
íí[ \
	IsCorrect
íí\ e
}
ííf g
)
ìì 
.
îî 
ToList
îî 
(
îî 
)
îî 
;
îî 
}
ïï 
catch
ññ 
(
ññ 
	Exception
ññ 
ex
ññ 
)
ññ  
{
óó 
throw
òò 
new
òò '
InvalidOperationException
òò 3
(
òò3 4
$str
ôô P
,
ôôP Q
ex
öö 
)
õõ 
;
õõ 
}
úú 
}
ùù 	
public
üü 
async
üü 
Task
üü 
<
üü 
int
üü 
>
üü $
GetNextQuestionNoAsync
üü 5
(
üü5 6
Guid
üü6 :
quizId
üü; A
)
üüA B
{
†† 	
try
°° 
{
¢¢ 
int
££ 
count
££ 
=
££ 
await
££ !
_LXPDbContext
££" /
.
££/ 0
QuizQuestions
££0 =
.
§§ 
Where
§§ 
(
§§ 
q
§§ 
=>
§§ 
q
§§  !
.
§§! "
QuizId
§§" (
==
§§) +
quizId
§§, 2
)
§§2 3
.
•• 

CountAsync
•• 
(
••  
)
••  !
;
••! "
return
ßß 
count
ßß 
+
ßß 
$num
ßß  
;
ßß  !
}
®® 
catch
©© 
(
©© 
	Exception
©© 
ex
©© 
)
©©  
{
™™ 
throw
´´ 
new
´´ '
InvalidOperationException
´´ 3
(
´´3 4
$str
¨¨ a
,
¨¨a b
ex
≠≠ 
)
ÆÆ 
;
ÆÆ 
}
ØØ 
}
∞∞ 	
public
≥≥ 
bool
≥≥ +
ValidateOptionsByQuestionType
≥≥ 1
(
≥≥1 2
string
¥¥ 
questionType
¥¥ 
,
¥¥  
List
µµ 
<
µµ %
QuestionOptionViewModel
µµ (
>
µµ( )
options
µµ* 1
)
∂∂ 	
{
∑∑ 	
switch
∏∏ 
(
∏∏ 
questionType
∏∏  
)
∏∏  !
{
ππ 
case
∫∫ 
QuestionTypes
∫∫ "
.
∫∫" #!
MultiSelectQuestion
∫∫# 6
:
∫∫6 7
return
ªª 
options
ªª "
.
ªª" #
Count
ªª# (
>=
ªª) +
$num
ªª, -
&&
ºº 
options
ºº "
.
ºº" #
Count
ºº# (
<=
ºº) +
$num
ºº, -
&&
ΩΩ 
options
ΩΩ "
.
ΩΩ" #
Count
ΩΩ# (
(
ΩΩ( )
o
ΩΩ) *
=>
ΩΩ+ -
o
ΩΩ. /
.
ΩΩ/ 0
	IsCorrect
ΩΩ0 9
)
ΩΩ9 :
>=
ΩΩ; =
$num
ΩΩ> ?
&&
ææ 
options
ææ "
.
ææ" #
Count
ææ# (
(
ææ( )
o
ææ) *
=>
ææ+ -
o
ææ. /
.
ææ/ 0
	IsCorrect
ææ0 9
)
ææ9 :
<=
ææ; =
$num
ææ> ?
;
ææ? @
case
øø 
QuestionTypes
øø "
.
øø" #!
MultiChoiceQuestion
øø# 6
:
øø6 7
return
¿¿ 
options
¿¿ "
.
¿¿" #
Count
¿¿# (
==
¿¿) +
$num
¿¿, -
&&
¿¿. 0
options
¿¿1 8
.
¿¿8 9
Count
¿¿9 >
(
¿¿> ?
o
¿¿? @
=>
¿¿A C
o
¿¿D E
.
¿¿E F
	IsCorrect
¿¿F O
)
¿¿O P
==
¿¿Q S
$num
¿¿T U
;
¿¿U V
case
¡¡ 
QuestionTypes
¡¡ "
.
¡¡" #
TrueFalseQuestion
¡¡# 4
:
¡¡4 5
return
¬¬ 
options
¬¬ "
.
¬¬" #
Count
¬¬# (
==
¬¬) +
$num
¬¬, -
&&
¬¬. 0
options
¬¬1 8
.
¬¬8 9
Count
¬¬9 >
(
¬¬> ?
o
¬¬? @
=>
¬¬A C
o
¬¬D E
.
¬¬E F
	IsCorrect
¬¬F O
)
¬¬O P
==
¬¬Q S
$num
¬¬T U
;
¬¬U V
default
√√ 
:
√√ 
return
ƒƒ 
false
ƒƒ  
;
ƒƒ  !
}
≈≈ 
}
∆∆ 	
public
«« 
bool
«« 
ValidateOptions
«« #
(
««# $
string
««$ *
questionType
««+ 7
,
««7 8
List
««9 =
<
««= >%
QuestionOptionViewModel
««> U
>
««U V
options
««W ^
)
««^ _
{
»» 	
if
…… 
(
…… 
questionType
…… 
==
…… 
QuestionTypes
……  -
.
……- .
TrueFalseQuestion
……. ?
)
……? @
{
   
return
ÀÀ &
ValidateTrueFalseOptions
ÀÀ /
(
ÀÀ/ 0
options
ÀÀ0 7
)
ÀÀ7 8
;
ÀÀ8 9
}
ÃÃ 
else
ÕÕ 
{
ŒŒ 
return
œœ #
ValidateUniqueOptions
œœ ,
(
œœ, -
options
œœ- 4
)
œœ4 5
&&
–– +
ValidateOptionsByQuestionType
–– 4
(
––4 5
questionType
––5 A
,
––A B
options
––C J
)
––J K
;
––K L
}
—— 
}
““ 	
private
‘‘ 
bool
‘‘ &
ValidateTrueFalseOptions
‘‘ -
(
‘‘- .
List
‘‘. 2
<
‘‘2 3%
QuestionOptionViewModel
‘‘3 J
>
‘‘J K
options
‘‘L S
)
‘‘S T
{
’’ 	
if
◊◊ 
(
◊◊ 
options
◊◊ 
.
◊◊ 
Count
◊◊ 
!=
◊◊  
$num
◊◊! "
)
◊◊" #
return
ÿÿ 
false
ÿÿ 
;
ÿÿ 
var
€€ 

trueOption
€€ 
=
€€ 
options
€€ $
.
€€$ %
Any
€€% (
(
€€( )
o
€€) *
=>
€€+ -
o
€€. /
.
€€/ 0
Option
€€0 6
.
€€6 7
ToLower
€€7 >
(
€€> ?
)
€€? @
==
€€A C
$str
€€D J
)
€€J K
;
€€K L
var
‹‹ 
falseOption
‹‹ 
=
‹‹ 
options
‹‹ %
.
‹‹% &
Any
‹‹& )
(
‹‹) *
o
‹‹* +
=>
‹‹, .
o
‹‹/ 0
.
‹‹0 1
Option
‹‹1 7
.
‹‹7 8
ToLower
‹‹8 ?
(
‹‹? @
)
‹‹@ A
==
‹‹B D
$str
‹‹E L
)
‹‹L M
;
‹‹M N
return
ﬁﬁ 

trueOption
ﬁﬁ 
&&
ﬁﬁ  
falseOption
ﬁﬁ! ,
;
ﬁﬁ, -
}
ﬂﬂ 	
private
·· 
bool
·· #
ValidateUniqueOptions
·· *
(
··* +
List
··+ /
<
··/ 0%
QuestionOptionViewModel
··0 G
>
··G H
options
··I P
)
··P Q
{
‚‚ 	
var
‰‰ 
distinctOptions
‰‰ 
=
‰‰  !
options
‰‰" )
.
‰‰) *
Select
‰‰* 0
(
‰‰0 1
o
‰‰1 2
=>
‰‰3 5
o
‰‰6 7
.
‰‰7 8
Option
‰‰8 >
.
‰‰> ?
ToLower
‰‰? F
(
‰‰F G
)
‰‰G H
)
‰‰H I
.
‰‰I J
Distinct
‰‰J R
(
‰‰R S
)
‰‰S T
.
‰‰T U
Count
‰‰U Z
(
‰‰Z [
)
‰‰[ \
;
‰‰\ ]
return
ÂÂ 
distinctOptions
ÂÂ "
==
ÂÂ# %
options
ÂÂ& -
.
ÂÂ- .
Count
ÂÂ. 3
;
ÂÂ3 4
}
ÊÊ 	
}
ÁÁ 
}ËË ∆&
6D:\backend\LXP.Data\Repository\QuizReportRepository.cs
	namespace

 	
LXP


 
.

 
Data

 
.

 

Repository

 
{ 
public 

class  
QuizReportRepository %
:& '!
IQuizReportRepository( =
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public  
QuizReportRepository #
(# $
LXPDbContext$ 0
lXPDbContext1 =
)= >
{ 	
_lXPDbContext 
= 
lXPDbContext (
;( )
} 	
public 
IEnumerable 
< 
QuizReportViewModel .
>. /
GetQuizReports0 >
(> ?
)? @
{ 	
var 
quizReports 
= 
_lXPDbContext +
.+ ,
Quizzes, 3
. 
Select 
( 
q 
=> 
new  
{ 

courseName 
=  
q! "
." #
Course# )
.) *
Title* /
,/ 0
	topicName 
= 
q  !
.! "
Topic" '
.' (
Name( ,
,, -
quizName 
= 
q  
.  !

NameOfQuiz! +
,+ ,
QuizId 
= 
q 
. 
QuizId %
,% &
PassMark 
= 
q  
.  !
PassMark! )
,) *
} 
) 
.   
Select   
(   
q   
=>   
new    
QuizReportViewModel  ! 4
{!! 

CourseName"" 
=""  
q""! "
.""" #

courseName""# -
,""- .
	TopicName## 
=## 
q##  !
.##! "
	topicName##" +
,##+ ,
QuizName$$ 
=$$ 
q$$  
.$$  !
quizName$$! )
,$$) *
NoOfPassedUsers%% #
=%%$ %
_lXPDbContext%%& 3
.%%3 4
LearnerAttempts%%4 C
.&& 
Where&& 
(&& 
attempt&& &
=>&&' )
attempt&&* 1
.&&1 2
QuizId&&2 8
==&&9 ;
q&&< =
.&&= >
QuizId&&> D
)&&D E
.'' 
GroupBy''  
(''  !
attempt''! (
=>'') +
attempt'', 3
.''3 4
	LearnerId''4 =
)''= >
.(( 
Count(( 
((( 
group(( $
=>((% '
group((( -
.((- .
Max((. 1
(((1 2
attempt((2 9
=>((: <
attempt((= D
.((D E
Score((E J
)((J K
>=((L N
q((O P
.((P Q
PassMark((Q Y
)((Y Z
,((Z [
NoOfFailedUsers)) #
=))$ %
_lXPDbContext))& 3
.))3 4
LearnerAttempts))4 C
.** 
Where** 
(** 
attempt** &
=>**' )
attempt*** 1
.**1 2
QuizId**2 8
==**9 ;
q**< =
.**= >
QuizId**> D
)**D E
.++ 
GroupBy++  
(++  !
attempt++! (
=>++) +
attempt++, 3
.++3 4
	LearnerId++4 =
)++= >
.,, 
Count,, 
(,, 
group,, $
=>,,% '
group,,( -
.,,- .
Max,,. 1
(,,1 2
attempt,,2 9
=>,,: <
attempt,,= D
.,,D E
Score,,E J
),,J K
<,,L M
q,,N O
.,,O P
PassMark,,P X
),,X Y
,,,Y Z
AverageScore--  
=--! "
_lXPDbContext--# 0
.--0 1
LearnerAttempts--1 @
... 
Where.. 
(.. 
attempt.. &
=>..' )
attempt..* 1
...1 2
QuizId..2 8
==..9 ;
q..< =
...= >
QuizId..> D
)..D E
.// 
GroupBy//  
(//  !
attempt//! (
=>//) +
attempt//, 3
.//3 4
	LearnerId//4 =
)//= >
.00 
Select00 
(00  
group00  %
=>00& (
group00) .
.00. /
Max00/ 2
(002 3
attempt003 :
=>00; =
attempt00> E
.00E F
Score00F K
)00K L
)00L M
.11 
DefaultIfEmpty11 '
(11' (
)11( )
.22 
Average22  
(22  !
)22! "
}33 
)33 
;33 
return55 
quizReports55 
;55 
}66 	
}99 
}:: Â
0D:\backend\LXP.Data\Repository\QuizRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class 
QuizRepository 
:  !
IQuizRepository" 1
{ 
private 
readonly 
LXPDbContext %
_LXPDbContext& 3
;3 4
public

 
QuizRepository

 
(

 
LXPDbContext

 *
	dbContext

+ 4
)

4 5
{ 	
_LXPDbContext 
= 
	dbContext %
;% &
} 	
public 
void 
AddQuiz 
( 
Quiz  
quiz! %
)% &
{ 	
_LXPDbContext 
. 
Quizzes !
.! "
Add" %
(% &
quiz& *
)* +
;+ ,
_LXPDbContext 
. 
SaveChanges %
(% &
)& '
;' (
} 	
public 
Quiz 
GetQuizById 
(  
Guid  $
quizId% +
)+ ,
{ 	
return 
_LXPDbContext  
.  !
Quizzes! (
.( )
Find) -
(- .
quizId. 4
)4 5
;5 6
} 	
public 
IEnumerable 
< 
Quiz 
>  
GetAllQuizzes! .
(. /
)/ 0
{ 	
return 
_LXPDbContext  
.  !
Quizzes! (
.( )
ToList) /
(/ 0
)0 1
;1 2
} 	
public 
void 

UpdateQuiz 
( 
Quiz #
quiz$ (
)( )
{   	
_LXPDbContext!! 
.!! 
Quizzes!! !
.!!! "
Update!!" (
(!!( )
quiz!!) -
)!!- .
;!!. /
_LXPDbContext"" 
."" 
SaveChanges"" %
(""% &
)""& '
;""' (
}## 	
public%% 
void%% 

DeleteQuiz%% 
(%% 
Quiz%% #
quiz%%$ (
)%%( )
{&& 	
_LXPDbContext'' 
.'' 
Quizzes'' !
.''! "
Remove''" (
(''( )
quiz'') -
)''- .
;''. /
_LXPDbContext(( 
.(( 
SaveChanges(( %
(((% &
)((& '
;((' (
})) 	
public++ 
Topic++ 
GetTopicById++ !
(++! "
Guid++" &
topicId++' .
)++. /
{,, 	
return-- 
_LXPDbContext--  
.--  !
Topics--! '
.--' (
FirstOrDefault--( 6
(--6 7
t--7 8
=>--9 ;
t--< =
.--= >
TopicId--> E
==--F H
topicId--I P
)--P Q
;--Q R
}.. 	
public00 
Quiz00 
GetQuizByTopicId00 $
(00$ %
Guid00% )
topicId00* 1
)001 2
{11 	
return22 
_LXPDbContext22  
.22  !
Quizzes22! (
.22( )
FirstOrDefault22) 7
(227 8
q228 9
=>22: <
q22= >
.22> ?
TopicId22? F
==22G I
topicId22J Q
)22Q R
;22R S
}33 	
}44 
}55 ±(
,D:\backend\LXP.Data\Repository\Repository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class 

Repository 
: 
IRepository )
.) *
IRepository* 5
{ 
private		 
readonly		 
LXPDbContext		 %

_dbcontext		& 0
;		0 1
public 

Repository 
( 
LXPDbContext &
	dbcontext' 0
)0 1
{ 	

_dbcontext 
= 
	dbcontext "
;" #
} 	
public 
async 
Task 
CheckLearner &
(& '
Learner' .
learner/ 6
)6 7
{ 	
var 
db 
= 
new 
LXPDbContext %
(% &
)& '
;' (
await 
db 
. 
Learners 
. 
AddAsync &
(& '
learner' .
). /
;/ 0
await 
db 
. 
SaveChangesAsync %
(% &
)& '
;' (
} 	
public 
async 
Task 
< 
bool 
> 
AnyUserByEmail  .
(. /
string/ 5

loginmodel6 @
)@ A
{ 	
return 

_dbcontext 
. 
Learners &
.& '
Any' *
(* +
learner+ 2
=>3 5
learner6 =
.= >
Email> C
==D F

loginmodelG Q
)Q R
;R S
}   	
public!! 
async!! 
Task!! 
<!! 
bool!! 
>!! (
AnyLearnerByEmailAndPassword!!  <
(!!< =
string!!= C
Email!!D I
,!!I J
string!!K Q
Password!!R Z
)!!Z [
{"" 	
return## 
await## 

_dbcontext## #
.### $
Learners##$ ,
.##, -
AnyAsync##- 5
(##5 6
learner##6 =
=>##> @
learner##A H
.##H I
Email##I N
==##O Q
Email##R W
&&##X Z
learner##[ b
.##b c
Password##c k
==##l n
Password##o w
)##w x
;##x y
}$$ 	
public%% 
async%% 
Task%% 
<%% 
Learner%% !
>%%! "
GetLearnerByEmail%%# 4
(%%4 5
string%%5 ;
Email%%< A
)%%A B
{&& 	
return'' 
await'' 

_dbcontext'' #
.''# $
Learners''$ ,
.'', -
FirstOrDefaultAsync''- @
(''@ A
learner''A H
=>''I K
learner''L S
.''S T
Email''T Y
==''Z \
Email''] b
)''b c
;''c d
}(( 	
public++ 
async++ 
Task++ !
UpdateLearnerPassword++ /
(++/ 0
string++0 6
Email++7 <
,++< =
string++> D
Password++E M
)++M N
{,, 	
Learner-- 
learner-- 
=-- 
await-- #
GetLearnerByEmail--$ 5
(--5 6
Email--6 ;
)--; <
;--< =
learner.. 
... 
Password.. 
=.. 
Password.. '
;..' (

_dbcontext// 
.// 
Learners// 
.//  
Update//  &
(//& '
learner//' .
)//. /
;/// 0
await00 

_dbcontext00 
.00 
SaveChangesAsync00 -
(00- .
)00. /
;00/ 0
}11 	
public44 
async44 
Task44 
UpdatePassword44 (
(44( )
Learner44) 0
learner441 8
)448 9
{55 	

_dbcontext66 
.66 
Learners66 
.66  
Update66  &
(66& '
learner66' .
)66. /
;66/ 0
await88 

_dbcontext88 
.88 
SaveChangesAsync88 -
(88- .
)88. /
;88/ 0
}99 	
public== 
async== 
Task== 
<== 
Learner== !
>==! "%
LearnerByEmailAndPassword==# <
(==< =
string=== C
Email==D I
,==I J
string==K Q
Password==R Z
)==Z [
{?? 	
return@@ 
await@@ 

_dbcontext@@ #
.@@# $
Learners@@$ ,
.@@, -
FirstOrDefaultAsync@@- @
(@@@ A
learner@@A H
=>@@I K
learner@@L S
.@@S T
Email@@T Y
==@@Z \
Email@@] b
&&@@c e
learner@@f m
.@@m n
Password@@n v
==@@w y
Password	@@z Ç
)
@@Ç É
;
@@É Ñ
}AA 	
}DD 
}EE Ók
9D:\backend\LXP.Data\Repository\TopicFeedbackRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class #
TopicFeedbackRepository (
:) *$
ITopicFeedbackRepository+ C
{		 
private

 
readonly

 
LXPDbContext

 %

_dbContext

& 0
;

0 1
public #
TopicFeedbackRepository &
(& '
LXPDbContext' 3
	dbContext4 =
)= >
{ 	

_dbContext 
= 
	dbContext "
;" #
} 	
public 
void 
AddFeedbackQuestion '
(' (!
Topicfeedbackquestion( =
questionEntity> L
)L M
{ 	

_dbContext 
. "
Topicfeedbackquestions -
.- .
Add. 1
(1 2
questionEntity2 @
)@ A
;A B

_dbContext 
. 
SaveChanges "
(" #
)# $
;$ %
} 	
public 
void &
AddFeedbackQuestionOptions .
(. /
List/ 3
<3 4#
Feedbackquestionsoption4 K
>K L
optionsM T
)T U
{ 	

_dbContext 
. $
Feedbackquestionsoptions /
./ 0
AddRange0 8
(8 9
options9 @
)@ A
;A B

_dbContext 
. 
SaveChanges "
(" #
)# $
;$ %
} 	
public 
List 
< ,
 TopicFeedbackQuestionNoViewModel 4
>4 5#
GetAllFeedbackQuestions6 M
(M N
)N O
{ 	
return 

_dbContext 
. "
Topicfeedbackquestions 4
.   
Select   
(   
q   
=>   
new    ,
 TopicFeedbackQuestionNoViewModel  ! A
{!! #
TopicFeedbackQuestionId"" +
="", -
q"". /
.""/ 0#
TopicFeedbackQuestionId""0 G
,""G H
TopicId## 
=## 
q## 
.##  
TopicId##  '
,##' (

QuestionNo$$ 
=$$  
q$$! "
.$$" #

QuestionNo$$# -
,$$- .
Question%% 
=%% 
q%%  
.%%  !
Question%%! )
,%%) *
QuestionType&&  
=&&! "
q&&# $
.&&$ %
QuestionType&&% 1
,&&1 2
Options'' 
='' 

_dbContext'' (
.''( )$
Feedbackquestionsoptions'') A
.((( )
Where(() .
(((. /
o((/ 0
=>((1 3
o((4 5
.((5 6#
TopicFeedbackQuestionId((6 M
==((N P
q((Q R
.((R S#
TopicFeedbackQuestionId((S j
)((j k
.))( )
Select))) /
())/ 0
o))0 1
=>))2 4
new))5 81
%TopicFeedbackQuestionsOptionViewModel))9 ^
{**( )

OptionText++, 6
=++7 8
o++9 :
.++: ;

OptionText++; E
},,( )
),,) *
.,,* +
ToList,,+ 1
(,,1 2
),,2 3
}-- 
)-- 
.-- 
ToList-- 
(-- 
)-- 
;-- 
}.. 	
public00 
List00 
<00 ,
 TopicFeedbackQuestionNoViewModel00 4
>004 5)
GetFeedbackQuestionsByTopicId006 S
(00S T
Guid00T X
topicId00Y `
)00` a
{33 	
return44 

_dbContext44 
.44 "
Topicfeedbackquestions44 4
.55 
Where55 
(55 
q55 
=>55 
q55 
.55 
TopicId55 %
==55& (
topicId55) 0
)550 1
.66 
Select66 
(66 
q66 
=>66 
new66  ,
 TopicFeedbackQuestionNoViewModel66! A
{77 #
TopicFeedbackQuestionId88 +
=88, -
q88. /
.88/ 0#
TopicFeedbackQuestionId880 G
,88G H
TopicId99 
=99 
q99 
.99  
TopicId99  '
,99' (

QuestionNo:: 
=::  
q::! "
.::" #

QuestionNo::# -
,::- .
Question;; 
=;; 
q;;  
.;;  !
Question;;! )
,;;) *
QuestionType<<  
=<<! "
q<<# $
.<<$ %
QuestionType<<% 1
,<<1 2
Options== 
=== 

_dbContext== (
.==( )$
Feedbackquestionsoptions==) A
.>>( )
Where>>) .
(>>. /
o>>/ 0
=>>>1 3
o>>4 5
.>>5 6#
TopicFeedbackQuestionId>>6 M
==>>N P
q>>Q R
.>>R S#
TopicFeedbackQuestionId>>S j
)>>j k
.??( )
Select??) /
(??/ 0
o??0 1
=>??2 4
new??5 81
%TopicFeedbackQuestionsOptionViewModel??9 ^
{@@( )

OptionTextAA, 6
=AA7 8
oAA9 :
.AA: ;

OptionTextAA; E
}BB( )
)BB) *
.BB* +
ToListBB+ 1
(BB1 2
)BB2 3
}CC 
)CC 
.CC 
ToListCC 
(CC 
)CC 
;CC 
}DD 	
publicFF 
intFF %
GetNextFeedbackQuestionNoFF ,
(FF, -
GuidFF- 1
topicIdFF2 9
)FF9 :
{GG 	
varHH 
lastQuestionHH 
=HH 

_dbContextHH )
.HH) *"
TopicfeedbackquestionsHH* @
.II 
WhereII 
(II 
qII 
=>II 
qII 
.II 
TopicIdII %
==II& (
topicIdII) 0
)II0 1
.JJ 
OrderByDescendingJJ "
(JJ" #
qJJ# $
=>JJ% '
qJJ( )
.JJ) *

QuestionNoJJ* 4
)JJ4 5
.KK 
FirstOrDefaultKK 
(KK  
)KK  !
;KK! "
returnLL 
lastQuestionLL 
!=LL  "
nullLL# '
?LL( )
lastQuestionLL* 6
.LL6 7

QuestionNoLL7 A
+LLB C
$numLLD E
:LLF G
$numLLH I
;LLI J
}MM 	
publicOO ,
 TopicFeedbackQuestionNoViewModelOO /#
GetFeedbackQuestionByIdOO0 G
(OOG H
GuidOOH L#
topicFeedbackQuestionIdOOM d
)OOd e
{PP 	
varQQ 
feedbackQuestionQQ  
=QQ! "

_dbContextQQ# -
.QQ- ."
TopicfeedbackquestionsQQ. D
.RR 
WhereRR 
(RR 
qRR 
=>RR 
qRR 
.RR #
TopicFeedbackQuestionIdRR 5
==RR6 8#
topicFeedbackQuestionIdRR9 P
)RRP Q
.SS 
SelectSS 
(SS 
qSS 
=>SS 
newSS  
{TT 
qUU 
.UU #
TopicFeedbackQuestionIdUU -
,UU- .
qVV 
.VV 
TopicIdVV 
,VV 
qWW 
.WW 

QuestionNoWW  
,WW  !
qXX 
.XX 
QuestionXX 
,XX 
qYY 
.YY 
QuestionTypeYY "
,YY" #
OptionsZZ 
=ZZ 

_dbContextZZ (
.ZZ( )$
FeedbackquestionsoptionsZZ) A
.[[  !
Where[[! &
([[& '
o[[' (
=>[[) +
o[[, -
.[[- .#
TopicFeedbackQuestionId[[. E
==[[F H
q[[I J
.[[J K#
TopicFeedbackQuestionId[[K b
)[[b c
.\\  !
Select\\! '
(\\' (
o\\( )
=>\\* ,
new\\- 01
%TopicFeedbackQuestionsOptionViewModel\\1 V
{]]  !

OptionText^^$ .
=^^/ 0
o^^1 2
.^^2 3

OptionText^^3 =
}__  !
)__! "
.``  !
ToList``! '
(``' (
)``( )
}aa 
)aa 
.bb 
FirstOrDefaultbb 
(bb  
)bb  !
;bb! "
ifdd 
(dd 
feedbackQuestiondd  
==dd! #
nulldd$ (
)dd( )
{ee 
returnff 
nullff 
;ff 
}gg 
returnii 
newii ,
 TopicFeedbackQuestionNoViewModelii 7
{jj #
TopicFeedbackQuestionIdkk '
=kk( )
feedbackQuestionkk* :
.kk: ;#
TopicFeedbackQuestionIdkk; R
,kkR S
TopicIdll 
=ll 
feedbackQuestionll *
.ll* +
TopicIdll+ 2
,ll2 3

QuestionNomm 
=mm 
feedbackQuestionmm -
.mm- .

QuestionNomm. 8
,mm8 9
Questionnn 
=nn 
feedbackQuestionnn +
.nn+ ,
Questionnn, 4
,nn4 5
QuestionTypeoo 
=oo 
feedbackQuestionoo /
.oo/ 0
QuestionTypeoo0 <
,oo< =
Optionspp 
=pp 
feedbackQuestionpp *
.pp* +
Optionspp+ 2
??pp3 5
newpp6 9
Listpp: >
<pp> ?1
%TopicFeedbackQuestionsOptionViewModelpp? d
>ppd e
(ppe f
)ppf g
}qq 
;qq 
}rr 	
publictt 
voidtt "
UpdateFeedbackQuestiontt *
(tt* +!
Topicfeedbackquestiontt+ @
questionEntityttA O
)ttO P
{uu 	

_dbContextvv 
.vv 
SaveChangesvv "
(vv" #
)vv# $
;vv$ %
}ww 	
publicyy 
voidyy "
RemoveFeedbackQuestionyy *
(yy* +!
Topicfeedbackquestionyy+ @
questionEntityyyA O
)yyO P
{zz 	

_dbContext{{ 
.{{ "
Topicfeedbackquestions{{ -
.{{- .
Remove{{. 4
({{4 5
questionEntity{{5 C
){{C D
;{{D E

_dbContext|| 
.|| 
SaveChanges|| "
(||" #
)||# $
;||$ %
}}} 	
public 
void )
RemoveFeedbackQuestionOptions 1
(1 2
List2 6
<6 7#
Feedbackquestionsoption7 N
>N O
optionsP W
)W X
{
ÄÄ 	

_dbContext
ÅÅ 
.
ÅÅ &
Feedbackquestionsoptions
ÅÅ /
.
ÅÅ/ 0
RemoveRange
ÅÅ0 ;
(
ÅÅ; <
options
ÅÅ< C
)
ÅÅC D
;
ÅÅD E

_dbContext
ÇÇ 
.
ÇÇ 
SaveChanges
ÇÇ "
(
ÇÇ" #
)
ÇÇ# $
;
ÇÇ$ %
}
ÉÉ 	
public
ÖÖ 
void
ÖÖ  
ReorderQuestionNos
ÖÖ &
(
ÖÖ& '
Guid
ÖÖ' +
topicId
ÖÖ, 3
,
ÖÖ3 4
int
ÖÖ5 8
deletedQuestionNo
ÖÖ9 J
)
ÖÖJ K
{
ÜÜ 	
var
áá 
questionsToUpdate
áá !
=
áá" #

_dbContext
áá$ .
.
áá. /$
Topicfeedbackquestions
áá/ E
.
àà. /
Where
àà/ 4
(
àà4 5
q
àà5 6
=>
àà7 9
q
àà: ;
.
àà; <
TopicId
àà< C
==
ààD F
topicId
ààG N
&&
ààO Q
q
ààR S
.
ààS T

QuestionNo
ààT ^
>
àà_ `
deletedQuestionNo
ààa r
)
ààr s
.
ââ. /
OrderBy
ââ/ 6
(
ââ6 7
q
ââ7 8
=>
ââ9 ;
q
ââ< =
.
ââ= >

QuestionNo
ââ> H
)
ââH I
.
ää. /
ToList
ää/ 5
(
ää5 6
)
ää6 7
;
ää7 8
foreach
åå 
(
åå 
var
åå 
question
åå !
in
åå" $
questionsToUpdate
åå% 6
)
åå6 7
{
çç 
question
éé 
.
éé 

QuestionNo
éé #
--
éé# %
;
éé% &
}
èè 

_dbContext
êê 
.
êê 
SaveChanges
êê "
(
êê" #
)
êê# $
;
êê$ %
}
ëë 	
public
ìì 
List
ìì 
<
ìì %
Feedbackquestionsoption
ìì +
>
ìì+ ,,
GetFeedbackQuestionOptionsById
ìì- K
(
ììK L
Guid
ììL P%
topicFeedbackQuestionId
ììQ h
)
ììh i
{
îî 	
return
ïï 

_dbContext
ïï 
.
ïï &
Feedbackquestionsoptions
ïï 6
.
ññ 
Where
ññ 
(
ññ 
o
ññ 
=>
ññ 
o
ññ 
.
ññ %
TopicFeedbackQuestionId
ññ 5
==
ññ6 8%
topicFeedbackQuestionId
ññ9 P
)
ññP Q
.
óó 
ToList
óó 
(
óó 
)
óó 
;
óó 
}
òò 	
public
öö #
Topicfeedbackquestion
öö $0
"GetTopicFeedbackQuestionEntityById
öö% G
(
ööG H
Guid
ööH L%
topicFeedbackQuestionId
ööM d
)
ööd e
{
õõ 	
return
úú 

_dbContext
úú 
.
úú $
Topicfeedbackquestions
úú 4
.
úú4 5
FirstOrDefault
úú5 C
(
úúC D
q
úúD E
=>
úúF H
q
úúI J
.
úúJ K%
TopicFeedbackQuestionId
úúK b
==
úúc e%
topicFeedbackQuestionId
úúf }
)
úú} ~
;
úú~ 
}
ùù 	
}
ûû 
}üü »
:D:\backend\LXP.Data\Repository\UpdatePasswordRepository.cs
	namespace 	
LXP
 
. 
Data 
. 

Repository 
{ 
public 

class $
UpdatePasswordRepository )
:* +%
IUpdatePasswordRepository, E
{ 
private 
readonly 
LXPDbContext %

_dbcontext& 0
;0 1
public $
UpdatePasswordRepository '
(' (
LXPDbContext( 4
	dbcontext5 >
)> ?
{ 	

_dbcontext 
= 
	dbcontext "
;" #
} 	
public 
async 
Task 
< 
Learner !
>! "%
LearnerByEmailAndPassword# <
(< =
string= C
EmailD I
,I J
stringK Q
PasswordR Z
)Z [
{ 	
return 

_dbcontext 
. 
Learners &
.& '
FirstOrDefault' 5
(5 6
learner6 =
=>> @
learnerA H
.H I
EmailI N
==O Q
EmailR W
&&X Z
learner[ b
.b c
Passwordc k
==l n
Passwordo w
)w x
;x y
} 	
public 
void 
UpdatePassword "
(" #
Learner# *
learner+ 2
)2 3
{ 	

_dbcontext 
. 
Learners 
.  
Update  &
(& '
learner' .
). /
;/ 0

_dbcontext 
. 
SaveChangesAsync '
(' (
)( )
;) *
}   	
}$$ 
}%% ≤#
6D:\backend\LXP.Data\Repository\UserReportRepository.cs
	namespace

 	
LXP


 
.

 
Data

 
.

 

Repository

 
{ 
public 

class  
UserReportRepository %
:& '!
IUserReportRepository( =
{ 
private 
readonly 
LXPDbContext %
_lXPDbContext& 3
;3 4
public  
UserReportRepository #
(# $
LXPDbContext$ 0
lXPDbContext1 =
)= >
{ 	
_lXPDbContext 
= 
lXPDbContext (
;( )
} 	
public 
IEnumerable 
< 
UserReportViewModel .
>. /
GetUserReport0 =
(= >
)> ?
{ 	
var 
query 
= 
_lXPDbContext %
.% &
Learners& .
. 
Where 
( 
e 
=> 
e 
. 
Role  
!=  "
$str" )
)) *
. 
GroupBy 
( 
e 
=> 
e 
. 
	LearnerId &
)& '
. 
Select 
( 
grouped  
=>! #
new$ '
UserReportViewModel( ;
{
 
UserName 
= 
$" 
{ 
_lXPDbContext )
.) *
LearnerProfiles* 9
.9 :
Where: ?
(? @
x@ A
=>B D
xE F
.F G
	LearnerIdG P
.P Q
EqualsQ W
(W X
groupedX _
._ `
Key` c
)c d
)d e
.e f
Firstf k
(k l
)l m
.m n
	FirstNamen w
}w x
$strx y
{y z
_lXPDbContext	z á
.
á à
LearnerProfiles
à ó
.
ó ò
Where
ò ù
(
ù û
x
û ü
=>
† ¢
x
£ §
.
§ •
	LearnerId
• Æ
.
Æ Ø
Equals
Ø µ
(
µ ∂
grouped
∂ Ω
.
Ω æ
Key
æ ¡
)
¡ ¬
)
¬ √
.
√ ƒ
First
ƒ …
(
…  
)
  À
.
À Ã
LastName
Ã ‘
}
‘ ’
"
’ ÷
,
÷ ◊
	LearnerId 
= 
grouped !
.! "
Key" %
.% &
ToString& .
(. /
)/ 0
,0 1
EnrolledCourse 
= 
_lXPDbContext ,
., -
Enrollments- 8
. 
Where 
( 
e 
=> 
e 
. 
	LearnerId %
.% &
Equals& ,
(, -
grouped- 4
.4 5
Key5 8
)8 9
)9 :
.: ;
Count; @
(@ A
)A B
,B C
CompletedCourse 
= 
_lXPDbContext  -
.- .
Enrollments. 9
.   
Where   
(   
e   
=>   
e   
.   
	LearnerId   %
.  % &
Equals  & ,
(  , -
grouped  - 4
.  4 5
Key  5 8
)  8 9
)  9 :
.  : ;
Count  ; @
(  @ A
x  A B
=>  C E
x  F G
.  G H
CompletedStatus  H W
==  X Z
$num  [ \
)  \ ]
,  ] ^
	LastLogin!! 
=!! 
_lXPDbContext!! &
.!!& '
Learners!!' /
.!!/ 0
Where!!0 5
(!!5 6
x!!6 7
=>!!8 :
x!!; <
.!!< =
	LearnerId!!= F
.!!F G
Equals!!G M
(!!M N
grouped!!N U
.!!U V
Key!!V Y
)!!Y Z
)!!Z [
.!![ \
First!!\ a
(!!a b
)!!b c
.!!c d
UserLastLogin!!d q
}""
 
)"" 
;"" 
var%% 
userReports%% 
=%% 
query%% #
.%%# $
ToList%%$ *
(%%* +
)%%+ ,
;%%, -
return&& 
userReports&& 
;&& 
})) 	
}** 
}++ 